<!--Modal para introducir la ciudad-->
<p-dialog header="&nbsp;Datos de mapas ©2025 Google" [modal]="true" [(visible)]="this.mainModal"
  [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '50vw'}" (onHide)="closeDialog('map')"
  [draggable]="true">
  <div id="map_2" style="width: 100%; height: 25em; ">
  </div>
  <ng-template #footer>
    <button name="cityOfficeMap" pButton pRipple severity="success" class="my-auto mr-3" id="provButton2" type="button"
      (click)="showCityResultHome()">Guardar</button>
  </ng-template>
</p-dialog>
<!--Plantillas para el video de youtube-->
<ng-template #youtubePrefix><ion-icon name="logo-youtube" style="font-size: 16px; color:red;"></ion-icon>
</ng-template>
<ng-template #youtubeSuffix>
  <i nz-tooltip [nzTooltipTrigger]="'click'"
    nzTooltipTitle="Copia y pega el enlace de youtube que aparece arriba en la barra de navegación"
    class="bi bi-info-square"></i>
</ng-template>
<!-- Plantilla para introducir texto en los badges -->
<ng-template #badgeTextTemplate>
  <p-divider type="dashed"></p-divider>
  <div class="container d-flex text-nowrap mt-2">
    <input class="d-block w-100" id="textOptional" maxlength="25" nz-input #textOptional />
    <a class="add-item d-block mt-1 mx-auto text-muted" (click)="addText(textOptional)" nzTooltipPlacement="top"
      nz-tooltip nzTooltipTitle="Puedes añadir un texto adicional">
      <i class="bi bi-plus"></i><span>Texto</span>
    </a>
  </div>
</ng-template>
<!-- Plantilla para introducir números en los badges -->
<ng-template #renderTemplate>
  <p-divider type="dashed"></p-divider>
  <div class="container d-flex text-nowrap mt-2">
    <input class="d-block w-100" id="parkingOptional" nz-input #parkingOptional (keypress)="numberOnly($event)" />
    <a class="add-item d-block mx-auto mt-1 text-muted" (click)="addParkingPrice(parkingOptional)"
      nzTooltipPlacement="top" nz-tooltip
      nzTooltipTitle="Puedes añadir el precio adicional de venta o de alquiler de la plaza">
      <i class="bi bi-plus"></i><span>Precio</span>
    </a>
  </div>
</ng-template>


<!--Main navbar-->
<header class="header">
  <nav class="nav container">
    <div class="nav__data ">
      <a class="nav__logo">
        <img src="assets/images/logo.png" class="logo w-100" alt="" style="max-height: 1.6em; max-width: 12.8em;"
          routerLink="/_es">
      </a>
      <div class="nav__toggle" id="nav-toggle">
        <i class="ri-menu-line nav__toggle-menu"></i>
        <i class="ri-close-line nav__toggle-close"></i>
      </div>
      <!-- Botones de login y nz-dropdown para resoluciones xs y s -->
      <div *ngIf="this.loginButtonsSmallSize && !this.state" style="position: fixed; top:.5em; right:.5em;"
        class="d-flex flex-row">
        <a class="button is-dark is-small" style="background-color: #3a3b3c;" pRipple routerLink="/register"
          *ngIf='!this.state'>
          <strong>Unirse</strong>
        </a>
        <a class="button is-light is-small ml-2" style="color: #3a3b3c;" pRipple routerLink="/login"
          *ngIf='!this.state'>
          Entrar
        </a>
      </div>
      <div *ngIf="this.loginButtonsSmallSize && this.state" style="position:fixed;  right: .5em;" class="">
        <a class="navbar-item" nz-dropdown [nzDropdownMenu]="menu" id="navbarDropdown" role="button"
          aria-expanded="false" aria-haspopup="true" *ngIf='this.state'>
          <img height="42" width="42" class="rounded-circle img-fluid" style="border: 1px #b4b4b4 solid;" alt="avatar2"
            [attr.src]="this.getProfileImage()" />
        </a>
        <nz-dropdown-menu #menu="nzDropdownMenu" nzPlacement="bottomRight">
          <ul nz-menu nzSelectable>
            <li nz-menu-item><a *ngIf='this.state' routerLink="/user/management">
                <ion-icon name="person-outline" style="position: relative; top: 2px;"></ion-icon> {{user?.username}}
              </a></li>

            <li nz-menu-item><a *ngIf='this.state'><ion-icon name="notifications-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>
                <p-badge styleClass="mr-2" [value]="2" severity="info"></p-badge>
                Notificaciones</a></li>

            <li nz-menu-item><a (click)="myFavourites()"><ion-icon
                  style="position: relative; top: 2px; font-size:16px; color:dodgerblue;" name="heart"></ion-icon>
                Guardadas</a></li>
            <li nz-menu-item><a routerLink="/user-pro"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="speedometer-outline"></ion-icon> Pro-area</a></li>
            <li nz-menu-item><a routerLink="/admin"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="person-circle-outline"></ion-icon> Admin-area</a></li>

            <li nz-submenu [nzTitle]="'Publicar'">
              <ul>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Nueva propiedad');this.homeDto.prototipo='Vivienda'"><i
                      class="bi bi-house mr-2"></i>&nbsp;Vivienda</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Proyecto nuevo');this.homeDto.prototipo='Vivienda'"><i
                      class="bi bi-houses mr-2"></i>
                    &nbsp;Proyecto</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Oficina');this.homeDto.prototipo='Oficina';this.homeDto.tipo='Oficina'"><i
                      class="bi bi-person-workspace mr-2"></i>&nbsp;Oficina</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Edificio');this.homeDto.prototipo='Edificio';this.homeDto.tipo='Edificio'"><i
                      class="bi bi-building mr-2"></i>&nbsp;Edificio</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Negocio');this.homeDto.prototipo='Negocio';this.homeDto.tipo='Negocio'"><i
                      class="bi bi-shop mr-2"></i>&nbsp;Local o nave</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Parcela');this.homeDto.prototipo='Suelo';this.homeDto.tipo='Suelo'"><i
                      class="bi bi-fullscreen mr-2"></i>&nbsp;Terreno</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Garage');this.homeDto.prototipo='Garage';this.homeDto.tipo='Garage'"><i
                      class="bi bi-p-square mr-2"></i>&nbsp;Garage</a></li>
                <li nz-menu-item><a *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Trastero');this.homeDto.prototipo='Trastero';this.homeDto.tipo='Trastero'"><i
                      class="bi bi-door-closed mr-2"></i>&nbsp;Trastero</a></li>
                <!--<li nz-menu-item><a *ngIf='this.state' (click)="createLocationMarker();setAdTitle('Alojamiento vacacional')"><i class="bi bi-building-fill-add"></i>&nbsp;Alojamiento vacacional</a></li>-->
              </ul>
            </li>
            <li nz-menu-item><a *ngIf='this.state' (click)="onLogOut()" routerLink="/home">
                <ion-icon name="log-out-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>&nbsp;Salir</a></li>
          </ul>
        </nz-dropdown-menu>
      </div>
    </div>
    <!--=============== NAV MENU ===============-->
    <div class="nav__menu" id="nav-menu">
      <ul class="nav__list my-auto">
        <!--=============== DROPDOWN 1 ===============-->
        <li class="dropdown__item">
          <div class="nav__link dropdown__button" (click)="printDate()">
            Menu <i class="ri-arrow-down-s-line dropdown__arrow"></i>
          </div>
          <div class="dropdown__container">
            <div class="dropdown__content">
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-home-line"></i>
                </div>
                <span class="dropdown__title">Lo que estás buscando</span>
                <ul class="dropdown__list">
                  <li>
                    <a class="dropdown__link" (click)="printDate()">Comprar</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Vender</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Vendido</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Compartir</a>
                  </li>
                </ul>
              </div>
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-heart-3-line"></i>
                </div>

                <span class="dropdown__title">2025</span>

                <ul class="dropdown__list">
                  <li>
                    <a class="dropdown__link">Guias</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Servicios</a>
                  </li>
                  <li>
                    <a (click)="showPricingDrawer()" class="dropdown__link">Noticias</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Comercial</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Vivir en España</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Ayuda</a>
                  </li>
                </ul>
              </div>
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-book-mark-line"></i>
                </div>

                <span class="dropdown__title">Careers</span>

                <ul class="dropdown__list">
                  <li>
                    <a class="dropdown__link">Web development</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Applications development</a>
                  </li>
                  <li>
                    <a class="dropdown__link">UI/UX design</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Informatic security</a>
                  </li>
                </ul>
              </div>
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-file-paper-2-line"></i>
                </div>
                <span class="dropdown__title">Certifications</span>
                <ul class="dropdown__list">
                  <li>
                    <a class="dropdown__link">Course certificates</a>
                  </li>
                  <li>
                    <a class="dropdown__link">Free certifications</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li>
        <!--=============== DROPDOWN 3 ===============-->
        <li>
          <a *ngIf="this.searchOption!='Negocio'" class="nav__link" nzTrigger="click"
            (click)="clickButton('nav-toggle')" nz-dropdown [nzDropdownMenu]="typeMenu"> {{this.searchOption}}
            <i class="ri-arrow-down-s-fill ml-2"></i>
          </a>
          <a *ngIf="this.searchOption=='Negocio'" class="nav__link" nzTrigger="click"
            (click)="clickButton('nav-toggle')" nz-dropdown [nzDropdownMenu]="typeMenu"> Local o nave
            <i class="ri-arrow-down-s-fill ml-2"></i>
          </a>
          <nz-dropdown-menu #typeMenu="nzDropdownMenu">
            <ul nz-menu nzSelectable>
              <li nz-menu-item
                (click)="this.searchOption='Vivienda';this.homeDto.prototipo='Vivienda';filterSearchForm.resetForm();clearMap('full-clear');"
                onclick="uncheck()"><i class="bi bi-house mr-2"></i>Viviendas</li>
              <li nz-menu-item
                (click)="this.searchOption='Oficina';this.homeDto.prototipo='Oficina';filterSearchForm.resetForm();clearMap('full-clear');filter('Oficina','prototipo')"
                onclick="uncheck()"><i class="bi bi-person-workspace mr-2"></i>Oficinas</li>
              <li nz-menu-item
                (click)="this.searchOption='Edificio';this.homeDto.prototipo='Edificio';filterSearchForm.resetForm();clearMap('full-clear');filter('Edificio','prototipo')"
                onclick="uncheck()"><i class="bi bi-building mr-2"></i>Edificios</li>
              <li nz-menu-item
                (click)="this.searchOption='Negocio';this.homeDto.prototipo='Negocio';filterSearchForm.resetForm();clearMap('full-clear');filter('Negocio','prototipo')"
                onclick="uncheck()"><i class="bi bi-shop mr-2"></i>Locales y naves</li>
              <li nz-menu-item
                (click)="this.searchOption='Suelo';this.homeDto.prototipo='Suelo';filterSearchForm.resetForm();clearMap('full-clear');filter('Suelo','prototipo')"
                onclick="uncheck()"><i class="bi bi-fullscreen mr-2"></i>Terrenos</li>
              <li nz-menu-item
                (click)="this.searchOption='Garage';this.homeDto.prototipo='Garage';filterSearchForm.resetForm();clearMap('full-clear');filter('Garage','prototipo')"
                onclick="uncheck()"><i class="bi bi-p-square mr-2"></i>Garages</li>
              <li nz-menu-item
                (click)="this.searchOption='Trastero';this.homeDto.prototipo='Trastero';filterSearchForm.resetForm();clearMap('full-clear');filter('Trastero','prototipo')"
                onclick="uncheck()"><i class="bi bi-door-closed mr-2"></i>Trasteros</li>
              <li nz-menu-item nzDisabled
                (click)="this.searchOption='Vacacional';this.homeDto.prototipo='Vacacional';filterSearchForm.resetForm();clearMap('full-clear');filter('Vacacional','prototipo')"
                onclick="uncheck()"><i class="bi bi-sun mr-2"></i>Alquiler vacacional</li>
            </ul>
          </nz-dropdown-menu>
        </li>
        <li class="dropdown__item">
          <div class="nav__link dropdown__button">
            BOTON <i class="ri-arrow-down-s-line dropdown__arrow"></i>
          </div>
          <div class="dropdown__container">
            <div class="dropdown__content">
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-global-line"></i>
                </div>

                <span class="dropdown__title">Sobre nosotros</span>
                <ul class="dropdown__list">
                  <li>
                    <a (click)="showDialog('new-other-modal')" class="dropdown__link">Nuestra misión</a>
                  </li>
                  <li>
                    <a class="dropdown__link">
                      <span>Política de privacidad</span>
                    </a>
                  </li>
                  <li>
                    <a class="dropdown__link">
                      <span>Política de cookies</span>
                    </a>
                  </li>
                  <li>
                    <div class="d-flex flex-row">
                      <a class="dropdown__link">
                        <span>Contacto</span>
                      </a>
                      <a class="dropdown__link ml-2"><i class="bi bi-facebook"></i></a>
                      <a class="dropdown__link ml-2"><i class="bi bi-instagram"></i></a>
                      <a class="dropdown__link ml-2"><i class="bi bi-twitter-x"></i></a>
                      <a class="dropdown__link ml-2"><i class="bi bi-pinterest"></i></a>
                      <a class="dropdown__link ml-2"><i class="bi bi-envelope"></i></a>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="dropdown__group">
                <div class="dropdown__icon">
                  <i class="ri-shield-line"></i>
                </div>
                <span class="dropdown__title">Talento</span>
                <ul class="dropdown__list">
                  <li>
                    <a class="dropdown__link">
                      <span>Ofertas disponibles</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li>
        <li>
          <a class="nav__link" (click)="this.sidebarVisible = true;clickButton('nav-toggle')"> Filtros
            <i class="ri-equalizer-line ml-2"></i>
          </a>
        </li>
        <li>
          <a class="nav__link" id="listado-button" (click)="sidenav.toggle();clickButton('nav-toggle')"> Listado
            <i class="ri-list-ordered-2 ml-2"></i>
          </a>
        </li>
        <li *ngIf="!this.state && !this.loginButtonsSmallSize">
          <div class="buttons bulma-box mx-auto">
            <a class="button is-dark" style="background-color: #3a3b3c;" pRipple routerLink="/register"
              *ngIf='!this.state'>
              <strong>Unirse</strong>
            </a>
            <a class="button is-light" style="color: #3a3b3c;" pRipple routerLink="/login" *ngIf='!this.state'>
              Entrar
            </a>
          </div>
        </li>
        <li *ngIf="this.state && !this.loginButtonsSmallSize" class="dropdown__item" nz-dropdown
          [nzDropdownMenu]="menu1" id="navbarDropdown"><!--quitar show-dropdown-->
          <a class="nav__link dropdown__button" aria-expanded="false" aria-haspopup="true">
            <img height="55" width="55" class="rounded-circle img-fluid" style="border: 1px #b4b4b4 solid;"
              alt="avatar2" [attr.src]="this.getProfileImage()" />
          </a>
          <nz-dropdown-menu #menu1="nzDropdownMenu" nzPlacement="bottomLeft">
            <ul nz-menu nzSelectable>
              <li nz-menu-item><a *ngIf='this.state' routerLink="/user/management">
                  <ion-icon name="person-outline" style="position: relative; top: 2px;"></ion-icon> {{user?.username}}
                </a></li>

              <li nz-menu-item><a *ngIf='this.state'><ion-icon name="notifications-outline"
                    style="position: relative; top: 2px; font-size:16px;"></ion-icon>
                  <p-badge styleClass="mr-2" [value]="2" severity="info"></p-badge>
                  Notificaciones</a></li>

              <li nz-menu-item><a (click)="myFavourites()"><ion-icon
                    style="position: relative; top: 2px; font-size:16px; color: dodgerblue;" name="heart"></ion-icon>
                  Guardadas</a></li>
              <li nz-menu-item><a routerLink="/user-pro"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                    name="speedometer-outline"></ion-icon> Pro-area</a></li>
              <li nz-menu-item><a routerLink="/admin"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                    name="person-circle-outline"></ion-icon> Admin-area</a></li>

              <li nz-submenu [nzTitle]="'Publicar'">
                <ul>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Nueva propiedad');this.homeDto.prototipo='Vivienda'"><i
                        class="bi bi-house mr-2"></i>&nbsp;Vivienda</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Proyecto nuevo');this.homeDto.prototipo='Vivienda'"><i
                        class="bi bi-houses mr-2"></i>
                      &nbsp;Proyecto</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Oficina');this.homeDto.prototipo='Oficina';this.homeDto.tipo='Oficina'"><i
                        class="bi bi-person-workspace mr-2"></i>&nbsp;Oficina</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Edificio');this.homeDto.prototipo='Edificio';this.homeDto.tipo='Edificio'"><i
                        class="bi bi-building mr-2"></i>&nbsp;Edificio</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Negocio');this.homeDto.prototipo='Negocio';this.homeDto.tipo='Negocio'"><i
                        class="bi bi-shop mr-2"></i>&nbsp;Local o nave</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Parcela');this.homeDto.prototipo='Suelo';this.homeDto.tipo='Suelo'"><i
                        class="bi bi-fullscreen mr-2"></i>&nbsp;Terreno</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Garage');this.homeDto.prototipo='Garage';this.homeDto.tipo='Garage'"><i
                        class="bi bi-p-square mr-2"></i>&nbsp;Garage</a></li>
                  <li nz-menu-item><a *ngIf='this.state'
                      (click)="createLocationMarker();setAdTitle('Trastero');this.homeDto.prototipo='Trastero';this.homeDto.tipo='Trastero'"><i
                        class="bi bi-door-closed mr-2"></i>&nbsp;Trastero</a></li>
                  <!--<li nz-menu-item><a *ngIf='this.state' (click)="createLocationMarker();setAdTitle('Alojamiento vacacional')"><i class="bi bi-building-fill-add"></i>&nbsp;Alojamiento vacacional</a></li>-->
                </ul>
              </li>
              <li nz-menu-item><a *ngIf='this.state' (click)="onLogOut()" routerLink="/home">
                  <ion-icon name="log-out-outline"
                    style="position: relative; top: 2px; font-size:16px;"></ion-icon>&nbsp;Salir</a></li>
            </ul>
          </nz-dropdown-menu>
        </li>
      </ul>
    </div>
  </nav>
</header>
<!--<ng-progress ngProgressHttp></ng-progress>-->

<!---->
<p-dialog [modal]="true" [(visible)]="newOtherModal" *ngIf="adTitleAction$ | async as title" [header]="title"
  [breakpoints]="{ '2199px': '42vw','1335px':'50vw','1199px':'52vw','991px':'60vw','767px':'72vw' ,'575px': '100vw' }"
  (onHide)="closeDialog('new-other-modal')" class="p-0">
  <!-- Modal body -->
  <div class="modal-card-body p-0">
    <!--<ng-scrollbar trackClass="vertical">-->
    <mat-tab-group class="p-0 w-100">
      <form #newOtherForm="ngForm" (ngSubmit)="newHome()" id="newOtherForm" class="p-0">
        <!-- Tabs para oficina -->
        <mat-tab label="General" class="p-0"> <!--*ngIf="this.adTitle.getValue()=='Oficina'"-->
          <!-- Tipo de vía, nombre y número -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label for="tipodeviaOffice" class="required text-nowrap">Tipo de vía</label>
              <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodeviaOffice
                name="tipodeviaOffice" class="form-control viaSelectOffice" nzPlaceHolder="Calle, avenida, plaza..."
                [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipoDeVia" required
                (nzOpenChange)="rotateArrows($event,'viaSelectOffice')">
                <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
              <label for="calleOffice" class="required">Nombre</label>
              <input #calleOffice nz-input placeholder="Nombre de la vía p. ej. Paseo de la Castellana..."
                [(ngModel)]="this.homeDto.calle" name="calleOffice" class="form-control" required />
            </div>
            <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
              <label for="numeroOffice" class="required text-nowrap">Numero</label>
              <input nz-input #numeroOffice placeholder="Número" class="form-control p-1" ngModel pattern="\d*"
                maxlength="6" (keypress)="numberOnly($event)" name="numeroOffice" [(ngModel)]="this.homeDto.numero"
                required />
            </div>
          </div>
          <!-- Código postal, distrito, superficie y baños -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12">
              <label for="cpOffice" class="required">CP</label>
              <input nz-input #cpOffice placeholder="Código postal" ngModel pattern="\d*" maxlength="5"
                (keypress)="numberOnly($event)" name="cpOffice" class="form-control p-1" [(ngModel)]="this.homeDto.cp"
                required />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label for="distritoOffice" class="required">Distrito</label>
              <input nz-input #distritoOffice placeholder="Distrito" [(ngModel)]="this.homeDto.distrito"
                name="distritoOffice" class="form-control" required />
            </div>
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 align-self-start">
              <label for="superficieOffice" class="required">Superficie</label>
              <input #superficieOffice nz-input ngModel pattern="\d*" maxlength="20" (keypress)="numberOnly($event)"
                name="superficieOffice" class="form-control" [(ngModel)]="this.homeDto.superficie" required
                placeholder="M²" />
            </div>
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-6 align-self-start">
              <label for="banyosOffice" class="required text-nowrap">Aseos</label>
              <input nz-input #banyosOffice ngModel pattern="\d*" maxlength="1" (keypress)="numberOnly($event)"
                name="banyosOffice" class="form-control" [(ngModel)]="this.homeDto.aseos" required placeholder="0" />
            </div>
          </div>
          <!-- Disposición, piso y ciudad -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label for="disposicionOffice" class="text-nowrap">Disposición</label>
              <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #disposicionOffice
                name="disposicionOffice" class="form-control disposicionOffice" nzPlaceHolder="Ubicación"
                [nzSize]="sizeM" [(ngModel)]="this.homeDto.disposicion" required
                (nzOpenChange)="rotateArrows($event,'disposicionOffice')">
                <nz-option *ngFor="let opt of disposicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 col-xs-12" *ngIf="this.homeDto.disposicion=='Piso'">
              <label for="pisoOffice">Piso</label>
              <nz-input-group>
                <div nz-row>
                  <div nz-col nzSpan="10" class="float-start">
                    <input nz-input #pisoOffice placeholder="Piso" ngModel pattern="\d*" maxlength="4"
                      (keypress)="numberOnly($event)" name="pisoOffice" [(ngModel)]="this.homeDto.piso" />
                  </div>
                  <div nz-col nzSpan="4" class="text-center">
                    <label class="mt-1">de</label>
                  </div>
                  <div nz-col nzSpan="10" class="float-end">
                    <input nz-input #plantaMasAltaOffice ngModel pattern="\d*" maxlength="4"
                      (keypress)="numberOnly($event)" name="plantaMasAltaOffice"
                      [(ngModel)]="this.homeDto.plantaMasAlta" />
                  </div>
                </div>
              </nz-input-group>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 flex-column d-flex">
              <div class="row px-3 d-flex flex-column">
                <label for="cityOffice" class="required d-flex pl-0">Ciudad</label>
                <button name="cityOffice" class="button is-danger is-outlined is-small provButton" type="button"
                  (click)="locationMap('map_2')">Ciudad</button>
                <input #ciudadOffice nz-input ngModel name="ciudadoOffice" class="form-control"
                  [(ngModel)]="this.homeDto.ciudad" style="display:none;" required>
              </div>
            </div>
          </div>
          <!-- Alquiler/Venta, precio de venta, precio/mes -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 flex-column">
              <label class="required d-block" for="optionInputOffice">Alquiler - Venta ...</label>
              <nz-select #optionInputOffice class="d-block flex-column optionInputOffice" name="optionInputOffice"
                nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                (nzOpenChange)="rotateArrows($event,'optionInputOffice')" (ngModelChange)="clearPricesRentOrSale()">
                <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label for="precioFinalOffice">Precio de venta</label>
              <nz-input-group>
                <input nz-input placeholder="€" [(ngModel)]="this.homeDto.precioFinal" ngModel pattern="\d*"
                  maxlength="8" #precioFinalOffice (keypress)="numberOnly($event)" name="precioFinalOffice"
                  class="form-control" [disabled]="this.homeDto.condicion=='Alquiler'" />
              </nz-input-group>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label for="precioAlquilerOffice">Precio/mes</label>
              <nz-input-group>
                <input nz-input placeholder="€/mes" [(ngModel)]="this.homeDto.precioAlquiler" ngModel pattern="\d*"
                  maxlength="5" #precioAlquilerOffice (keypress)="numberOnly($event)" class="form-control"
                  name="precioAlquilerOffice" [disabled]="this.homeDto.condicion=='Venta'" />
              </nz-input-group>
            </div>
          </div>
          <!-- Orientación, destacar, color destacar -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 flex-column d-flex">
              <label for="OrientacionOffice" class="required">Orientación</label>
              <nz-select #OrientacionOffice="ngModel" name="OrientacionOffice" nzPlaceHolder="" panelWidth="fit-content"
                class="d-block flex-column form-control orientacionSelectOffice"
                (nzOpenChange)="rotateArrows($event,'orientacionSelectOffice')" required [nzSize]="sizeM"
                [(ngModel)]="this.homeDto.orientacion">
                <nz-option *ngFor="let opt of orientacion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 flex-column">
              <label class="d-block" for="badgeOffice">Destacar</label>
              <nz-select class="d-block destacarSelectOffice" #badgeOffice="ngModel" name="badgeOffice" nzPlaceHolder=""
                [nzSize]="sizeM" [nzDropdownRender]="badgeTextTemplate" [(ngModel)]="this.homeDto.destacar"
                panelWidth="fit-content" (nzOpenChange)="rotateArrows($event,'destacarSelectOffice')">
                <nz-option *ngFor="let opt of badge" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
              <label for="colorDestacarOffice" class="">Color Destacar</label>
              <div class="text-center">
                <nz-color-picker class="form-control" nzTrigger="hover" name="colorDestacarOffice"
                  [nzDefaultValue]="'#3a3b3c'" (nzOnChange)="checkBox($event)" #colorDestacarOffice
                  [(ngModel)]="this.homeDto.colorDestacar"></nz-color-picker>
              </div>
            </div>
          </div>
          <!-- Estado, Distribución, antiguedad -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label class="required d-block" for="stateInputOffice">Estado</label>
              <nz-select #stateInputOffice="ngModel" class="d-block flex-column form-control estadoSelectOffice"
                name="stateInputOffice" nzPlaceHolder="Seleccione" panelClass="example-panel" [nzSize]="sizeM"
                [(ngModel)]="this.homeDto.estado" required (nzOpenChange)="rotateArrows($event,'estadoSelectOffice')">
                <nz-option *ngFor="let opt of propertyState" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <label class="required d-block" for="layoutOffice">Distribución</label>
              <nz-select #layoutOffice="ngModel" class="d-block flex-column form-control layoutOffice"
                name="layoutOffice" nzPlaceHolder="Seleccione" panelClass="example-panel" [nzSize]="sizeM"
                [(ngModel)]="this.homeDto.distribucion" required (nzOpenChange)="rotateArrows($event,'layoutOffice')">
                <nz-option *ngFor="let opt of distribucionOficina" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 flex-column d-flex">
              <label for="yearBuildOffice" class="required">Antiguedad</label>
              <nz-date-picker id="yearBuildOffice" placeholder="Año" #yearBuildOffice nzMode="year" nzFormat="yyyy"
                class="d-block flex-column form-control" name="yearBuildOffice" [(ngModel)]="this.homeDto.antiguedad"
                required [nzDisabledDate]="disabledDatePost"></nz-date-picker>
            </div>
          </div>
          <!-- Descripción -->
          <div class="form-group row mx-2 mt-2">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex flex-column">
              <label for="descripcionOffice" class="required">Descripción</label>
              <textarea rows="4" name="descripcionOffice" class="form-control mb-3" required nz-input
                [(ngModel)]="this.homeDto.descripcion"></textarea>
            </div>
          </div>
        </mat-tab>
        <!-- Acabados -->
        <mat-tab label="Acabados">
          <div class=" container-fluid form-group ">
            <!-- Seguridad -->
            <div class="row row-cols-2 mt-3">
              <div class="col">
                <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Seguridad</label>
              </div>
              <div class="col"></div>
            </div>
            <div class="row mt-3 mx-3">
              <div class="col-12 ">
                <mat-button-toggle (change)="this.homeDto.recepcion24_7= $event.source.checked"
                  name="security24_7office" [checked]="this.homeDto.recepcion24_7" [value]="this.homeDto.recepcion24_7"
                  class="mx-1 my-1 ">
                  Seguridad 24/7
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.videoVigilancia= $event.source.checked"
                  name="videoVigilanciaOffice" [checked]="this.homeDto.videoVigilancia"
                  [value]="this.homeDto.videoVigilancia" class="mx-1 my-1 ">
                  Video vigilancia
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.alarmaIncendios= $event.source.checked"
                  name="alarmaIncendiosOffice" [checked]="this.homeDto.alarmaIncendios"
                  [value]="this.homeDto.alarmaIncendios" class="mx-1 my-1 ">
                  Alarma de incendios
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.extintores= $event.source.checked" name="extintoresOffice"
                  [checked]="this.homeDto.extintores" [value]="this.homeDto.extintores" class="mx-1 my-1 ">
                  Rociadores de incendio
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.instalacionesDiscapacitados= $event.source.checked"
                  name="instalacionesDiscapacitadosOffice" [checked]="this.homeDto.instalacionesDiscapacitados"
                  [value]="this.homeDto.instalacionesDiscapacitados" class="mx-1 my-1 ">
                  Oficina accesible
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.generadorEmergencia= $event.source.checked"
                  name="generadorEmergenciaOffice" [checked]="this.homeDto.generadorEmergencia"
                  [value]="this.homeDto.generadorEmergencia" class="mx-1 my-1 ">
                  Generador de emergencia
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.controlDeAccesoPersonal= $event.source.checked"
                  name="controlDeAccesoPersonalOffice" [checked]="this.homeDto.controlDeAccesoPersonal"
                  [value]="this.homeDto.controlDeAccesoPersonal" class="mx-1 my-1 ">
                  Control de acceso personal
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.controlDeAccesoVehiculos= $event.source.checked"
                  name="controlDeAccesoVehiculosOffice" [checked]="this.homeDto.controlDeAccesoVehiculos"
                  [value]="this.homeDto.controlDeAccesoVehiculos" class="mx-1 my-1 ">
                  Control de acceso vehículos
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.lucesSalidaEmergencia= $event.source.checked"
                  name="lucesSalidaEmergenciaOffice" [checked]="this.homeDto.lucesSalidaEmergencia"
                  [value]="this.homeDto.lucesSalidaEmergencia" class="mx-1 my-1 ">
                  Alumbrado de emergencia
                </mat-button-toggle>
              </div>
            </div>
            <!-- Edificio -->
            <div class="row row-cols-2 mt-3">
              <div class="col">
                <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Edificio</label>
              </div>
              <div class="col"></div>
            </div>
            <div class="row mt-3 mx-3">
              <div class="col-12 ">
                <mat-button-toggle (change)="this.homeDto.aparcamientos= $event.source.checked"
                  name="aparcamientosOffice" [checked]="this.homeDto.aparcamientos" [value]="this.homeDto.aparcamientos"
                  class="mx-1 my-1 ">
                  Aparcamientos
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.falsoTecho= $event.source.checked" name="falsoTechoOffice"
                  [checked]="this.homeDto.falsoTecho" [value]="this.homeDto.falsoTecho" class="mx-1 my-1 ">
                  Falso techo
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.sueloTecnico= $event.source.checked" name="sueloTecnicoOffice"
                  [checked]="this.homeDto.sueloTecnico" [value]="this.homeDto.sueloTecnico" class="mx-1 my-1 ">
                  Suelo técnico
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.amueblado= $event.source.checked" name="amuebladoOffice"
                  [checked]="this.homeDto.amueblado" [value]="this.homeDto.amueblado" class="mx-1 my-1 ">
                  Con mobiliario
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.ascensor= $event.source.checked" name="ascensorOffice"
                  [checked]="this.homeDto.ascensor" [value]="this.homeDto.ascensor" class="mx-1 my-1 ">
                  Ascensor
                </mat-button-toggle>
                <mat-button-toggle (change)="this.homeDto.dobleAcristalamiento= $event.source.checked"
                  name="dobleAcristalamientoOffice" [checked]="this.homeDto.dobleAcristalamiento"
                  [value]="this.homeDto.dobleAcristalamiento" class="mx-1 my-1 ">
                  Doble acristalamiento
                </mat-button-toggle>
                <mat-button-toggle-group name="usoOficina" aria-label="uso" [(ngModel)]="this.homeDto.uso"
                  class="mx-1 my-1">
                  <mat-button-toggle value="Uso exclusivo oficina">Uso exclusivo oficina</mat-button-toggle>
                  <mat-button-toggle value="Uso mixto oficina">Uso mixto oficina</mat-button-toggle>
                </mat-button-toggle-group>
              </div>
            </div>
            <!-- Energía y climatización -->
            <div class="row row-cols-2 mt-4">
              <div class="col">
                <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Energía y
                  climatización</label>
              </div>
              <div class="col"></div>
            </div>
            <div class="row mt-3 mx-3 form-group">
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <label for="climaOffice">Climatización</label>
                <nz-select class="w-100" [nzPlaceHolder]="'Climatización'" name="climaOffice" [nzSize]="sizeM"
                  (ngModelChange)="printSelect($event)" [(ngModel)]="this.homeDto.climatizacion">
                  <ng-container>
                    <nz-option *ngFor="let opt of climatizacion" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                  </ng-container>
                </nz-select>
              </div>
              <!--certificado-->
              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="row">
                  <image-cropper name="cropperOffice" #cropperOffice [imageChangedEvent]="imageChangedEventEnergyOffice"
                    [maintainAspectRatio]="false" [aspectRatio]="16 / 9" format="png"
                    (imageCropped)="imageCropped($event,'energyOffice')"
                    (imageLoaded)="imageLoaded($event,'energyOffice')" (cropperReady)="cropperReady()"
                    (loadImageFailed)="loadImageFailed()">
                  </image-cropper>
                </div>
                <div class="row">
                  <div class="col-10">
                    <div class="file is-small is-light is-boxed">
                      <label class="file-label">
                        <input class="file-input" type="file" name="resume"
                          (change)="fileChangeEvent($event,'energyOffice')" accept="image/*" />
                        <span class="file-cta">
                          <span class="badge primary-badge text-nowrap">{{this.tempEnergyTagNameOffice}}</span>
                          <span class="file-icon" style="color:#999;">
                            <i class="fas fa-cloud-upload-alt color-secondary"></i>
                          </span>
                          <span class="file-label text-secondary">Certificado energético</span>
                        </span>
                      </label>
                    </div>
                  </div>
                  <div class="col-2">
                    <button *ngIf="this.tempEnergyTagNameOffice" class="my-auto btn-close"
                      (click)="clearEnergySelection('energyOffice')"></button>
                  </div>
                </div>
              </div>
              <!--Emisiones y consumo-->
              <div class="row mt-3 mb-3 align-items-center form-group">
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 text-center">
                  <nz-select class="nzSelectL w-100 emisionesSelectOffice" nzPlaceHolder="Emisiones" [nzSize]="sizeM"
                    name="emisionesOffice" [(ngModel)]="this.homeDto.emisiones"
                    (nzOpenChange)="rotateArrows($event,'emisionesSelectOffice')">
                    <nz-option *ngFor="let opt of calificacion_emisiones" [nzValue]=opt
                      [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                  <nz-select class="nzSelectL w-100 consumoSelectOffice mt-3" nzPlaceHolder="Consumo" [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.consumo" (nzOpenChange)="rotateArrows($event,'consumoSelectOffice')"
                    name="consumoOffice">
                    <nz-option *ngFor="let opt of calificacion_consumo" [nzValue]=opt
                      [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                  <img class="energyImage float-start mb-2" src="assets/svg/eco/Escala_Certificacion.png"
                    style="width: 50px; height: 58px;" alt="">
                </div>
              </div>
            </div>
          </div><!--container fluid-->
        </mat-tab>
        <mat-tab label="Multimedia">
          <div class="container-fluid">
            <!-- Fotos -->
            <dropzone [config]="config" [message]="'Pulse o arrastre sus imágenes para subirlas'" required class="mt-3"
              (error)="onUploadError($event)" (success)="onUploadSuccess($event)" (removedFile)="onRemove($event)">
            </dropzone>
            <!-- Video para youtube -->
            <div class="form-group">
              <ng-container>
                <div class="row mb-3">
                  <div class="col-12 ">
                    <label for="videoOffice">Video</label>
                    <nz-input-group [nzPrefix]="youtubePrefix" [nzSuffix]="youtubeSuffix">
                      <input style="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;
      width:100%" nz-input #videoOffice [(ngModel)]="this.homeDto.video" name="videoOffice"
                        placeholder="https://www.youtube.com/watch?v=HHP5MKgK0o8" />
                    </nz-input-group>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Publicar">
          <div class="container-fluid mt-3">
            <!--Pricing cards-->
            <app-pricing-card 
              [(remarcado)]="this.homeDto.destacado.featured" 
              [(ubicacionMapa)]="this.homeDto.direccionAproximada">
            </app-pricing-card>
            <div class="form-group my-4">
              <ng-container>
                <div class="row mt-3">
                  <div class="form__privacy ">
                    <input class="chkprivacy form-control" [(ngModel)]="this.homeDto.politicaPrivacidad"
                      id="chkprivacyOffice" name="chkprivacyOffice"
                      (change)="checkBox(this.homeDto.politicaPrivacidad?true:false)" type="checkbox" required>
                    <label class="labelprivacy" for="chkprivacyOffice">Acepto los <a style="color:#7ce800;"
                        class="aprivacy" (click)="showModal('privatePolicy')">términos de privacidad</a> de
                      myhouse.</label>
                  </div>
                </div>
              </ng-container>
            </div>
          </div><!-- container-fluid -->
        </mat-tab>
      </form>
    </mat-tab-group>
    <!--</ng-scrollbar>-->
  </div>
  <ng-template #footer>
    <div class="d-flex ">
      <button class="float-start my-auto mr-2" pButton pRipple [disabled]="!newOtherForm.valid||showLoading"
        severity="contrast" (click)="newOtherForm.ngSubmit.emit()">
        <span *ngIf="showLoading" class="spinner-border text-light" role="status"
          style="width: 1.5rem; height: 1.5rem; ">
        </span>
        <span pButtonLabel style="font-weight: 600; letter-spacing: .4px;" *ngIf="!showLoading">Crear</span>
      </button>
    </div>
  </ng-template>
</p-dialog>
<!-- End primeng modal -->

<!--Bulma modal-->
<div *ngIf="this.state" class="container-fluid">
  <div class="modal" id="newHomeModal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head border-bottom">
        <p class="modal-card-title text-center text-secondary mt-n1" *ngIf="adTitleAction$ | async as title">{{ title
          }}</p> <!-- Llamo para vaciar el dropzone -->
        <button class="btn-close" onclick="closeModal()" (click)="closeDialog('new-other-modal')"
          aria-label="close"></button>
      </header>
      <section class="modal-card-body pt-1">
        <!-- New property tabs content -->
        <nz-tabset [nzTabBarExtraContent]="" [nzSize]="'small'" [nzTabPosition]="'top'"
          [nzSelectedIndex]="this.tabIndex"
          style="color: #3a3b3c; display: inline-block; align-items: center; justify-content: space-between; width: 100%; ">
          <form #newMarkerForm="ngForm" (ngSubmit)="newHome()" id="newMarkerForm">
            <!--<form #newProjectForm="ngForm" (ngSubmit)="newProject()" [formGroup]="newProjectTemplate" ></form>-->
            <!-- Genearal para Nueva propiedad -->
            <nz-tab nzTitle=General nz-col nzSpan="8" (nzClick)="whatTab('General')"
              *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <div class="form-group row">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="tipodevia" class="required text-nowrap">Tipo de vía</label>
                  <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodevia
                    name="tipodevia" class="form-control viaSelect" nzPlaceHolder="Calle, avenida, plaza..."
                    [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipoDeVia" required
                    (nzOpenChange)="rotateArrows($event,'viaSelect')">
                    <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-6 col-md-4 col-sm-6 col-xs-12">
                  <label for="calle" class="required">Nombre</label>
                  <input #calle nz-input placeholder="Nombre de la vía p. ej. Paseo de la Castellana..."
                    [(ngModel)]="this.homeDto.calle" name="calle" class="form-control" required />
                </div>
                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12">
                  <label for="numero">Numero</label>
                  <input nz-input #numero placeholder="Número" class="form-control p-1" ngModel pattern="\d*"
                    maxlength="6" (keypress)="numberOnly($event)" name="numero" [(ngModel)]="this.homeDto.numero"
                    required />
                </div>
              </div>
              <!--Piso, número, cp y antiguedad-->
              <div class="form-group row mt-3">
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="piso">Piso</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #piso placeholder="Piso" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="piso" [(ngModel)]="this.homeDto.piso" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">de</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #plantaMasAlta ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="plantaMasAlta"
                          [(ngModel)]="this.homeDto.plantaMasAlta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                  <label for="bajoOP">Planta baja</label>
                  <ng-container>
                    <nz-checkbox-wrapper style="width: 100%; margin-top: 0.4em;"
                      (nzOnChange)="checkBox(this.homeDto.bajoOplantabaja?true:false)" name="bajoOP">
                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <label class="text-nowrap text-secondary" [(ngModel)]="this.homeDto.bajoOplantabaja"
                            nz-checkbox>
                            Es un bajo
                          </label>
                        </div>
                      </div>
                    </nz-checkbox-wrapper>
                  </ng-container>
                </div>
                <div class="col-lg-3 col-md-2 col-sm-6 col-xs-12">
                  <label for="cp" class="required">CP</label>
                  <input nz-input #cp placeholder="Código postal" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="cp" class="form-control p-1" [(ngModel)]="this.homeDto.cp"
                    required />
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="distrito" class="required">Distrito</label>
                  <input nz-input #distrito placeholder="Distrito" [(ngModel)]="this.homeDto.distrito" name="distrito"
                    class="form-control" required />
                </div>
              </div>
              <!-- Superficie, habitaciones, baños y aseo ensuite -->
              <div class="form-group row mt-3">
                <div class="col-xl col-lg-2 col-md-2 col-sm-6  align-self-start">
                  <label for="superficie" class="required">Superficie</label>
                  <input #superficie nz-input ngModel pattern="\d*" maxlength="20" (keypress)="numberOnly($event)"
                    name="superficie" class="form-control" [(ngModel)]="this.homeDto.superficie" required
                    placeholder="M²" />
                  <!--<button class="btn btn-primary" (click)="checkBox('')">Push</button>-->
                </div>
                <div class="col-xl col-lg-2 col-md-2 col-sm-6 align-self-start">
                  <label for="habitaciones" class=" text-nowrap">Dormitorios</label>
                  <input #habitaciones nz-input ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                    name="habitaciones" class="form-control p-1" [(ngModel)]="this.homeDto.habitaciones" required
                    placeholder="0" />
                </div>
                <div class="col-xl col-lg-2 col-md-2 col-sm-6 align-self-start">
                  <label for="banyos" class="required">Aseos</label>
                  <input nz-input #banyos ngModel pattern="\d*" maxlength="1" (keypress)="numberOnly($event)"
                    name="banyos" class="form-control" [(ngModel)]="this.homeDto.aseos" required placeholder="0" />
                </div>
                <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                  <label for="aseoEnsuiteInput">Aseo ensuite</label>
                  <nz-select #aseoEnsuiteInput name="aseoEnsuiteInput" class="d-block flex-column aseoensuiteSelect"
                    nzPlaceHolder="0" [nzSize]="sizeM" [(ngModel)]="this.homeDto.aseoEnsuite"
                    (nzOpenChange)="rotateArrows($event,'aseoensuiteSelect')">
                    <nz-option *ngFor="let opt of bathRooms" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                  <label for="viewsInput" class="required">Vistas</label>
                  <nz-select #viewsInput name="viewsInput" class="d-block flex-column form-control vistasSelect w-100"
                    (nzOpenChange)="rotateArrows($event,'vistasSelect')" nzPlaceHolder="Seleccione" [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.vistasDespejadas" required nzMode="multiple" nzAllowClear
                    (ngModelChange)="printSelect($event)">
                    <nz-option *ngFor="let opt of vistas" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <!-- Tipo, estado, alquiler-venta y destacar -->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="typeInput" class="required">Tipo de inmueble</label>
                  <nz-select #typeInput name="typeInput" class="d-block flex-column form-control typeSelect"
                    nzPlaceHolder="Seleccione" [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipo" required
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'typeSelect')">
                    <nz-option *ngFor="let opt of tipo" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label class="required d-block" for="stateInput">Estado</label>
                  <nz-select #stateInput="ngModel" class="d-block flex-column form-control estadoSelect"
                    name="stateInput" nzPlaceHolder="Seleccione" panelClass="example-panel" [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.estado" required (nzOpenChange)="rotateArrows($event,'estadoSelect')">
                    <nz-option *ngFor="let opt of propertyState" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <!--Condición-->
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column"
                  *ngIf="this.shareTab.value==true || this.shareTab.value==false">
                  <label class="required d-block" for="optionInput">Alquiler - Venta ...</label>
                  <nz-select #optionInput class="d-block flex-column condicionSelect" name="optionInput"
                    nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'condicionSelect')">
                    <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <!--Caso base-->
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column" *ngIf="this.shareTab.value==undefined">
                  <label class="required d-block" for="optionInput">Alquiler - Venta ...</label>
                  <nz-select #optionInput2 class="d-block flex-column condicionSelect" name="optionInput2"
                    nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'condicionSelect')">
                    <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <input nz-input [(ngModel)]="this.homeDto.condicion" ngModel #kondicion name="kondicion"
                  class="form-control" required style="display:none;" />
              </div>
              <!--Precio de venta y alquiler-->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="precioFinal">Precio de venta</label>
                  <nz-input-group>
                    <input nz-input placeholder="€" [(ngModel)]="this.homeDto.precioFinal" ngModel pattern="\d*"
                      maxlength="8" #precioFinal (keypress)="numberOnly($event)" name="precioFinal" class="form-control"
                      [disabled]="this.saleTab.value" [required]="!this.saleTab.value" />
                  </nz-input-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="precioAlquiler">Precio/mes</label>
                  <nz-input-group>
                    <input nz-input placeholder="€/mes" [(ngModel)]="this.homeDto.precioAlquiler" ngModel pattern="\d*"
                      maxlength="5" #precioAlquiler (keypress)="numberOnly($event)" class="form-control"
                      name="precioAlquiler" [disabled]="this.rentTab.value" [required]="!this.rentTab.value" />
                  </nz-input-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column">
                  <label class="d-block" for="badge">Destacar</label>
                  <nz-select class="d-block destacarSelect" #badgeInput="ngModel" name="badgeInput" nzPlaceHolder=""
                    [nzSize]="sizeM" [nzDropdownRender]="badgeTextTemplate" [(ngModel)]="this.homeDto.destacar"
                    panelWidth="fit-content" (nzOpenChange)="rotateArrows($event,'destacarSelect')">
                    <nz-option *ngFor="let opt of badge" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <!--Vistas, ubicacionExacta, antiguedad-->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 d-flex flex-column">
                  <label for="colorDestacar" class="">Color Destacar</label>
                  <div class="text-center">
                    <nz-color-picker class="form-control" nzTrigger="hover" name="colorDestacar"
                      [nzDefaultValue]="'#3a3b3c'" (nzOnChange)="checkBox($event)"
                      [(ngModel)]="this.homeDto.colorDestacar"></nz-color-picker>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 text-center flex-column d-flex">

                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="yearBuild" class="required">Antiguedad</label>
                  <nz-date-picker id="yearBuild" placeholder="Año" #yearBuild nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="yearBuild" [(ngModel)]="this.homeDto.antiguedad"
                    required [nzDisabledDate]="disabledDatePost"></nz-date-picker>
                </div>
                <!---->
              </div>
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="Orientacion" class="required">Orientación</label>
                  <nz-select #Orientacion="ngModel" name="Orientacion" nzPlaceHolder="" panelWidth="fit-content"
                    class="d-block flex-column form-control orientacionSelect"
                    (nzOpenChange)="rotateArrows($event,'orientacionSelect')" required [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.orientacion">
                    <nz-option *ngFor="let opt of orientacion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="garage">Garage&nbsp;<i nz-tooltip [nzTooltipTrigger]="'click'"
                      nzTooltipTitle="Si la plaza se vende aparte introduzca el precio adicional"
                      class="bi bi-info-square"></i></label>
                  <nz-select #garage name="garageInput" nzPlacement="topRight" class="d-block flex-column garageSelect"
                    nzPlaceHolder="0" [nzDropdownRender]="renderTemplate" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'garageSelect')" [(ngModel)]="this.homeDto.garage">
                    <nz-option *ngFor="let opt of carPlaces" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <div class="row px-3 d-flex flex-column">
                    <label for="city" class="required d-flex pl-0">Ciudad</label>
                    <button name="city" class="button is-danger is-outlined is-small provButton" type="button"
                      (click)="locationMap('map_2')">Ciudad</button>
                    <input #ciudad nz-input ngModel name="ciudad" class="form-control" [(ngModel)]="this.homeDto.ciudad"
                      style="display:none;" required>
                  </div>
                </div>
              </div>
              <div class="form-group row mt-3">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex flex-column">
                  <label for="descripcion" class="required">Descripción</label>
                  <textarea rows="4" name="descripcion" class="form-control mb-3" required nz-input
                    [(ngModel)]="this.homeDto.descripcion"></textarea>
                </div>
              </div>
            </nz-tab>
            <!-- General para nuevo proyecto -->
            <!-- Tipo de vía, nombre, número y cp -->
            <nz-tab nzTitle=General nz-col nzSpan="8" (nzClick)="whatTab('General')"
              *ngIf="this.adTitle.getValue()=='Proyecto nuevo'">
              <div class="form-group row ">
                <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
                  <label for="tipodevia" class="required" style="text-overflow: ellipsis; white-space: nowrap;">Tipo de
                    vía</label>
                  <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodevia
                    name="tipodevia" class="form-control viaSelect" nzPlaceHolder="Calle, avenida, plaza..."
                    [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipoDeVia" required id="tipodevia"
                    (nzOpenChange)="rotateArrows($event,'viaSelect')">
                    <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
                  <label for="calle" class="required">Nombre</label>
                  <input #calle nz-input placeholder="Nombre de la vía p. ej. Paseo de la Castellana..."
                    [(ngModel)]="this.homeDto.calle" name="calle" class="form-control" required />
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                  <label for="numeroP">Numero</label>
                  <input nz-input #numeroP placeholder="Número" ngModel pattern="\d*" maxlength="6"
                    (keypress)="numberOnly($event)" name="numeroP" class="form-control p-1"
                    [(ngModel)]="this.homeDto.numero" required />
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                  <label for="cp" class="required">CP</label>
                  <input nz-input #cp placeholder="Código postal" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="cp" class="form-control p-1" [(ngModel)]="this.homeDto.cp"
                    required />
                </div>
              </div>
              <!-- Cp, distrito, ciudad y total construido -->
              <div class="form-group row mt-2">
                <div class="col-lg-6 col-md-4 col-sm-6 col-xs-12">
                  <label for="distrito" class="required">Distrito</label>
                  <input nz-input #distrito placeholder="Distrito" [(ngModel)]="this.homeDto.distrito" name="distrito"
                    class="form-control" required />
                </div>
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <div class="row px-3 d-flex flex-column">
                    <label for="city" class="required d-flex pl-0">Ciudad</label>
                    <button name="city" class="button is-danger is-outlined is-small is-fullwidth provButton"
                      type="button" (click)="locationMap('map_2')">Ciudad</button>
                    <input #ciudad nz-input ngModel name="ciudad" class="form-control" [(ngModel)]="this.homeDto.ciudad"
                      style="display:none;" required />
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="totalUnits" class="text-nowrap">Cantidad viviendas</label>
                  <input nz-input #totalUnits placeholder="Total construido" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="totalUnits" class="form-control p-1"
                    [(ngModel)]="this.homeDto.totalViviendasConstruidas" />
                </div>
              </div>
              <!--Habitaciones, superficie, tipos y precios-->
              <!--Habitaciones-->
              <div class="form-group row mt-2">
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="roomsP">De {{this.homeDto.habitacionesDesde}} a {{this.homeDto.habitacionesHasta}}
                    dormitorios</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #roomsFrom placeholder="" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="roomsP" [(ngModel)]="this.homeDto.habitacionesDesde" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">a</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #roomsTo ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                          name="roomsTo" [(ngModel)]="this.homeDto.habitacionesHasta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <!--Superficies-->
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="areasP text-nowrap">Area de {{this.homeDto.superficieDesde}} a
                    {{this.homeDto.superficieHasta}} m²</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #areasFrom placeholder="" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="areasP" [(ngModel)]="this.homeDto.superficieDesde" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">a</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #areasTo ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                          name="areasTo" [(ngModel)]="this.homeDto.superficieHasta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <!--Alturas-->
                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                  <label for="alturasP">Alturas</label>
                  <input nz-input #alturasP placeholder="Alturas" class="form-control p-1" ngModel pattern="\d*"
                    maxlength="6" (keypress)="numberOnly($event)" name="alturas" [(ngModel)]="this.homeDto.alturas" />
                </div>
                <!--Rango de precios-->
                <div class="col-lg-4 col-md-2 col-sm-6 col-xs-12">
                  <label for="pricesFromP" class="text-nowrap">Precio desde</label>
                  <nz-input-group>
                    <div nz-row>
                      <div class="float-start w-100">
                        <input nz-input #pricesFromP placeholder="" ngModel pattern="\d*" maxlength="8"
                          (keypress)="numberOnly($event)" name="pricesFromP" [(ngModel)]="this.homeDto.precioFinal" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
              </div>
              <!--Tipologías, estado de la obra, año construcción/progreso construcción-->
              <div class="form-group row mt-2">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="tipologiasP">Tipologías</label>
                  <nz-select nzMode="multiple" class="w-100" [nzPlaceHolder]="'Tipos'" nzAllowClear name="tipos"
                    [nzSize]="sizeM" (ngModelChange)="printSelect($event)" [(ngModel)]="this.homeDto.tipos">
                    <ng-container>
                      <nz-option *ngFor="let opt of projectFeatures" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                    </ng-container>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="estadoObra" class="required">Estado construcción:</label>
                  <nz-radio-group [(ngModel)]="this.homeDto.estadoConstruccion" name="estadoObra" nzButtonStyle="solid"
                    required>
                    <label nz-radio-button nzValue=Terminado>Terminado</label>
                    <label nz-radio-button nzValue=EnCurso>En curso</label>
                  </nz-radio-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='Terminado'">
                  <label for="yearEndP" class="required">Año construcción</label>
                  <nz-date-picker id="yearEndP" placeholder="Año" #yearP nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="yearEndP" [(ngModel)]="this.homeDto.antiguedad"
                    [nzDisabledDate]="disabledDatePost"></nz-date-picker>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='EnCurso'">
                  <label for="yearPercentP" class=" text-nowrap">Progreso obra</label>
                  <nz-input-group class="float-start" name="yearPercentP" [nzSuffix]="percetageFinished"
                    [nzSize]="size">
                    <input nz-input name="totalEnded" id="yearPercentP" #yearPercentP [nzSize]="sizeM"
                      [(ngModel)]="this.homeDto.porcentajeTerminado" class="form-control w-full mb-1" />
                  </nz-input-group>
                  <ng-template #percetageFinished>
                    <span><i class="bi bi-percent"></i></span>
                  </ng-template>
                  <p-slider [(ngModel)]="this.homeDto.porcentajeTerminado" [min]="0" [max]="100" class="w-full" />
                </div>
              </div>
              <!--Vendido, finalización, -->
              <div class="form-group row mt-2">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="soldPercentP" class=" text-nowrap">% Vendido</label>
                  <nz-input-group class="float-start" name="soldPercentP" [nzSuffix]="percetageTemplate"
                    [nzSize]="size">
                    <input nz-input name="totalSold" id="soldPercentP" #soldPercentP [nzSize]="sizeM"
                      [(ngModel)]="this.homeDto.porcentajeVendido" class="form-control w-full mb-1" />
                  </nz-input-group>
                  <ng-template #percetageTemplate>
                    <span><i class="bi bi-percent"></i></span>
                  </ng-template>
                  <p-slider [(ngModel)]="this.homeDto.porcentajeVendido" [min]="0" [max]="100" class="w-full" />
                </div>
                <!--Finalización-->
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='EnCurso'">
                  <label for="endWorksP" class="">Fin de obra</label>
                  <nz-date-picker id="endWorksP" placeholder="Año" #endWorksP nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="endWorksP" [(ngModel)]="this.homeDto.finDeObra"
                    [nzDisabledDate]="disabledDatePre"></nz-date-picker>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="nameP">Nombre decorativo</label>
                  <input #nameP nz-input placeholder="Residencial las palmeras..."
                    [(ngModel)]="this.homeDto.nombreProyecto" name="namep" class="form-control" />
                </div>
              </div>
              <!--Vendido, finalización, -->
              <div class="form-group row mt-2">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex flex-column">
                  <label for="descripcionP" class="required">Descripción</label>
                  <textarea rows="4" name="descripcionP" class="form-control mb-3" required nz-input
                    [(ngModel)]="this.homeDto.descripcion"></textarea>
                </div>
              </div>
            </nz-tab>
            <!--Acabados-->
            <nz-tab nzTitle=Acabados nz-col nzSpan="8" (nzClick)="whatTab('Acabados')">
              <div class="form-group ">
                <!-- Energía y climatización -->
                <div class="row row-cols-2 mt-1">
                  <div class="col">
                    <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Energía y
                      climatización</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="aaHome" [(ngModel)]="this.homeDto.aireAcondicionado"
                        (change)="checkBox(this.homeDto.aireAcondicionado?true:false)"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/ice.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="aaHome">Aire acondicionado</span>
                    </label>
                    <br> <!--entre mt-2 y mt-3-->
                    <label class="c-material-che">
                      <input type="checkbox" name="calefaccionHome" [(ngModel)]="this.homeDto.calefaccion"
                        class="c-material-che__hidden form-check-input" value="2" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/heating4.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="calefaccionHome">Calefacción</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="gasNaturalHome" [(ngModel)]="this.homeDto.gasNatural"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/flame.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="gasNaturalHome">Gas natural</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="aerotermiaHome" [(ngModel)]="this.homeDto.aerotermia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/aerotermia2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="aerotermiaHome">Aerotermia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="dobleAcristalamientoHome"
                        [(ngModel)]="this.homeDto.dobleAcristalamiento"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/double-wind.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="dobleAcristalamientoHome">Doble acristalamiento</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="panelesSolaresHome" [(ngModel)]="this.homeDto.panelesSolares"
                        class="c-material-che__hidden form-check-input" value="1" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/solar-small.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="panelesSolaresHome">Paneles solares</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="ventilacionCruzadaHome" [(ngModel)]="this.homeDto.ventilacionCruzada"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/house-wind2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="ventilacionCruzadaHome">Ventilación cruzada</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="row">
                      <image-cropper name="cropperHome" #cropperHome [imageChangedEvent]="imageChangedEventEnergy"
                        [maintainAspectRatio]="false" [aspectRatio]="16 / 9" format="png"
                        (imageCropped)="imageCropped($event,'energy')" (imageLoaded)="imageLoaded($event,'energy')"
                        (cropperReady)="cropperReady()" (loadImageFailed)="loadImageFailed()">
                      </image-cropper>
                    </div>
                    <div class="row">
                      <div class="col-10">
                        <div class="file is-small is-light is-boxed">
                          <label class="file-label">
                            <input class="file-input" type="file" name="resume"
                              (change)="fileChangeEvent($event,'energy')" accept="image/*" />
                            <span class="file-cta">
                              <span class="badge primary-badge text-nowrap">{{this.tempEnergyTagName}}</span>
                              <span class="file-icon" style="color:#999;">
                                <i class="fas fa-cloud-upload-alt color-secondary"></i>
                              </span>
                              <span class="file-label text-secondary">Certificado energético</span>
                            </span>
                          </label>
                        </div>
                      </div>
                      <div class="col-2">
                        <button *ngIf="this.tempEnergyTagName" class="my-auto btn-close"
                          (click)="clearEnergySelection('energy')"></button>
                      </div>
                    </div>
                  </div>
                  <br>
                </div>
                <!--Emisiones y consumo-->
                <div class="row p-2 align-items-center form-group" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 text-center">
                    <nz-select class="nzSelectL w-100 emisionesSelect" nzPlaceHolder="Emisiones" [nzSize]="size"
                      name="emisionesHome" [(ngModel)]="this.homeDto.emisiones"
                      (nzOpenChange)="rotateArrows($event,'emisionesSelect')">
                      <nz-option *ngFor="let opt of calificacion_emisiones" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                    <br>
                    <nz-select class="nzSelectL w-100 consumoSelect" nzPlaceHolder="Consumo" [nzSize]="size"
                      [(ngModel)]="this.homeDto.consumo" (nzOpenChange)="rotateArrows($event,'consumoSelect')"
                      name="consumoHome">
                      <nz-option *ngFor="let opt of calificacion_consumo" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                    <img class="energyImage float-start mb-2" src="assets/svg/eco/Escala_Certificacion.png"
                      style="width: 50px; height: 58px;" alt="">
                  </div>

                </div>
                <!-- Comunidad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidadHome" class="filterLabel mx-3">Comunidad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mx-3 mt-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="videoPorteroHome" [(ngModel)]="this.homeDto.videoPortero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-intercom.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="videoPorteroHome">Videoportero</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="piscinaCompHome" [(ngModel)]="this.homeDto.piscinaComp"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/pool-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="piscinaCompHome">Piscina</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="tenisHome" [(ngModel)]="this.homeDto.tenis"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.1em; position:relative;"
                        src="assets/svg/tennis-ball.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="tenisHome">Tenis</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="padelHome" [(ngModel)]="this.homeDto.padel"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/padel-racket-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="padelHome">Padel</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="saunaHome" [(ngModel)]="this.homeDto.sauna"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-sauna.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="saunaHome">Sauna</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="zonaDeOcioHome" [(ngModel)]="this.homeDto.zonaDeOcio"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/talking-area.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="zonaDeOcioHome">Zona de ocio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="jardinHome" [(ngModel)]="this.homeDto.jardin"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-tree.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="jardinHome">Zonas verdes</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="columpiosHome" [(ngModel)]="this.homeDto.columpios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/child-playground.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="columpiosHome">Zona infantil</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Seguridad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="seguridadHome" class="mx-3 filterLabel">Seguridad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="recepcion24_7Home" [(ngModel)]="this.homeDto.recepcion24_7"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-reception.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="recepcion24_7Home">Recepción 24/7</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="videoVigilanciaHome" [(ngModel)]="this.homeDto.videoVigilancia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-video-security.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="videoVigilanciaHome">Video vigilancia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="alarmaIncendiosHome" [(ngModel)]="this.homeDto.alarmaIncendios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-alarm.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="alarmaIncendiosHome">Alarma de incendios</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="extintoresHome" [(ngModel)]="this.homeDto.extintores"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-sprinkler.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="extintoresHome">Rociadores de incendio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="generadorEmergenciaHome"
                        [(ngModel)]="this.homeDto.generadorEmergencia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-lightning.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="generadorEmergenciaHome">Generador de emergencia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="instalacionesDiscapacitadosHome"
                        [(ngModel)]="this.homeDto.instalacionesDiscapacitados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/wheelchair3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="instalacionesDiscapacitadosHome">Vivienda
                        accesible</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Extras -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="extrasHome" class="mx-3 filterLabel">Extras</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" name="ascensorHome" [(ngModel)]="this.homeDto.ascensor"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/elevator-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="ascensorHome">Ascensor</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="terrazaHome" [(ngModel)]="this.homeDto.terraza"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/beach-chair.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="terrazaHome">Terraza</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="balconHome" [(ngModel)]="this.homeDto.balcon"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/balcony3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="balconHome">Balcón</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="parquetHome" [(ngModel)]="this.homeDto.parquet"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-floorboards.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="parquetHome">Parquet</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="cabinaHidromasajeHome" [(ngModel)]="this.homeDto.cabinaHidromasaje"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-shower3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="cabinaHidromasajeHome">Cabina de hidromasaje</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="jacuzziHome" [(ngModel)]="this.homeDto.jacuzzi"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-jacuzzi.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="jacuzziHome">Jacuzzi</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 mb-3">
                    <label class="c-material-che">
                      <input type="checkbox" name="piscinaPrivadaHome" [(ngModel)]="this.homeDto.piscinaPrivada"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-ppool.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="piscinaPrivadaHome">Piscina en propiedad</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="gymHome" [(ngModel)]="this.homeDto.gym"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/gym-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="gymHome">Gimnasio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="golfHome" [(ngModel)]="this.homeDto.golf"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-golf.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="golfHome">Golf a pocos km</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="armariosEmpotradosHome" [(ngModel)]="this.homeDto.armariosEmpotrados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-wardrobe2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="armariosEmpotradosHome">Armarios empotrados</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="amuebladoHome" [(ngModel)]="this.homeDto.amueblado"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-furniture.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="amuebladoHome">Amueblado completo</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" name="trasteroHome" [(ngModel)]="this.homeDto.trastero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-locker.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label" for="trasteroHome">Trastero</span>
                    </label>
                    <br>
                  </div>
                </div>
              </div>
            </nz-tab>
            <!-- Alquiler -->
            <nz-tab [nzTitle]="alquilerTitle" nz-col nzSpan="8" [nzDisabled]="getRentTab()"
              (nzClick)="whatTab('Alquiler')" *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <ng-template #alquilerTitle>
                <span id="alquilerTitle">Alquiler</span>
              </ng-template>
              <!-- Condiciones de alquiler -->
              <div class="container-fluid">
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Condiciones de alquiler</label>
                    </div>
                  </div>
                </div>
                <section>
                  <p-divider type="dashed"></p-divider>
                  <!--Fianza-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 27px; position:relative;top:4px;"
                        src="assets/svg/deal.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="fianza">Fianza</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.fianza">
                        <label nz-radio-button nzValue=No>No</label>
                        <label nz-radio-button nzValue=1>1 Mes</label>
                        <label nz-radio-button nzValue=2>2 Meses</label>
                        <label nz-radio-button nzValue=+2>+2</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Mascotas-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 29px; position:relative;top:5px;"
                        src="assets/svg/dog-cat.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="mascotas">Se admiten
                        mascotas?</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.mascotas">
                        <label nz-radio-button nzValue=Si>Si</label>
                        <label nz-radio-button nzValue=No>No</label>
                        <label nz-radio-button nzValue=Consultar>Consultar</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Contrato-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                        src="assets/svg/contract.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="contrato">Tipo de
                        estancia</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.estanciaMinima">
                        <label nz-radio-button nzValue=Anual>Anual</label>
                        <label nz-radio-button nzValue=Temporal>Temporal</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Disponibilidad-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 28px; position:relative; top:5px;"
                        src="assets/svg/calendar-fill.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="month">Disponible a partir
                        de:</label>
                    </div>
                    <div class="col">
                      <nz-date-picker id="monthAvailable" #monthAvailable nzMode="month" nzFormat="yyyy/MM"
                        [(ngModel)]="this.dateMonthFormat" (ngModelChange)="setMonth($event, 'home')"
                        [nzDisabledDate]="disabledDatePre" name="monthAvailable"></nz-date-picker>&nbsp;
                      <i nz-tooltip [nzTooltipTrigger]="'click'"
                        nzTooltipTitle="Si la vivienda no está vacía, seleccione el mes para cuando estará disponible"
                        class="bi bi-info-square"></i>
                    </div>
                  </div>
                  <br>
                </section>
              </div>
            </nz-tab>
            <!--Compartir-->
            <nz-tab [nzTitle]="compartirTitle" nz-col nzSpan="8" [nzDisabled]="getShareTab()"
              (nzClick)="whatTab('Compartir')" *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <ng-template #compartirTitle>
                <span id="kompartirTitle">Compartir</span>
              </ng-template>
              <!--Acerca de compartir-->
              <div class="container">
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Acerca de compartir</label>
                    </div>
                  </div>
                </div>
                <p-divider type="dashed"></p-divider>
                <!--Fumar-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:4px;"
                      src="assets/svg/share-smoke.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="fumar">Se puede fumar?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.sepuedeFumar">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Parejas-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                      src="assets/svg/couples.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="parejas">Se admiten
                      parejas?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenParejas">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Menores-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                      src="assets/svg/teenagers.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="menores">Se admiten menores de
                      edad?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenMenoresdeedad">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Mochileros-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 28px; position:relative; top:5px;"
                      src="assets/svg/mochileros.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="mochileros">Se admiten
                      mochileros?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenMochileros">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Jubilados-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:5px;"
                      src="assets/svg/jubilados.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="jubilados">Se admiten
                      jubilados?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenJubilados">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--LGTBI-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/lgtbi.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="lgtbi">Se admite LGTBI?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmiteLGTBI">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Propietario vive en la casa-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/propietarioVive.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="propietarioVive">El propietario
                      vive en la casa?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.propietarioviveEnlacasa">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Perfil compartir-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/perfilCompartir.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="perfil_compartir">Perfil</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="perfilCompartir" [nzSize]="size">
                      <input nz-input #perfil_compartir name="perfil_compartir"
                        [(ngModel)]="this.homeDto.perfilCompartir" />
                    </nz-input-group>
                    <ng-template #perfilCompartir>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Hombre, mujer, indiferente"
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Ambiente-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/spain.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start"
                      for="ambiente_compartir">Ambiente</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="ambienteCompartir" [nzSize]="size">
                      <input nz-input #ambiente_compartir name="ambienteCompartir"
                        [(ngModel)]="this.homeDto.ambiente" />
                    </nz-input-group>
                    <ng-template #ambienteCompartir>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Ninguno, estudiantes, funcionarios..."
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Habitantes actualmente-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/h_actualmente.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="habitantes-act">Habitantes
                      actualmente?</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="habitantesActualmente" [nzSize]="size">
                      <input nz-input #habitantes_Actualmente name="habitantes-act"
                        [(ngModel)]="this.homeDto.habitantesActualmente" />
                    </nz-input-group>
                    <ng-template #habitantesActualmente>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Ninguno, 1, 2..."
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Gastos-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/gastos-comp.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="gastosComp">Gastos</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.gastos">
                      <label nz-radio-button nzValue=Incluidos>Incluidos</label>
                      <label nz-radio-button nzValue=Aparte>Aparte</label>
                    </nz-radio-group>
                  </div>
                </div>
                <!--<p-selectButton [options]="this.decision" [(ngModel)]="this.homeDto.sepuedeFumar" optionLabel="fumar"
                      optionValue="value"></p-selectButton>-->

              </div>
            </nz-tab>
            <!-- Movilidad -->
            <nz-tab nzTitle=Movilidad nz-col nzSpan="8" (nzClick)="whatTab('Movilidad')">
              <div class="container-fluid">
                <h3 class="text-center">Servicios próximos</h3>
                <p>Puedes añadir servicios próximos a tu vivienda como colegios, universidades o supermercados.
                </p>
                <div class="row row-cols-3">
                  <div class="col">
                  </div>
                  <div class="col">
                    <!--<ion-icon style="font-size: 7.5em; position:relative; padding-top: 25px; left: 120px; " src="assets/svg/main-distance.svg"></ion-icon>-->
                    <!--<img src="assets/svg/main-distance.svg"
                      style="width: 120px; height: 70; padding-top: 25px; left: 120px;">-->
                  </div>
                  <div class="col">
                  </div>
                </div>
                <div class="ctnrmovility" #element>
                  <a class="btnmov " pRipple (click)="openToogleModal(true)">Empezar</a>
                  <div class="modalmov">
                    <div class="header" style="border-top-right-radius: 20px 20px; border-top-left-radius: 20px 20px;">
                      <a class="btnmov " pRipple (click)="openToogleModal(false)">Terminar</a>
                    </div>
                    <ng-scrollbar #scrollEl orientation="vertical" class="h-100">
                      <div class="body px-3 pt-1 h-100 pb-5 mb-5">
                        <div class="container-fluid">
                          <div class="row justify-content-center">
                            <ng-template #extraSchoolBadge>
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][0]" name="cschool1" inputId="cschool1"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][1]" name="cschool2" inputId="cschool2"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][2]" name="cschool3" inputId="cschool3"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][3]" name="cschool4" inputId="cschool4"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][4]" name="cschool5" inputId="cschool5"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][5]" name="cschool6" inputId="cschool6"
                                [binary]="true" [disabled]="true" />
                            </ng-template>
                            <nz-collapse>
                              <nz-collapse-panel (click)="resizeMap()" nzHeader="Colegios" [nzExtra]="extraSchoolBadge">
                                <div>
                                  <div class="row" *ngFor="let appHome of colegio; let i =index">
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="nombrec{{i}}" class="float-start">Nombre</label>
                                      <input nz-input [nzSize]="size" name="nombrec{{i}}"
                                        [attr.disabled]="this.stateTextfields[0][i]?true:null"
                                        [(ngModel)]="this.colegio[i].nombre" placeholder="Nombre" id="f1c{{i}}n">
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="ensenyanzac{{i}}" class="float-start">Enseñanza</label>
                                      <nz-select class="w-100 f1c{{i}}e" [nzSize]="size"
                                        (nzOpenChange)="rotateArrows($event,'f1c'+i+'e')"
                                        [nzDisabled]="this.stateTextfields[0][i]" name="ensenyanzac{{i}}"
                                        [(ngModel)]="this.colegio[i].ensenyanza">
                                        <nz-option class="w-100" id="f1c{{i}}e" *ngFor="let opt of ensenyanza"
                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="instic{{i}}" class="float-start">Institución</label>
                                      <nz-select class="w-100 f1c{{i}}i" [nzSize]="size" name="instic{{i}}"
                                        [nzDisabled]="this.stateTextfields[0][i]"
                                        (nzOpenChange)="rotateArrows($event,'f1c'+i+'i')"
                                        [(ngModel)]="this.colegio[i].institucion">
                                        <nz-option class="w-100" *ngFor="let opt of institucion" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto d-flex flex-column">
                                      <label for="webc{{i}}" class="float-start">Página web</label>
                                      <input nz-input [nzSize]="size" name="webc{{i}}"
                                        [attr.disabled]="this.stateTextfields[0][i]?true:null" placeholder="www"
                                        [(ngModel)]="this.colegio[i].web" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center d-flex flex-row">
                                      <button id="colegio{{i}}" type="button"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto btnDistancia"
                                        (click)="setRoute('#808080', this.sc, 'colegio',i,'colegio'+i,'colegio'+i+'ok','btndltColegio'+i,0,i,map_3)">Distancia</button>
                                      <button id="colegio{{i}}ok" type="button"
                                        style="display: none; background:#1ebea5;"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto  btnDistancia">{{this.colegio[i].distancia}}</button>
                                      <button
                                        class="button is-danger is-rounded is-small is-responsive w-100 mt-2 mx-auto btndlt"
                                        id="btndltColegio{{i}}" style="display: none;"
                                        (click)="reRackService(0,i,'colegio'+i,'colegio'+i+'ok','btndltColegio'+i)"><i
                                          style="color:white;" class="fas fa-trash"></i></button>
                                    </div>
                                    <mat-divider class="mt-2"></mat-divider>
                                  </div>
                                </div>
                              </nz-collapse-panel>
                            </nz-collapse>
                            <ng-template #extraUniversityBadge>
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][0]" name="cuniversity1"
                                inputId="cuniversity1" [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][1]" name="cuniversity2"
                                inputId="cuniversity2" [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][2]" name="cuniversity3"
                                inputId="cuniversity3" [binary]="true" [disabled]="true" />
                            </ng-template>
                            <nz-collapse>
                              <nz-collapse-panel (click)="resizeMap()" nzHeader="Universidades"
                                [nzExtra]="extraUniversityBadge">
                                <div class="container-fluid">
                                  <div class="row" *ngFor="let appHome of universidad; let i =index">
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="nombreu{{i}}" class="float-start">Nombre</label>
                                      <input nz-input [nzSize]="size" name="nombreu{{i}}"
                                        [attr.disabled]="this.stateTextfields[1][i]?true:null"
                                        [(ngModel)]="this.universidad[i].nombre" placeholder="Nombre" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="rama{{i}}" class="float-start">Rama de conocimiento</label>
                                      <nz-select class="w-100 f2r{{i}}u" [nzSize]="size" name="rama{{i}}"
                                        [nzDisabled]="this.stateTextfields[1][i]" [(ngModel)]="this.universidad[i].rama"
                                        (nzOpenChange)="rotateArrows($event,'f2r'+i+'u')">
                                        <nz-option class="w-100" *ngFor="let opt of ramas" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="instiu{{i}}" class="float-start">Institución</label>
                                      <nz-select class="w-100 f2i{{i}}u" [nzSize]="size"
                                        [nzDisabled]="this.stateTextfields[1][i]" name="instiu{{i}}"
                                        [(ngModel)]="this.universidad[i].institucion"
                                        (nzOpenChange)="rotateArrows($event,'f2i'+i+'u')">
                                        <nz-option class="w-100" *ngFor="let opt of institucion" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto d-flex flex-column">
                                      <label for="webu{{i}}" class="float-start">Página web</label>
                                      <input nz-input [nzSize]="size" placeholder="www" name="webu{{i}}"
                                        [attr.disabled]="this.stateTextfields[1][i]?true:null"
                                        [(ngModel)]="this.universidad[i].web" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center d-flex flex-row">
                                      <button id="univ{{i}}" type="button"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto btnDistancia"
                                        (click)="setRoute('#128c7e', this.uni, 'universidad',i,'univ'+i,'univ'+i+'ok','btndltUniv'+i,1,i,map_3)">Distancia</button>
                                      <button id="univ{{i}}ok" type="button" style="display: none; background:#1ebea5"
                                        class="btnDistancia button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto ">{{this.universidad[i].distancia}}</button>
                                      <button
                                        class="button is-danger is-rounded is-small is-responsive w-100 mt-2 mx-auto btndlt"
                                        id="btndltUniv{{i}}" style="display: none;"
                                        (click)="reRackService(1,i,'univ'+i,'univ'+i+'ok','btndltUniv'+i)"><i
                                          style="color:white;" class="fas fa-trash"></i></button>
                                    </div>
                                  </div>
                                </div>
                              </nz-collapse-panel>
                            </nz-collapse>

                            <div class="row px-0" style="background-color:#d9d9d9;">
                              <ng-template #extraBusBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][0]" name="cbus1" inputId="cbus1"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][1]" name="cbus2" inputId="cbus2"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][2]" name="cbus3" inputId="cbus3"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Autobuses"
                                    [nzExtra]="extraBusBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Parada</th>
                                            <th scope="col">Líneas</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody *ngFor="let appHome of this.autobus; let i =index">
                                          <tr>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[2][i]?true:null"
                                                [(ngModel)]="this.autobus[i].parada" placeholder="Parada"
                                                name="paradab{{i}}" />
                                            </td>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[2][i]?true:null"
                                                [(ngModel)]="this.autobus[i].lineas" placeholder="Líneas"
                                                name="lineasb{{i}}" />
                                            </td>
                                            <td>
                                              <div class="align-items-center d-flex flex-row">
                                                <button id="bus{{i}}" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#960018', this.busic,'autobus',i,'bus'+i,'bus'+i+'ok','btndltBus'+i,2,i,map_3)">Distancia</button>
                                                <button id="bus{{i}}ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.autobus[i].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltBus{{i}}" style="display: none;"
                                                  (click)="reRackService(2,i,'bus'+i,'bus'+i+'ok','btndltBus'+i)"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraSubwayBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][0]" name="cmetro" inputId="cmetro"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Metro"
                                    [nzExtra]="extraSubwayBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Parada</th>
                                            <th scope="col">Líneas</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[3][0]?true:null"
                                                name="paradametro" [(ngModel)]="this.metro[0].parada"
                                                placeholder="Parada" />
                                            </td>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[3][0]?true:null"
                                                name="lineasmetro" [(ngModel)]="this.metro[0].lineas"
                                                placeholder="Líneas" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="metro0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#d6a323', this.swi,'metro',0,'metro0','metro0ok','btndltMetro0',3,0,map_3)">Distancia</button>
                                                <button id="metro0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.metro[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltMetro0" style="display: none;"
                                                  (click)="reRackService(3,0,'metro0','metro0ok','btndltMetro0')"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraMarketBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][3]" name="cmarket1" inputId="cmarket1"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][4]" name="cmarket2" inputId="cmarket2"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][5]" name="cmarket3" inputId="cmarket3"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Supermercados"
                                    [nzExtra]="extraMarketBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody *ngFor="let appHome of this.mercados; let i =index">
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="marketname{{i}}"
                                                [attr.disabled]="this.stateTextfields[2][i+3]?true:null"
                                                [(ngModel)]="this.mercados[i].nombre" placeholder="Nombre" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="mercado{{i}}" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#6f5e53', this.mki,'mercados',i,'mercado'+i,'mercado'+i+'ok','btndltMercado'+i,2,i+3,map_3)">Distancia</button>
                                                <button id="mercado{{i}}ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.mercados[i].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltMercado{{i}}" style="display: none;"
                                                  (click)="reRackService(2,i+3,'mercado'+i,'mercado'+i+'ok','btndltMercado'+i)"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraAirportBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][1]" name="cairport" inputId="cairport"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Aeropuerto"
                                    [nzExtra]="extraAirportBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="airportname"
                                                [attr.disabled]="this.stateTextfields[3][1]?true:null"
                                                [(ngModel)]="this.aeropuerto[0].nombre" placeholder="Nombre" /></td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="aero0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#3200ff', this.airp,'aeropuerto',0,'aero0','aero0ok','btndltAero0',3,1,map_3)">Distancia</button>
                                                <button id="aero0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.aeropuerto[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltAero0" style="display: none;"
                                                  (click)="reRackService(3,1,'aero0','aero0ok','btndltAero0')"><i
                                                    style="color: white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraBeachBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][2]" name="cbeach" inputId="cbeach"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" [nzExtra]="extraBeachBadge" nzHeader="Playa">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia<!--<img style="width: 60px; height: 20px;"
                                                src="assets/svg/beach-distance-line-sombrilla.svg" alt="">-->
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="beachname"
                                                [attr.disabled]="this.stateTextfields[3][2]?true:null"
                                                [(ngModel)]="this.beach[0].nombre" placeholder="Nombre" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="beach0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('dodgerblue', this.bch,'beach',0,'beach0','beach0ok','btndltBeach0',3,2,map_3)">Distancia</button>
                                                <button id="beach0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.beach[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltBeach0" style="display: none;"
                                                  (click)="reRackService(3,2,'beach0','beach0ok','btndltBeach0')"><i
                                                    style="color: white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                            </div>
                          </div>
                        </div><!--row-->
                        <div class="row d-block mx-auto mb-5 pb-3" style="height: 50vh;"> <!-- col-5 -->
                          <div #map_3 id="map_3" class="form-control "
                            style="width: 100%; height: 100%; border-radius:7px; display: flex; padding-right: 0%;">
                            <!--<p-toast [showTransformOptions]="'translateY(100%)'" [showTransitionOptions]="'1000ms'"
                              [hideTransitionOptions]="'1000ms'" [showTransformOptions]="'translateX(100%)'" />-->
                          </div>
                        </div>
                      </div>
                    </ng-scrollbar>
                  </div>
                </div>
              </div>
            </nz-tab>
            <!-- Multimedia -->
            <nz-tab nzTitle=Multimedia nz-col nzSpan="8" (nzClick)="whatTab('Multimedia')">
              <!-- Fotos -->
              <dropzone [config]="config" [message]="'Pulse o arrastre sus imágenes para subirlas'" required
                (error)="onUploadError($event)" (success)="onUploadSuccess($event)" (removedFile)="onRemove($event)">
              </dropzone>
              <!-- Video para youtube -->
              <div class="form-group">
                <ng-container>
                  <div class="row">
                    <div class="col-12 ">
                      <label for="video">Video</label>
                      <nz-input-group [nzPrefix]="youtubePrefix" [nzSuffix]="youtubeSuffix">
                        <input style="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;
                      width:100%" nz-input #video [(ngModel)]="this.homeDto.video" name="video"
                          placeholder="https://www.youtube.com/watch?v=HHP5MKgK0o8" />
                      </nz-input-group>
                    </div>
                  </div>
                </ng-container>
              </div>
            </nz-tab>
            <!-- Publicar -->
            <nz-tab nzTitle=Publicar nz-col nzSpan="8" (nzClick)="whatTab('Publicar')">
            <!-- Pricing cards -->
            <app-pricing-card 
              [(remarcado)]="this.homeDto.destacado.featured" 
              [(ubicacionMapa)]="this.homeDto.direccionAproximada">
            </app-pricing-card>
              <div class="form-group">
                <ng-container>
                  <div class="row mt-3">
                    <div class="form__privacy ">
                      <input class="chkprivacy form-control" [(ngModel)]="this.homeDto.politicaPrivacidad"
                        id="chkprivacy" name="chkprivacy"
                        (change)="checkBox(this.homeDto.politicaPrivacidad?true:false)" type="checkbox" required>
                      <label class="labelprivacy" for="chkprivacy">Acepto los <a style="color:#7ce800;" class="aprivacy"
                          (click)="showModal('privatePolicy')">términos de privacidad</a> de
                        myhouse.</label>
                    </div>
                  </div>
                </ng-container>
              </div>
              <div class="flexible">
                <!--<button class="button is-link is-inverted float-start" style="color:#3a3b3c;font-weight: 600;">Borrar campos</button>-->
                <button type="button" pRipple class="button is-dark is-outlined float-end"
                  onclick="closeModal()">Cerrar</button>&nbsp;
                <button class="button is-dark float-end" pRipple [disabled]="!newMarkerForm.valid||showLoading"
                  (click)="newMarkerForm.ngSubmit.emit()">
                  <span *ngIf="showLoading" class="spinner-border text-light" role="status"
                    style="width: 1.5rem; height: 1.5rem; ">
                  </span>
                  <span style=" font-weight: 600;" *ngIf="!showLoading">Crear</span>
                </button><!--type="submit"-->
              </div>
            </nz-tab>
          </form>
        </nz-tabset>
      </section>
      <footer class="modal-card-foot border-top">
        <button type="button" id="prevTab" style="display:none;" class="button is-dark is-outlined float-start"
          (click)="decreaseTab()"><i class="bi bi-arrow-left"></i></button>
        <div class="buttons is-right">
          <button type="button" id="nextTab" #nextTab class="button is-dark is-outlined float-end"
            (click)="increaseTab()"><i class="bi bi-arrow-right"></i></button>
        </div>
      </footer>
    </div><!--modal-card-->
  </div><!--modal-->
  <ngx-loading [show]="showLoading" [config]="{ backdropBorderRadius: '3px',
  animationType: ngxLoadingAnimationTypes.rectangleBounce,}" [template]="customLoadingTemplate"></ngx-loading>
</div><!--container-fluid-->

<nz-modal [(nzVisible)]="policyModal" nzTitle="Términos y preferencias" (nzOnCancel)="handleCancel('privatePolicy')"
  (nzOnOk)="handleOk('privatePolicy')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull">
  <p *nzModalContent>Recopilaremos y utilizaremos su información personal (que puede incluir cookies
    que recopilamos a través de su uso de myhouse.com y nuestros otros sitios web) para
    brindarle una experiencia de usuario personalizada (por ejemplo, si está anunciando
    una propiedad, podemos recomendarle ofrecerle productos para optimizar el rendimiento
    de su búsqueda o, si está buscando una propiedad, podemos recomendarle propiedades
    que puedan interesarle). También podemos comunicarnos con usted para promocionar nuestros
    servicios o los de terceros. Nuestra Política de Privacidad explica con más detalle cómo
    recopilamos, utilizamos y divulgamos información personal y cómo acceder, corregir o
    presentar quejas sobre el manejo de información personal.</p>
</nz-modal>

<!-- Leaflet map -->
<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav class="example-sidenav overflow-hidden" mode="side" [ngStyle]="this.resizeStyleListSidenav">
    <div class="container-fluid mt-2 mb-5 pb-2 ">
      <div class="row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 p-0 sidebox-cards" style="width: 49vw;">
        <!--row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 p-0-->
        <div class="col p-0"
          *ngFor="let appHome of (homes | orderBy: 'destacado.featured':true) | paginate: { itemsPerPage: 40, currentPage: page }; let i =index">
          <div *ngFor="let appHomeP of (newProjects | orderBy: 'destacado.featured':true); let j =index" class="w-100">
            <div class=" teaser-tile mt-2 border " id="teaserTile{{appHome.viviendaId}}">
              <span class="favorite favorite-need-login" data-id="1935922" data-type="estate"
                *ngIf="this.cardSkeletonOn==false">
                <div class="wrapperDemo" #wrapperDemo>
                  <input [checked]="false" (change)="cuoreLikeFeature(appHome.viviendaId, appHome, $event)"
                    class="red-heart-checkbox" #redheartcheckbox id="{{appHome.viviendaId}}" type="checkbox">
                  <label for="{{appHome.viviendaId}}"></label>
                </div>
              </span>
              <div class="flex-grow-1 px-0 "> <!-- Es el sidenav -->
                <div class="with-img" style="position: relative;" *ngIf="this.cardSkeletonOn==false">
                  <div id="carouselExample{{this.idIndex[i]}}" class="carousel slide" data-bs-interval="false">
                    <div class="carousel-inner">
                      <div class="carousel-item " *ngFor="let data of appHome.images; let j=index"
                        [ngClass]="(j === 0) ? 'active' : ''">
                        <img style="aspect-ratio:16/9;" src={{data.imageUrl}} alt="First slide">
                      </div>
                    </div>
                    <button class="carousel-control-prev" type="button"
                      [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button"
                      [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                </div>
                <div class="with-img" style="position: relative;" *ngIf="this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '9.9em', background: '#e2e8f0', width: '100%', display:'flex'}" />
                </div>
                <div class="container"
                  *ngIf="(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '1.2em', background: '#e2e8f0', width: '20%', display: 'flex', margin: '.7em', float: 'right'}" />
                </div>
                <div class="desc" *ngIf="this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                </div>
                <div class="branding-actions"
                  *ngIf="(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==true">

                </div>
                <div class="txt" *ngIf="this.cardSkeletonOn==true">

                </div>
                <div class="price" *ngIf="this.cardSkeletonOn==true" style="max-height: 3em;">
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '6em', display: 'flex', margin: '.1em'}" />
                </div>
                <!--Card branding-->
                <div class="branding-actions"
                  *ngIf='(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==false'
                  [style.background-color]="appHome.proColor" style="height:2.1em;">
                  <!--User brand color-->
                  <div class="d-flex flex-grow-1 justify-content-end">
                    <picture *ngIf='appHome.proImage!=null || appHome.proImage!=undefined'>
                      <img class="branding-image-card" src={{appHome.proImage.imageUrl}} alt="">
                    </picture>
                  </div>
                </div>
                <!-- Home models-->
                <div class="desc" *ngIf="this.tipo.includes(appHome.tipo) && this.cardSkeletonOn==false">
                  <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span
                      class="text-secondary">{{appHome.tipo}}</span> </div>
                  <div class="route mx-2">{{appHome.calle}} <span style="color:#d9d9d9">|</span> {{appHome.distrito}}
                    <span style="color:#d9d9d9">|</span> {{appHome.ciudad}}
                  </div>
                  <div class="units mx-2">
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                      <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHome.habitaciones}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                      <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"
                        name="expand-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHome.superficie}}m²</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="bath">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/card-toilet.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.aseos}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="facing">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/card-facing.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.orientacion}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="card-spaces"
                      *ngIf="appHome.garage">
                      <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;"
                        name="car-sport-outline"></ion-icon>
                      <span *ngIf="appHome.garage<=5"
                        style="font-size: 0.8em; margin-left: 2px;">{{appHome.garage}}</span>
                      <span *ngIf="appHome.garage==6" style="font-size: 0.8em; margin-left: 2px;">+5 </span>
                      <span *ngIf="appHome.garage>6"
                        style="font-size: 0.8em; margin-left: 2px; color:#7ce800;">+{{this.formatNumberWithCommas(appHome.garage)}}€</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="year">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        name="hammer-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.antiguedad}}</span>
                    </div>
                    <div class="unit-item mx-1" *ngIf="appHome.beach[0].distancia" data-toggle="tooltip"
                      data-placement="top" title="beach-card-distance">
                      <ion-icon style="font-size: 0.750em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/sea.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.beach[0].distancia}}</span>
                    </div>
                  </div>
                </div>
                <!-- New project models -->
                <div class="desc"
                  *ngIf="appHomeP.tipo=='Proyecto nuevo' && (appHomeP.viviendaId==appHome.viviendaId && this.cardSkeletonOn==false)">
                  <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span
                      class="text-secondary">{{appHome.tipo}}</span> </div>
                  <div class="route mx-2">{{appHome.calle}} <span style="color:#d9d9d9">|</span> {{appHome.distrito}}
                    <span style="color:#d9d9d9">|</span> {{appHome.ciudad}}
                  </div>
                  <div class="units mx-2">
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                      <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                      <span
                        style="font-size: 0.8em;">{{appHomeP.habitacionesDesde+'-'+appHomeP.habitacionesHasta}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                      <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"
                        name="expand-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHomeP.superficieDesde+'-'+appHomeP.superficieHasta}}m²</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="itemsP">
                      <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/project-card-units.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHomeP.totalViviendasConstruidas}}</span>
                    </div>
                    <!--En curso-->
                    <div class="unit-item mx-1 my-auto"
                      *ngIf="(appHomeP.estadoConstruccion=='EnCurso' && appHomeP.finDeObra)" data-toggle="tooltip"
                      data-placement="top" title="waitingP">
                      <ion-icon style="font-size: 0.75em; position:relative; color:#98a3b2; top:-1px;"
                        name="key-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px; color:#7ce800;">{{appHomeP.finDeObra}}</span>
                    </div>
                    <!--Terminado-->
                    <div class="unit-item mx-1 my-auto" *ngIf="(appHomeP.estadoConstruccion=='Terminado')"
                      data-toggle="tooltip" data-placement="top" title="finishedP">
                      <ion-icon style="font-size: 0.75em; position:relative; color:#98a3b2; top:-1px;"
                        name="key-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px; color:dodgerblue;">Disponible</span>
                    </div>
                  </div>
                </div>
                <div class="txt h-100p b-none pt-0" *ngIf="this.cardSkeletonOn==false">
                  <div class="clamp-3" (click)="runAdCard(appHome,'homeList')">{{appHome.descripcion}}</div>
                </div>
                <div class="price"
                  *ngIf="(appHome.condicion=='Venta' && appHome.precioFinal>0) && this.cardSkeletonOn==false">
                  <div class="price-item">
                    <!--NewProject tag-->
                    <span class="text-uppercase" style="font-size:.7em;letter-spacing: .5px;"
                      *ngIf="appHome.tipo=='Proyecto nuevo'&&appHome.condicion=='Venta'">desde</span>
                    {{formatNumberWithCommas(appHome.precioFinal)+'€'}}
                    <span *ngIf="appHome.precioInicial>appHome.precioFinal"
                      class="price-value text-decoration-line-through old-price textFont ml-1"
                      style="font-size: .675em; color: #007aa2;">{{formatNumberWithCommas(appHome.precioInicial)+'€'}}</span>
                    <span class="ml-1 textFont" *ngIf="appHome.precioInicial>appHome.precioFinal"
                      style="color:#8dca3f; font-size: .675em;">-{{this.discount(''+appHome.precioInicial,''+appHome.precioFinal)}}%</span>
                  </div>

                </div>

                <div class="price"
                  *ngIf="(appHome.condicion=='Alquiler' || appHome.condicion=='Compartir') && (appHome.precioAlquiler!=0 && this.cardSkeletonOn==false)">
                  {{formatNumberWithCommas(appHome.precioAlquiler)+'€'}}
                  <span *ngIf="appHome.precioAlquilerInicial>appHome.precioAlquiler"
                    class="price-value text-decoration-line-through old-price textFont ml-1"
                    style="font-size: .675em; color: #007aa2;">{{formatNumberWithCommas(appHome.precioAlquilerInicial)+'€'}}</span>
                  <span class="ml-1 textFont" *ngIf="appHome.precioAlquilerInicial>appHome.precioAlquiler"
                    style="color:#8dca3f; font-size: .675em;">-{{this.discount(''+appHome.precioAlquilerInicial,''+appHome.precioAlquiler)}}%</span><!--&& this.home.model!='NewProject'-->
                </div>
                <!-- Alquiler y venta -->
                <div class="price" *ngIf="appHome.condicion=='Alquiler y venta' && this.cardSkeletonOn==false">
                  {{formatNumberWithCommas(appHome.precioFinal)+'€'}}
                  <nz-divider nzType="vertical" style="background:#007aa2;"></nz-divider>
                  {{formatNumberWithCommas(appHome.precioAlquiler)+'€'}}
                </div>
                <!--<div class="social-actions">
                    <div class="like-item">
                      <ion-icon name="heart-outline"></ion-icon>
                          <div class="social-counter" data-counter="1">1</div>
                      </div>
                    <div class="superlike-item">
                      <ion-icon name="heart-outline"></ion-icon>
                        <div class="social-counter" data-counter="0"></div>
                    </div>
                    <div class="d-flex flex-grow-1 justify-content-end">
                        <div class="recommend-item">
                            <div class="social-title">Recommend</div>
                            <ion-icon name="thumbs-up-outline"></ion-icon>
                            <div class="social-counter" data-counter="0"></div>
                        </div>
                    </div>
                </div>-->
              </div>
              <!--<div class="txt color-black b-none pt-4">
                <div class="contacts listing-contacts-block">
                    <div class="buttons">
                        <a href="" class="btn btn-sm w-100p btn-outline-primary">
                          <ion-icon name="thumbs-up-outline"></ion-icon>
                            <span class="text-truncate ml-6">Mensaje</span>
                        </a>
                    </div>
                    <div class="col-auto overflow-hidden">
                      <div class="btn btn-sm w-100p btn-primary show-contacts-btn">
                        <ion-icon name="call-outline"></ion-icon>
                      </div>
                  </div>
                </div>
            </div>-->
            </div>
          </div>
        </div>
      </div>
      <pagination-controls *ngIf="this.homes.length>40" class="my-pagination mt-3 d-flex align-items-center"
        (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div id="map">
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- Filters form -->

<p-drawer [(visible)]="sidebarVisible" position="right" header="Filtros">
  <div class="text-center">
    <!--<h3 class="pull-center text-secondary">Filtros</h3>-->
    <form class="form-inline my-2 my-lg-0 justify-content-center" #filterSearchForm="ngForm" method="post"
      (ngSubmit)="applyCaptureNameFilter()"><!--filterSearchForm.value-->
      <div class="container text-center p-0 mt-3">
        <div class="row align-items-center">
          <div class=".col-md-3 .offset-md-3">
            <nz-segmented [nzBlock]="true" [nzOptions]="this.condicionFiltros" onclick="lessUncheck()"
              (ngModelChange)="filter($event,'condicion');clearMap($event)" [ngModel]=segmentedIndex></nz-segmented>
          </div>
        </div>
        <div class="row mt-3">
          <div class=".col-12 mx-auto"><!--col-sm-5 col-md-6-->
            <!--Común ciudad-->
            <label class="filterLabel d-block" for="CiudadFilter">Ciudad</label>
            <div class=" form-group w-100" style="background-color: white;">
              <nz-select id="CiudadFilter" class="cityFiltersSelect w-100" [(ngModel)]="this.homeFiltersRequest.ciudad"
                [nzSize]="sizeM" [nzAllowClear]="true" (nzOpenChange)="rotateArrows($event,'cityFiltersSelect')"
                (ngModelChange)="filter($event,'ciudad')">
                <nz-option *ngFor="let opt of provincias" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
              </nz-select>
            </div>
          </div>
        </div>
      </div>
      <!-- Común precio alquiler -->
      <div class="container text-center" *ngIf="!this.hideValues4share">
        <div class="container mt-3">
          <div class="row">
            <div class="col-12 px-0"><!--col-sm-5 col-md-6-->
              <div class="row g-2 ml-1"
                *ngIf="this.filterRentSalePriceFlag=='Alquiler' || this.filterRentSalePriceFlag=='Compartir'">
                <label class="filterLabel mt-1" for="priceContainer">Precio</label>
                <div class="col-6">
                  <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                  <div class="form-group">
                    <nz-select id="minPriceFilter" class="minPriceFilter w-100"
                      [(ngModel)]="this.homeFiltersRequest.precioAlquilerMin" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'minPriceFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'precioAlquilerMin')">
                      <nz-option *ngFor="let opt of precioMinimoAlquiler" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                </div>
                <div class="col-6">
                  <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                  <div class="form-group">
                    <nz-select id="maxPriceFilter" class="maxPriceFilter w-100"
                      [(ngModel)]="this.homeFiltersRequest.precioAlquilerMax" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'maxPriceFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'precioAlquilerMax')">
                      <nz-option *ngFor="let opt of precioMaximoAlquiler" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <br>
                </div>
              </div>
              <!-- Común precio venta min -->
              <div class="row g-2 mx-auto p-0" *ngIf="this.filterRentSalePriceFlag=='Venta'">
                <label class="filterLabel mt-1" for="priceContainer">Precio</label>
                <div class="col-6">
                  <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                  <div class="form-group">
                    <nz-select id="minPriceFilter" class="minPriceFilter w-100"
                      [(ngModel)]="this.homeFiltersRequest.precioVentaMin" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'minPriceFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'precioVentaMin')">
                      <nz-option *ngFor="let opt of precioMinimoVenta" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                </div>
                <!-- Común precio venta max -->
                <div class="col-6">
                  <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                  <div class="form-group">
                    <nz-select id="maxPriceFilter" class="maxPriceFilter w-100" *ngIf="this.searchOption!='Edificio'"
                      [(ngModel)]="this.homeFiltersRequest.precioVentaMax" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'maxPriceFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'precioVentaMax')">
                      <nz-option *ngFor="let opt of precioMaximoVenta" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                    <!-- Edificio precio venta max -->
                    <nz-select id="maxPriceFilter" class="maxPriceFilter w-100" *ngIf="this.searchOption=='Edificio'"
                      [(ngModel)]="this.homeFiltersRequest.precioVentaMax" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'maxPriceFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'precioVentaMax')">
                      <nz-option *ngFor="let opt of precioMaximoVentaEdificio" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <br>
                </div>
              </div>
              <!-- Común superficie -->
              <div class="row g-2 mx-auto p-0" [hidden]="this.searchOption=='Garage' || this.searchOption=='Trastero'">
                <label class="filterLabel" for="priceContainer">Superficie</label>
                <div class="col-6">
                  <label class="filterLabel d-block" for="minAreaFilter">Mín</label>
                  <div class="form-group">
                    <nz-select id="minAreaFilter" class="minAreaFilter w-100"
                      [(ngModel)]="this.homeFiltersRequest.superficieMin" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'minAreaFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'superficieMin')">
                      <nz-option *ngFor="let opt of superficie" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                </div>
                <div class="col-6">
                  <label class="filterLabel d-block" for="maxAreaFilter">Max</label>
                  <div class="form-group">
                    <nz-select id="maxAreaFilter" class="maxAreaFilter w-100"
                      [(ngModel)]="this.homeFiltersRequest.superficieMax" [nzSize]="sizeM"
                      (nzOpenChange)="rotateArrows($event,'maxAreaFilter')" [nzAllowClear]="true"
                      (ngModelChange)="filter($event,'superficieMax')">
                      <nz-option *ngFor="let opt of superficie" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <br>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Garage -->
      <div class="container text-center" *ngIf="!this.hideValues4share && this.searchOption=='Garage'">
        <div class="container mt-3">
          <div class="row mt-2 mb-3">
            <label class="filterLabel text-secondary mt-n2 d-block" for="amenitiesFilter">Tipo de aparcamiento</label>
            <!-- Urbano, urbanizable y rústico -->
            <div class="row mt-3 mx-auto">

              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/car-parking2.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooGarageParaCoche"
                  style="text-overflow: ellipsis; white-space:nowrap">Plaza para coche</label>
                <input id="fooGarageParaCoche"
                  (change)="filter(this.homeFiltersRequest.plazaParaCoche?true:false,'plazaParaCoche')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.plazaParaCoche" type="checkbox">
                <label class="switch" for="fooGarageParaCoche"></label>
              </div>

              <!---->
              <div class="col input-chkbox-amenities mt-2">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/moto-parking.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooGarageParaMoto"
                  style="text-overflow: ellipsis; white-space:nowrap">Plaza para moto</label>
                <input id="fooGarageParaMoto"
                  (change)="filter(this.homeFiltersRequest.plazaParaMoto?true:false,'plazaParaMoto')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.plazaParaMoto" type="checkbox">
                <label class="switch" for="fooGarageParaMoto"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Suelo -->
      <div class="container text-center" *ngIf="!this.hideValues4share && this.searchOption=='Suelo'">
        <div class="container mt-3">
          <div class="row mt-2 mb-3">
            <label class="filterLabel text-secondary mt-n2 d-block" for="amenitiesFilter">Tipo</label>
            <!-- Urbano, urbanizable y rústico -->
            <div class="row row-cols-2 mt-3 mx-auto">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/urbano.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooSueloUrbano"
                  style="text-overflow: ellipsis; white-space:nowrap">Urbano</label>
                <input id="fooSueloUrbano" (change)="filter(this.homeFiltersRequest.urbano?true:false,'urbano')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.urbano" type="checkbox">
                <label class="switch" for="fooSueloUrbano"></label>
              </div>
              <!---->
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/urbanizable.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooSueloUrbanizable"
                  style="text-overflow: ellipsis; white-space:nowrap">Urbanizable</label>
                <input id="fooSueloUrbanizable"
                  (change)="filter(this.homeFiltersRequest.urbanizable?true:false,'urbanizable')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.urbanizable" type="checkbox">
                <label class="switch" for="fooSueloUrbanizable"></label>
              </div>
            </div>
            <!---->
            <div class="row row-cols-2 mt-3 mx-auto">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/rustico.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooSueloNoUrbanizable"
                  style="text-overflow: ellipsis; white-space:nowrap">Rústico</label>
                <input id="fooSueloNoUrbanizable"
                  (change)="filter(this.homeFiltersRequest.noUrbanizable?true:false,'noUrbanizable')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.noUrbanizable" type="checkbox">
                <label class="switch" for="fooSueloNoUrbanizable"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Negocio -->
      <div class="container text-center" *ngIf="!this.hideValues4share && this.searchOption=='Negocio'">
        <div class="container mt-3">
          <div class="row mt-2 mb-3">
            <label class="filterLabel text-secondary mt-n2 d-block" for="amenitiesFilter">Comodidades</label>
            <!-- Climatización y traspaso -->
            <div class="row row-cols-2 mt-3 mx-auto">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; "
                  src="assets/svg/conditioner-machine2.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioAA"
                  style="text-overflow: ellipsis; white-space:nowrap">Climatizado</label>
                <input id="fooNegocioAA"
                  (change)="filter(this.homeFiltersRequest.aireAcondicionado?true:false,'aireAcondicionado')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.aireAcondicionado" type="checkbox">
                <label class="switch" for="fooNegocioAA"></label>
              </div>
              <!---->
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/traspaso.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioTraspaso"
                  style="text-overflow: ellipsis; white-space:nowrap">Traspaso</label>
                <input id="fooNegocioTraspaso" (change)="filter(this.homeFiltersRequest.traspaso?true:false,'traspaso')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.traspaso" type="checkbox">
                <label class="switch" for="fooNegocioTraspaso"></label>
              </div>
            </div>
            <!-- Local o nave -->
            <div class="row row-cols-2 mt-3 mx-auto">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/local.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioLocal"
                  style="text-overflow: ellipsis; white-space:nowrap">Local</label>
                <input id="fooNegocioLocal" (change)="filter(this.homeFiltersRequest.local?true:false,'local')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.local" type="checkbox">
                <label class="switch" for="fooNegocioLocal"></label>
              </div>
              <!---->
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/nave.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioNave"
                  style="text-overflow: ellipsis; white-space:nowrap">Nave</label>
                <input id="fooNegocioNave" (change)="filter(this.homeFiltersRequest.nave?true:false,'nave')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.nave" type="checkbox">
                <label class="switch" for="fooNegocioNave"></label>
              </div>
            </div>
            <!-- Salida de humos y hace esquina-->
            <div class="row row-cols-2 mt-3 mx-auto">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/extractor.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioHumos"
                  style="text-overflow: ellipsis; white-space:nowrap">Salida de humos</label>
                <input id="fooNegocioHumos"
                  (change)="filter(this.homeFiltersRequest.salidaDeHumos?true:false,'salidaDeHumos')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.salidaDeHumos" type="checkbox">
                <label class="switch" for="fooNegocioHumos"></label>
              </div>
              <!---->
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/corner.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooNegocioEsquina"
                  style="text-overflow: ellipsis; white-space:nowrap">Hace esquina</label>
                <input id="fooNegocioEsquina"
                  (change)="filter(this.homeFiltersRequest.haceEsquina?true:false,'haceEsquina')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.haceEsquina" type="checkbox">
                <label class="switch" for="fooNegocioEsquina"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Oficina -->
      <div class="container text-center" *ngIf="!this.hideValues4share && this.searchOption=='Oficina'">
        <div class="container mt-3">
          <!--Comodidades oficina-->
          <div class="row mt-2 mb-3">
            <label class="filterLabel text-muted mt-n2 d-block" for="amenitiesFilter">Comodidades</label>
            <!-- Climatización y parking -->
            <div class="row row-cols-2 mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; "
                  src="assets/svg/conditioner-machine2.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOffice"
                  style="text-overflow: ellipsis; white-space:nowrap">Climatizado</label>
                <input id="fooOffice"
                  (change)="filter(this.homeFiltersRequest.aireAcondicionado?true:false,'aireAcondicionado')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.aireAcondicionado" type="checkbox">
                <label class="switch" for="fooOffice"></label>
              </div>
              <div class="col input-chkbox-amenities form-group">
                <ion-icon style="font-size: 1.875em; position:relative; "
                  src="assets/svg/parking-office.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="foo4Office"
                  style="text-overflow: ellipsis; white-space:nowrap">Parking</label>
                <input id="foo4Office"
                  (change)="filter(this.homeFiltersRequest.aparcamientos?true:false,'aparcamientos')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.aparcamientos" type="checkbox">
                <label class="switch" for="foo4Office"></label>
              </div>
            </div>
            <!-- CCTV y seguridad 24/4 -->
            <div class="row row-cols-2 mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/cctv2.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeCctv"
                  style="text-overflow: ellipsis; white-space:nowrap">CCTV</label>
                <input id="fooOfficeCctv"
                  (change)="filter(this.homeFiltersRequest.videoVigilancia?true:false,'videoVigilancia')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.videoVigilancia" type="checkbox">
                <label class="switch" for="fooOfficeCctv"></label>
              </div>
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/24reception.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOffice24reception"
                  style="text-overflow: ellipsis; white-space:nowrap">Seguridad 24/7</label>
                <input id="fooOffice24reception"
                  (change)="filter(this.homeFiltersRequest.recepcion24_7?true:false,'recepcion24_7')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.recepcion24_7" type="checkbox">
                <label class="switch" for="fooOffice24reception"></label>
              </div>
            </div>
            <!-- Con Mobiliario y accesible -->
            <div class="row row-cols-2 mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/office-desk.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeDesks"
                  style="text-overflow: ellipsis; white-space:nowrap">Con mobiliario</label>
                <input id="fooOfficeDesks" (change)="filter(this.homeFiltersRequest.amueblado?true:false,'amueblado')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.amueblado" type="checkbox">
                <label class="switch" for="fooOfficeDesks"></label>
              </div>
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.6em; position:relative; " src="assets/svg/wheelchair3.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeAccesible"
                  style="text-overflow: ellipsis; white-space:nowrap">Accesible</label>
                <input id="fooOfficeAccesible"
                  (change)="filter(this.homeFiltersRequest.inmuebleAccesible?true:false,'instalacionesDiscapacitados')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  type="checkbox" [(ngModel)]="this.homeFiltersRequest.inmuebleAccesible">
                <label class="switch" for="fooOfficeAccesible"></label>
              </div>
            </div>

            <!-- Control de acceso para personas y vehículos -->
            <div class="row mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/turnstiles.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeTurnstiles"
                  style="text-overflow: ellipsis; white-space:nowrap">Control de acceso personal</label>
                <input id="fooOfficeTurnstiles"
                  (change)="filter(this.homeFiltersRequest.controlDeAccesoPersonal?true:false,'controlDeAccesoPersonal')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.controlDeAccesoPersonal" type="checkbox">
                <label class="switch" for="fooOfficeTurnstiles"></label>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/parking-lot2.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeParking"
                  style="text-overflow: ellipsis; white-space:nowrap">Control de acceso vehículos</label>
                <input id="fooOfficeParking"
                  (change)="filter(this.homeFiltersRequest.controlDeAccesoVehiculos?true:false,'controlDeAccesoVehiculos')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.controlDeAccesoVehiculos" type="checkbox">
                <label class="switch" for="fooOfficeParking"></label>
              </div>
            </div>
            <!-- Edificio exlusivo oficinas -->
            <div class="row mt-3">
              <div class="col input-chkbox-amenities">
                <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/coworking.svg"></ion-icon>
                <label class="filterLabel text-secondary" for="fooOfficeOnly"
                  style="text-overflow: ellipsis; white-space:nowrap">Edificio exclusivo oficinas</label>
                <input id="fooOfficeOnly"
                  (change)="filter(this.homeFiltersRequest.edificioExclusivoOficina?true:false,'edificioExclusivoOficina')"
                  style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                  [(ngModel)]="this.homeFiltersRequest.edificioExclusivoOficina" type="checkbox">
                <label class="switch" for="fooOfficeOnly"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Vivienda -->
      <div class="container text-center" *ngIf="!this.hideValues4share && this.searchOption=='Vivienda'">
        <div class="container mt-3">
          <div class="row mt-2">
            <div class=".col-12 mx-auto">
              <!--Tipo-->
              <label class="filterLabel d-block" for="TipoFilter">Tipo de inmueble</label>
              <nz-select nzMode="multiple" [nzPlaceHolder]="this.labelMultiselect" nzAllowClear class="w-100"
                [nzSize]="sizeM" (ngModelChange)="filter($event,'tipo')" [(ngModel)]="this.homeFiltersRequest.tipo"
                name="tipoFilter">
                <ng-container *ngIf="this.filterRentSalePriceFlag!='Compartir'">
                  <nz-option *ngFor="let opt of tipoFilters" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                </ng-container>
                <ng-container *ngIf="this.filterRentSalePriceFlag=='Compartir'">
                  <nz-option nzLabel=Habitación nzValue=Habitación></nz-option>
                </ng-container>
              </nz-select>
              <!--<p-multiSelect [options]="tipo | keyvalue" [placeholder]="this.labelMultiselect" optionLabel="value"
                [maxSelectedLabels]="11" display="chip" [showClear]="true" [panelStyle]="{'width':'100%'}"
                [style]="{'width':'100%','height':'33px'}" scrollHeight="400px" [selectionLimit]="11"
                (onChange)="filter($event.value,'tipo')" [filter]="true" [disabled]="this.filtersMultiselect">
              </p-multiSelect>-->
            </div>
          </div>
          <!--Estado-->
          <div class="row mt-2 mb-2 form-group align-items-center w-100 mx-auto px-0">
            <label class="filterLabel d-block w-100" for="estadoFilters">Estado</label>
            <nz-select nzMode="multiple" nzAllowClear [nzSize]="sizeM" (ngModelChange)="filter($event,'estado')"
              [(ngModel)]="this.homeFiltersRequest.estado" class="w-100" name="estadoFilters"
              [nzPlaceHolder]="this.labelMultiselect">
              <ng-container>
                <nz-option *ngFor="let opt of propertyState" [nzLabel]="opt" [nzValue]="opt"></nz-option>
              </ng-container>
            </nz-select>
          </div>
          <div class="row mt-2 form-group">
            <div class=".col-12 ">
              <!--Keywords-->
              <label class="filterLabel d-block" for="keyWordsfilter">Palabras clave</label>
              <div id="demo-2">
                <nz-badge [nzCount]="this.wordCount" [nzStyle]="{ backgroundColor: 'lightgreen' }">
                  <input class="keywords " name="keyWordsfilter" [(ngModel)]="this.homeFiltersRequest.keywords"
                    (keyup)="wordCounter()" type="search" placeholder="Search"
                    onkeydown="return /[a-z, ]/i.test(event.key)" onblur="if (this.value == '') {this.value = '';}"
                    onfocus="if (this.value == '') {this.value = '';}">
                </nz-badge>
              </div>
            </div>
          </div>
          <div class="row mt-2 form-group">
            <!--Habitaciones-->
            <br>
            <label class="filterLabel d-block" for="Habitaciones">Habitaciones</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.habitaciones"
              (ngModelChange)="filter($event,'habitaciones')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseos-->
            <br>
            <label class="filterLabel d-block" for="Aseos">Aseos</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseos"
              (ngModelChange)="filter($event,'aseos')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseo ensuite-->
            <br>
            <label class="filterLabel d-block" for="AseoEnsuiteFilter">Aseo ensuite</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseoEnsuite"
              (ngModelChange)="filter($event,'aseoEnsuite')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aparcamientos-->
            <br>
            <label class="filterLabel d-block" for="AparcamientosFilter">Aparcamientos</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.garage"
              (ngModelChange)="filter($event,'garage')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <!-- Vistas -->
          <div class="row mx-auto p-0">
            <div class="row mt-2 mb-2 form-group align-items-center w-100 mx-auto px-0">
              <label class="filterLabel d-block w-100" for="viewsFilter">Vistas</label>
              <nz-select nzMode="multiple" nzAllowClear [nzSize]="sizeM"
                (ngModelChange)="filter($event,'vistasDespejadas')" [(ngModel)]="this.homeFiltersRequest.vistas"
                class="w-100" name="viewsFilter">
                <ng-container>
                  <nz-option *ngFor="let opt of vistas" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                </ng-container>
              </nz-select>
            </div>
            <!--Comodidades vivienda-->
            <div class=" mt-3 mb-3">
              <div class="">
                <label class="filterLabel text-muted mt-n2 d-block" for="amenitiesFilter">Comodidades</label>
                <div class="row row-cols-2 mt-1">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/aa3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo"
                      style="text-overflow: ellipsis; white-space:nowrap">Inverter</label>
                    <input id="foo"
                      (change)="filter(this.homeFiltersRequest.aireAcondicionado?true:false,'aireAcondicionado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.aireAcondicionado" type="checkbox">
                    <label class="switch" for="foo"></label>
                  </div>
                  <div class="col input-chkbox-amenities form-group">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/balcony3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo4"
                      style="text-overflow: ellipsis; white-space:nowrap">Balcón</label>
                    <input id="foo4" (change)="filter(this.homeFiltersRequest.balcon?true:false,'balcon')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.balcon" type="checkbox">
                    <label class="switch" for="foo4"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/heating3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo3"
                      style="text-overflow: ellipsis; white-space:nowrap">Calefacción</label>
                    <input id="foo3" (change)="filter(this.homeFiltersRequest.calefaccion?true:false,'calefaccion')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.calefaccion">
                    <label class="switch" for="foo3"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;"
                      src="assets/svg/shower-tabs.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo2"
                      style="text-overflow: ellipsis; white-space:nowrap">Hidromasaje</label>
                    <input id="foo2"
                      (change)="filter(this.homeFiltersRequest.cabinaHidromasaje?true:false,'cabinaHidromasaje')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.cabinaHidromasaje">
                    <label class="switch" for="foo2"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/amueblado3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo5"
                      style="text-overflow: ellipsis; white-space:nowrap">Amueblado</label>
                    <input id="foo5" (change)="filter(this.homeFiltersRequest.amueblado?true:false,'amueblado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.amueblado">
                    <label class="switch" for="foo5"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/elevator3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo6"
                      style="text-overflow: ellipsis; white-space:nowrap">Ascensor</label>
                    <input id="foo6" (change)="filter(this.homeFiltersRequest.ascensor?true:false,'ascensor')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.ascensor">
                    <label class="switch" for="foo6"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.6em; position:relative; " src="assets/svg/wheelchair3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo7"
                      style="text-overflow: ellipsis; white-space:nowrap">Accesible</label>
                    <input id="foo7"
                      (change)="filter(this.homeFiltersRequest.inmuebleAccesible?true:false,'instalacionesDiscapacitados')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.inmuebleAccesible">
                    <label class="switch" for="foo7"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/solar_panels3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo8"
                      style="text-overflow: ellipsis; white-space:nowrap">Paneles solares</label>
                    <input id="foo8"
                      (change)="filter(this.homeFiltersRequest.panelesSolares?true:false,'panelesSolares')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.panelesSolares">
                    <label class="switch" for="foo8"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative;" src="assets/svg/jacuzzi3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo9"
                      style="text-overflow: ellipsis; white-space:nowrap">Jacuzzi</label>
                    <input id="foo9" (change)="filter(this.homeFiltersRequest.jacuzzi?true:false,'jacuzzi')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.jacuzzi">
                    <label class="switch" for="foo9"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2.1em; position:relative; "
                      src="assets/svg/poolprivate3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo10"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina privada</label>
                    <input id="foo10"
                      (change)="filter(this.homeFiltersRequest.piscinaPrivada?true:false,'piscinaPrivada')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.piscinaPrivada">
                    <label class="switch" for="foo10"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/lockers3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo11"
                      style="text-overflow: ellipsis; white-space:nowrap">Trastero</label>
                    <input id="foo11" (change)="filter(this.homeFiltersRequest.trastero?true:false,'trastero')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="trastero" [(ngModel)]="this.homeFiltersRequest.trastero">
                    <label class="switch" for="foo11"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; "
                      src="assets/svg/communitypool3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo12"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina comunitaria</label>
                    <input id="foo12" (change)="filter(this.homeFiltersRequest.piscinaComp?true:false,'piscinaComp')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="piscinaComp" [(ngModel)]="this.homeFiltersRequest.piscinaComp">
                    <label class="switch" for="foo12"></label>
                  </div>
                  <br>
                </div>
              </div><!--card content-->
            </div><!--card-->

          </div><!--row mt-2 -->
        </div><!--container-->
      </div>
    </form>
  </div>
  <ng-template #footer>
    <div class="flex items-center">
      <button type="reset" class="button is-rounded is-light" name="resetFilters"
        (click)="filterSearchForm.resetForm();clearMap('full-clear');" onclick="uncheck()">Borrar filtros</button>
    </div>
  </ng-template>
</p-drawer>

<nz-modal nzCentered [(nzVisible)]="joinUsModal" (nzOnCancel)="handleCancel('joinUsModal')"
  (nzOnOk)="handleOk('likeHome')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull"
  [nzStyle]="{ padding: '0px' }">
  <ng-container *nzModalContent>
    <div class="restricted-message" id="restricted-message">
      <div class="body">
        <div class="advertisement">
          <!--<div class="image">
                    <img src="" alt="Para disfrutar del chat en tiempo real cree un cuenta"/>
                    <div class="text"><h4>Entrar o registrarse</h4></div>
                </div>-->
          <div class="padded ">
            <div class="heading mt-1">Crear cuenta</div>
            <p class="mb-3">Acceda o registrese para guardar búsquedas y favoritos</p>
            <button tabindex="0" class="login only-one-button " routerLink="/login"><span
                class="readmore-button-label">ENTRAR</span></button>
            <button tabindex="0" class="register only-one-button " routerLink="/register"><span
                class="readmore-button-label">REGISTRARSE</span></button>
            <p class="privacy">
              Al continuar acepta nuestra política de privacidad <a (click)="showModal('privatePolicy')"> Política de
                privacidad</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</nz-modal>

<nz-drawer [nzClosable]="true" [nzVisible]="visiblePricingDrawer" nzPlacement="right" nzTitle="Basic Drawer"
  (nzOnClose)="closePricingDrawer()">
  <ng-container *nzDrawerContent>


    <div class="card">
      <div class="card-header">
        <h6 class="my-auto font-semibold">Destacar anuncio&nbsp;</h6>
      </div>
      <div class="card-body">
        <p class="card-text"><ion-icon name="checkmark-outline" class="text-success mt-1"></ion-icon> Primeras
          posiciones en el listado de tu zona</p>
        <p class="card-text"><ion-icon name="checkmark-outline" class="text-success mt-1"></ion-icon> El anuncio destaca
          en el listado y en el mapa</p>

      </div>
      <div class="card-footer">
        <mat-button-toggle>Guardar</mat-button-toggle>
        <div class="price-tag float-end ml-auto">
          <span class="amount">4,95</span>
          <span class="symbol">€</span>
          <span class="after">/1 semana</span>
        </div>
      </div>
    </div>
  </ng-container>
</nz-drawer>

<!--Ghost buttons-->
<button id="oculto" class="oculto d-none" (click)="saveService('home')"></button>
<button id="openModalNew" class="openModalNew d-none" (click)="openModalNewProperty()"></button>
<!-- Abre el anuncio en una ventana nueva -->
<a id="linkPopup" class="linkPopup d-none" [routerLink]="['/add',this.routerLinkId]" fragment={{this.routerLinkModel}}
  [queryParams]="{propiedad:this.routerLinkQueryParams}" target="_blank"></a>
<!-- Cuando el usuario cancela borra el marker y carga las propiedades en venta (carga por defecto) -->
<button id="restoreMap" class="restoreMap d-none" (click)="restoreMap()"></button>
<!-- Heart like! -->
<button id="likePopup" class="likePopup d-none"
  (click)="cuoreLikeFeature('popup',this.homeService.getHomeFromLocalCache(),$event)"></button>
<!-- Gestión de eventos mapa leaflet (ngLock)-->
<button id="leafletEvent" class="leafletEvent d-none" (click)="fireMapEvents($event)"></button>
<button id="tunedGeosearch" class="tunedGeosearch d-none" (click)="makeBeautifulGeosearch($event)"></button>