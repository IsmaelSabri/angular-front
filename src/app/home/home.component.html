<!--Main navbar-->
<header>
  <nav class="navbar is-white is-transparent has-centered-logo-alt" role="navigation" aria-label="main navigation">
    <div class="navbar-brand is-hidden-desktop">
      <a class="navbar-item" href="https://bulma.io">
        <img class="fluentImage" src="https://bulma.io/images/bulma-logo.png" width="112" height="28" />
      </a>
      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
        data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
        <a class="nav-link"><button class="navbar-toggler menuHM shadow-none" data-bs-toggle="collapse"
            data-bs-target=".collapse" aria-controls="navbarToggleExternalContent" aria-expanded="false"
            aria-label="Toggle navigation"
            onclick="this.classList.toggle('opened');this.setAttribute('aria-expanded', this.classList.contains('opened'))"
            aria-label="Main Menu">
            <svg width="40" height="40" viewBox="0 -25 100 100">
              <path class="line line1"
                d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058" />
              <path class="line line2" d="M 20,50 H 80" />
              <path class="line line3"
                d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
            </svg>
          </button>
        </a>
      </div>
      <div class="navbar-brand is-hidden-touch">
        <a class="navbar-item fluentImage" href="https://bulma.io">
          <img src="https://bulma.io/images/bulma-logo.png" width="112" height="28" />
        </a>
        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
          data-target="navbarBasicExample">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
      <div class="navbar-end col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
        <a class="navbar-item" nz-dropdown [nzDropdownMenu]="menu" id="navbarDropdown" role="button"
          aria-expanded="false" aria-haspopup="true" *ngIf='this.state'>
          <img *ngIf='this.state' height="55" width="55" class="rounded-circle img-fluid"
            alt="avatar2" [src]="this.user.profileImage.imageUrl" />
        </a>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu nzSelectable>
            <li nz-menu-item class="bg-light"><a style="font-weight: bold;" class="text-secondary">Colecciones</a></li>
            <li nz-menu-item><a *ngIf='this.state' routerLink="/user/management">
                <ion-icon name="person-outline" style="position: relative; top: 2px;"></ion-icon> {{user?.username}}
              </a></li>

            <li nz-menu-item><a [routerLink]="" *ngIf='this.state'><ion-icon name="notifications-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>
                <p-badge styleClass="mr-2" [value]="2" severity="info"></p-badge>
                Notificaciones</a></li>

            <li nz-menu-item><a [routerLink]=""><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="heart-half-outline"></ion-icon> Guardadas</a></li>
            <li nz-menu-item><a routerLink="/user-pro"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="speedometer-outline"></ion-icon> Pro-area</a></li>
            <li nz-menu-item><a routerLink="/admin"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="person-circle-outline"></ion-icon> Admin-area</a></li>
            <li nz-menu-item><a [routerLink]=""><ion-icon name="heart-dislike-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon> Ocultas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="schedule" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Reuniones planificadas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="audit" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Vistas</a></li>
            <li nz-menu-item><a [routerLink]="" *ngIf='this.state' (click)="createLocationMarker()">
                <i class="bi bi-house-add"></i>&nbsp;Publicar</a></li>
            <li nz-menu-item><a *ngIf='this.state' (click)="onLogOut()" routerLink="/home">
                <ion-icon name="log-out-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>&nbsp;Salir</a></li>
          </ul>
        </nz-dropdown-menu>

        <div class="navbar-item ">
          <div class="buttons">
            <a class="button is-dark" routerLink="/register" *ngIf='!this.state'>
              <strong>Unirse</strong>
            </a>
            <a class="button is-light" routerLink="/login" *ngIf='!this.state'>
              Entrar
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>

<!--collapse navbar-->
<div class="collapse" id="navbarToggleExternalContent" style="border-bottom: 1px solid rgb(206, 203, 203);">
  <div class="container-fluid">
    <nav style="display: block;">
      <ul class="nav-links nav lista1 text-center">
        <li class="nav-item active pr-3">
          <a routerLink="/home" class="nav-link text-secondary"><strong>Comprar</strong></a>
        <li class="nav-item pr-3">
          <a class="nav-link text-secondary"><strong>Vender</strong></a>
        </li>
        <li class="nav-item pr-3">
          <a class="nav-link text-secondary disabled" routerLink="/list"><strong>Vendido</strong></a>
        </li>
        <li class="nav-item pr-3">
          <a routerLink="/vlog" class="nav-link text-secondary"><strong>Compartir</strong></a>
        </li>
        <li class="nav-item pr-3">
          <a routerLink="/vlog" class="nav-link text-secondary"><strong>Ayuda</strong></a>
        </li>
        <li class="nav-item pr-3">
          <a [routerLink]="" class="nav-link text-secondary"><strong>Buscar agentes</strong>
          </a>
        </li>
        <li class="nav-item pr-3">
          <a routerLink="/vlog" class="nav-link text-secondary"><strong>Noticias</strong>
          </a>
        </li>
        <li class="nav-item pr-3">
          <a class="nav-link text-secondary" routerLink=""><strong>Comercial</strong></a>
        </li>
        <li class="nav-item pr-3">
          <a class="nav-link text-secondary" routerLink=""><strong>Vivir en España</strong></a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Map area -->
<div class="container">
  <ul class="nav nav-fill" id="secondnav">
    <li class="nav-item active pr-3 contact__form-privacy">
      <a class="nav-link nav-border ">
        <ion-icon name="search-outline" style="top:2px;"></ion-icon> Map area </a>
    </li>
    <li class="nav-item pr-3">
      <mat-select panelWidth="fit-content" #optionInput="ngModel" [(ngModel)]="this.mapRentSalePriceFlag"
        panelClass="example-panel">
        <mat-option *ngFor="let opt of condicion" [value]="opt">
          {{opt}}
        </mat-option>
      </mat-select>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" onclick="runModal()"> Tipo de propiedad </a>
    </li>
    <li class="nav-item pr-3">
      <!--<mat-select #optionInput="ngModel" multiple panelWidth="fit-content" [(ngModel)]="this.home.condicion" panelClass="example-panel" required>
        <mat-option  >
          <nz-tabset>
            <nz-tab nzTitle="Tab 1">Content of Tab Pane 1</nz-tab>
            <nz-tab nzTitle="Tab 2">Content of Tab Pane 2</nz-tab>
            <nz-tab nzTitle="Tab 3">Content of Tab Pane 3</nz-tab>
          </nz-tabset>
        </mat-option>
      </mat-select>-->
      <a class="nav-link nav-border sidebarbtn" routerLink="" ><ion-icon style="position: relative; top: 2px;" name="swap-horizontal-outline"></ion-icon> Listado </a>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" (click)="this.sidebarVisible = true"><ion-icon name="options-outline"
          style="position: relative; top: 2px;"></ion-icon> Filtros </a>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" routerLink="/list"><ion-icon style="position: relative; top: 2px;"
          name="list-outline"></ion-icon> Lista </a>
    </li>
  </ul>
</div>

<div *ngIf="this.state" class="container-fluid">
  <div class="modal" id="newHomeModal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title text-center">Nueva Propiedad</p>
        <button class="btn-close" onclick="closeModal()" aria-label="close"></button>
      </header>
      <section class="modal-card-body">
          <nz-tabset [nzTabBarExtraContent]="" [nzSize]="'small'" [nzTabPosition]="'top'"
            style="color: #3a3b3c; display: inline-block; align-items: center; justify-content: space-between; width: 100%; ">
            <form #newMarkerForm="ngForm" (ngSubmit)="newHome()" id="newMarkerForm">
            <nz-tab nzTitle=General nz-col nzSpan="8">
              <div class="card">
                <div class="card-body">
                  <!--Ciudad/Provincia-->
                  <div class="container-fluid">
                    <a class=" button_custom" id="provButton" style=" align-items: center; display: block; width: 100%;"
                      (click)="locationMap()">
                      Provincia
                    </a>
                    <a class=" button_custom" id="provButton2" style=" align-items: center; display: none; width: 100%;"
                      (click)="showCityResult()">
                      Guardar
                    </a>
                  </div>
                  <div id="map_2"
                    style="width: 100%; height: 290px; border-radius:5px; margin-top: 7px; display: none;">
                  </div>
                  <!-- tipo de via, nombre y distrito -->
                  <div class="form-group row mt-2">
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="tipodevia" class="required" style="text-overflow: ellipsis; white-space: nowrap;">Tipo
                        de
                        vía</label>
                      <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodevia
                        name="tipodevia" required class="form-outline" nzPlaceHolder="Tipo de vía" [nzSize]="sizeM"
                        [(ngModel)]="this.home.tipoDeVia">
                        <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="calle" class="required">Nombre</label>
                      <input #calle nz-input placeholder="Calle, avenida, plaza..." [(ngModel)]="this.home.calle"
                        type="text" name="calle" required class="form-outline" />
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="distrito" class="required">Distrito</label>
                      <input nz-input #distrito placeholder="Distrito" required [(ngModel)]="this.home.distrito"
                        type="text" name="distrito" />
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="Orientacion" class="required">Orientación</label>
                      <nz-select #Orientacion="ngModel" name="Orientacion" nzPlaceHolder="" panelWidth="fit-content"
                        class="d-block flex-column" [nzSize]="sizeM" [(ngModel)]="this.home.orientacion">
                        <nz-option *ngFor="let opt of orientacion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                  </div>
                  <!--Piso, número, cp y antiguedad-->
                  <div class="form-group row mt-3">
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="numero">Piso</label>
                      <input nz-input #piso placeholder="Piso" style="padding:5px;" ngModel pattern="\d*" maxlength="4"
                        (keypress)="numberOnly($event)" name="piso" required [(ngModel)]="this.home.piso" />
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="numero">Numero</label>
                      <input nz-input #numero placeholder="Número" style="padding:5px;" ngModel pattern="\d*"
                        maxlength="4" (keypress)="numberOnly($event)" name="numero" required
                        [(ngModel)]="this.home.numero" />
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="cp" class="required">CP</label>
                      <input nz-input #cp placeholder="Código postal" style="padding:5px;" ngModel pattern="\d*"
                        maxlength="5" (keypress)="numberOnly($event)" name="cp" required [(ngModel)]="this.home.cp" />
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                      <label for="year" class="required">Antiguedad</label>
                      <nz-date-picker id="datePicker" placeholder="Año" #year nzMode="year" nzFormat="yyyy"
                        class="d-block flex-column" [(ngModel)]="this.home.antiguedad"
                        (ngModelChange)="setDate($event)"></nz-date-picker>
                    </div>
                  </div>
                  <!-- Superficie, habitaciones, baños y aseo ensuite -->
                  <div class="form-group row mt-3">
                    <div class="col-xl col-lg-3 col-md-3 col-sm-6  align-self-start">
                      <label for="superficie" class="required">Superficie</label>
                      <input #superficie nz-input type="text" ngModel pattern="\d*" maxlength="20"
                        (keypress)="numberOnly($event)" name="superficie" required [(ngModel)]="this.home.superficie"
                        placeholder="M²">
                    </div>
                    <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                      <label for="habitaciones" class="required">Dormitorios</label>
                      <input #habitaciones nz-input type="text" ngModel pattern="\d*" maxlength="4"
                        (keypress)="numberOnly($event)" name="habitaciones" required
                        [(ngModel)]="this.home.habitaciones" placeholder="0">
                    </div>
                    <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                      <label for="garage" class="required">Aseos</label>
                      <input nz-input #banyos type="text" ngModel pattern="\d*" maxlength="1"
                        (keypress)="numberOnly($event)" name="banyos" required [(ngModel)]="this.home.aseos"
                        placeholder="0">
                    </div>
                    <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                      <label for="aseoEnsuiteInput">Aseo ensuite</label>
                      <nz-select #aseoEnsuiteInput name="aseoEnsuiteInput" class="d-block flex-column" nzPlaceHolder="0"
                        [nzSize]="sizeM" [(ngModel)]="this.home.aseoEnsuite">
                        <nz-option *ngFor="let opt of bathRooms" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                    <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                      <label for="garage">Aparcamientos</label>
                      <input nz-input #garage type="text" ngModel pattern="\d*" maxlength="3"
                        (keypress)="numberOnly($event)" name="garage" required [(ngModel)]="this.home.garage"
                        placeholder="0">
                    </div>
                  </div>
                  <!-- Tipo, estado, alquiler-venta y destacar -->
                  <div class="form-group row mt-3">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                      <label for="typeInput" class="required">Tipo de inmueble</label>
                      <nz-select #typeInput name="typeInput" class="d-block flex-column" required
                        nzPlaceHolder="Seleccione" [nzSize]="sizeM" [(ngModel)]="this.home.tipo">
                        <nz-option *ngFor="let opt of tipo" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                      <label class="required" style="display:block;" for="stateInput">Estado</label>
                      <nz-select #stateInput="ngModel" class="d-block flex-column" name="stateInput" required
                        nzPlaceHolder="Seleccione" panelClass="example-panel" [nzSize]="sizeM"
                        [(ngModel)]="this.home.estado">
                        <nz-option *ngFor="let opt of propertyState" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column">
                      <label style="display:block;" class="required" for="optionInput">Alquiler - Venta ...</label>
                      <nz-select #optionInput class="d-block flex-column" name="optionInput" required
                        nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.home.condicion">
                        <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                  </div>
                  <!--Precio de venta y alquiler-->
                  <div class="form-group row mt-3">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                      <label for="precioFinal">Precio de venta:</label>
                      <nz-input-group [nzSuffix]="precioVentaInfo">
                        <input nz-input placeholder="€" [(ngModel)]="this.home.precioFinal" type="text" ngModel
                          pattern="\d*" maxlength="8" #precioFinal (keypress)="numberOnly($event)" name="precioFinal"
                          required />
                      </nz-input-group>
                      <ng-template #precioVentaInfo>
                        <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Rellena este campo solo si vendes"
                          class="bi bi-info-square"></i>
                      </ng-template>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                      <label for="precioAlquiler">Precio/mes:</label>
                      <nz-input-group [nzSuffix]="precioAlquilerInfo">
                        <input nz-input placeholder="€/mes" [(ngModel)]="this.home.precioAlquiler" type="text" ngModel
                          pattern="\d*" maxlength="5" #precioAlquiler (keypress)="numberOnly($event)"
                          name="precioAlquiler" required />
                      </nz-input-group>
                      <ng-template #precioAlquilerInfo>
                        <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Rellena este campo solo si alquilas"
                          class="bi bi-info-square"></i>
                      </ng-template>
                      <!--<ng-container>
                        <nz-checkbox-wrapper style="width: 100%;"
                          (nzOnChange)="checkBox(this.home.direccionAproximada?true:false)">
                          <div nz-row>
                            <div nz-col nzSpan="8"><label style="white-space:nowrap;"
                                [(ngModel)]="this.home.direccionAproximada" nz-checkbox>La dirección no es
                                exacta</label></div>
                          </div>
                        </nz-checkbox-wrapper>
                      </ng-container>-->
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column">
                      <label style="display:block;" for="badge">Destacar</label>
                      <nz-select class="d-block" #badgeInput="ngModel" name="badgeInput" nzPlaceHolder=""
                        [nzSize]="sizeM" [(ngModel)]="this.home.destacar" panelWidth="fit-content">
                        <nz-option *ngFor="let opt of badge" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                      </nz-select>
                    </div>
                  </div>
                  <!--Vistas-->
                  <div class="form-group row flex-lg-nowrap mt-3">
                    <div class="col">
                      <nz-card nzTitle="Vistas" style="border:1px solid #d9d9d9; border-radius: 5px;margin:2px;"
                        class="required">
                        <nz-radio-group [(ngModel)]="this.home.vistasDespejadas" nzButtonStyle="solid">
                          <label nz-radio-button nzValue=Ciudad>Ciudad</label>
                          <label nz-radio-button nzValue=Jardines>Jardines</label>
                          <label nz-radio-button nzValue=Deslunado>Deslunado</label>
                          <label nz-radio-button nzValue=Mar>Mar</label>
                          <label nz-radio-button nzValue=Piscina>Piscina</label>
                          <label nz-radio-button nzValue=Montaña>Montaña</label>
                          <label nz-radio-button nzValue=Río>Río</label>
                        </nz-radio-group>
                      </nz-card>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>

            <!--Acabados-->
            <nz-tab nzTitle=Acabados nz-col nzSpan="8">
              <div class="form-group ">
                <!-- Energía y climatización -->
                <div class="row row-cols-2 mt-1">
                  <div class="col">
                    <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Energía y
                      climatización</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.aireAcondicionado"
                        (change)="checkBox(this.home.aireAcondicionado?true:false)"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Aire acondicionado</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.gasNatural"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Gas natural</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.panelesSolares"
                        class="c-material-che__hidden form-check-input" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Paneles solares</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.calefaccion"
                        class="c-material-che__hidden form-check-input" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Calefacción</span>
                    </label>
                    <br>
                  </div>
                  <br>
                </div>
                <!--Emisiones y consumo-->
                <div class="row p-2 align-items-center" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 "></div>
                  <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                    <nz-select class="nzSelectL" required nzPlaceHolder="Emisiones" [nzSize]="size"
                      [(ngModel)]="this.home.emisiones">
                      <nz-option class="nzOptionL" *ngFor="let opt of calificacion_emisiones" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                    <br>
                    <nz-select class="nzSelectL" required nzPlaceHolder="Consumo" [nzSize]="size"
                      [(ngModel)]="this.home.consumo">
                      <nz-option class="nzOptionL" *ngFor="let opt of calificacion_consumo" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                    <img class="energyImage float-start" src="assets/svg/eco/Escala_Certificacion.png"
                      style="width: 50px; height: 58px;" alt="">
                  </div>

                  <br class="br-sizeL">
                </div>
                <!-- Comunidad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="filterLabel mx-3">Comunidad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mx-3 mt-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.ascensor"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Ascensor</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.gym"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Gimnasio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.tenis"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Tenis</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.padel"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Padel</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.piscinaComp"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Piscina</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.zonaDeOcio"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Zona de ocio</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.videoPortero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Videoportero</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.sauna"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Sauna</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.jacuzzi"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Jacuzzi</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.golf"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Golf</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.jardin"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Jardín</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.columpios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Columpios</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Seguridad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="mx-3 filterLabel">Seguridad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.recepcion24_7"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Recepción 24/7</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.videoVigilancia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Video vigilancia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.alarmaIncendios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Alarma de incendios</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.extintores"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Rociadores de incendio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.generadorEmergencia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Generador de emergencia <i
                          class="bi bi-lightning-charge"></i></span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.instalacionesDiscapacitados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Vivienda accesible</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Extras -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="mx-3 filterLabel">Extras</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.terraza"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Terraza</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.amueblado"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Amueblado completo</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.parquet"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Parquet</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.plantaMasAlta"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Planta mas alta del edificio</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.piscinaPrivada"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Piscina privada</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.armariosEmpotrados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Armarios empotrados</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.balcon"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Balcón</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.home.trastero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Trastero</span>
                    </label>
                    <br>
                  </div>
                  <br class="br-sizeL">
                </div>
              </div>
            </nz-tab>


            <!-- Alquiler -->
            <nz-tab nzTitle=Alquiler nz-col nzSpan="8">
              <!-- Condiciones de alquiler -->
              <div class="container-fluid">
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Condiciones de alquiler</label>
                    </div>
                  </div>
                </div>
                <section><!--[attr.disabled]="this.home.condicion?'Alquiler':null"-->
                  <div class="row mt-3">
                    <div class="col-12 col-sm-6 flex-column">
                      <div class="card">
                        <div class="card-content">
                          <div class="content">
                            <label class="d-block text-secondary" for="">Fianza</label>
                            <nz-radio-group nzButtonStyle="solid" style=" height: 10px; line-height: 10px;"
                              [(ngModel)]="this.home.fianza">
                              <label nz-radio-button nzValue=Sin_fianza
                                style="flex-direction: row; display:inline-block; white-space: nowrap;">Sin
                                fianza</label>
                              <label nz-radio-button nzValue=1_mes>1 Mes</label>
                              <label nz-radio-button nzValue=2_meses>2 Meses</label>
                              <label nz-radio-button nzValue=+2>+2</label>
                            </nz-radio-group>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 col-sm-6 mt-2 flex-column">
                      <div class="card">
                        <div class="card-content">
                          <div class="content">
                            <label for="disponibilidad" class="d-block text-secondary">Disponible a partir de</label>
                            <nz-date-picker #month nzMode="month" nzFormat="MMM" [(ngModel)]="this.home.disponibilidad"
                              (ngModelChange)="setDisponibilidad($event)"></nz-date-picker>
                          </div>
                        </div>
                      </div>
                      <!--<input type="checkbox" style="accent-color: #666; width:20px;">-->
                    </div>
                    <div class="col-12 col-sm-6 mt-2 flex-column">
                      <div class="card">
                        <div class="card-content">
                          <div class="content">
                            <label class="d-block text-secondary" for="">Mascotas</label>
                            <nz-radio-group style="height: 10px; line-height: 10px;" nzButtonStyle="solid"
                              [(ngModel)]="this.home.mascotas">
                              <label nz-radio-button nzValue=Se_permiten_mascotas>Si</label>
                              <label nz-radio-button nzValue=No_se_permiten_mascotas>No</label>
                              <label nz-radio-button nzValue=Consultar>Consultar</label>
                            </nz-radio-group>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 col-sm-6 mt-2 flex-column">
                      <div class="card">
                        <div class="card-content">
                          <div class="content">
                            <label class="d-block text-secondary" for="">Contrato</label>
                            <nz-radio-group style="height: 10px; line-height: 10px;" nzButtonStyle="solid"
                              [(ngModel)]="this.home.estanciaMinima">
                              <label nz-radio-button nzValue=Anual>Anual</label>
                              <label nz-radio-button nzValue=Temporada>Temporada</label>
                            </nz-radio-group>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
                <!--Acerca de compartir-->
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Acerca de compartir</label>
                    </div>
                  </div>
                </div>
                <!--<section>
                  <div class="row mt-3 mx-2" style="border-bottom: 1px solid rgb(206, 203, 203);">
                    <div class="col-lg-6 col-md-6 col-sm-4 col-xs-2">
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input" [(ngModel)]="this.home.sepuedeFumar"
                            (change)="checkBox(this.home.sepuedeFumar?true:false)" id="checkboxFumar" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxFumar">Se puede fumar</label>
                      </div>
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input" [(ngModel)]="this.home.seadmitenParejas"
                            id="checkboxParejas" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxParejas">Se admiten parejas</label>
                      </div>
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input" [(ngModel)]="this.home.seadmitenMenoresdeedad"
                            id="checkboxMenoresDeEdad" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxMenoresDeEdad">Se admiten</label>
                      </div>
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input"
                            [(ngModel)]="this.home.plantaMasAlta" id="checkboxPlantaAlta" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxPlantaAlta">Planta mas alta del edificio</label>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-4 col-xs-2 flex-column">
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input"
                            [(ngModel)]="this.home.piscinaPrivada" id="checkboxPP" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxPP">Piscina privada</label>
                      </div>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" [(ngModel)]="this.home.armariosEmpotrados"
                            class="inputCheckbox2 form-check-input" id="checkboxAEmpotrados" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxAEmpotrados">Armarios empotrados</label>
                      </div>
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input" [(ngModel)]="this.home.balcon"
                            id="checkboxBalcon" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxBalcon">Balcón&nbsp;&nbsp;&nbsp;&nbsp;</label>
                      </div>
                      <br>
                      <div class="item">
                        <label class="labelsCh2">
                          <input type="checkbox" class="inputCheckbox2 form-check-input" [(ngModel)]="this.home.trastero"
                            id="checkboxTrastero" />
                          <span class="checkbox2"></span>
                        </label>
                        <label for="checkboxTrastero">Trastero</label>
                      </div>
                      <br>
                    </div>
                    <br class="br-sizeL">
                  </div>
                </section>-->
              </div>
            </nz-tab>
            <!-- Movilidad -->
            <nz-tab nzTitle=Movilidad nz-col nzSpan="8" [nzDisabled]=>
              <div class="container-fluid">
                <h3 class="text-center">Servicios próximos</h3>
                <p>Puedes añadir servicios próximos a tu vivienda como colegios, universidades o supermercados.
                </p>
                <div class="row row-cols-3">
                  <div class="col">
                  </div>
                  <div class="col">
                    <!--<ion-icon style="font-size: 7.5em; position:relative; padding-top: 25px; left: 120px; " src="assets/svg/main-distance.svg"></ion-icon>-->
                    <!--<img src="assets/svg/main-distance.svg"
                      style="width: 120px; height: 70; padding-top: 25px; left: 120px;">-->
                  </div>
                  <div class="col">
                  </div>
                </div>
                <div class="ctnrmovility" #element>
                  <a class="btnmov " (click)="openToogleModal(true)">Empezar</a>
                  <div class="modalmov">
                    <div class="header" style="border-top-right-radius: 20px 20px; border-top-left-radius: 20px 20px;">
                      <a class="btnmov " (click)="openToogleModal(false)">Terminar</a>
                    </div>
                    <div class="body">
                      <div class="container-fluid">
                        <div class="row justify-content-center">
                          <div class="col-xs-6 col-sm-6 col-md-6">
                            <div class="accordion">
                              <div class="accordion-item">
                                <input id="accordion-trigger-1" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-1">Colegios
                                  <span [attr.hidden]="!this.stateTexfields[0][0]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[0][1]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[0][2]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[0][3]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[0][4]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[0][5]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="card">
                                          <div class="card-body">
                                            <div class="table-responsive">
                                              <table class="table">
                                                <thead>
                                                  <tr>
                                                    <th scope="col"><ion-icon name="easel-outline"></ion-icon>
                                                    </th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Enseñanza</th>
                                                    <th scope="col">Institución</th>
                                                    <th scope="col">Página web</th>
                                                    <th scope="col">Distancia</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr>
                                                    <th scope="row">1</th>
                                                    <td><input nz-input type="text" class="nzInput "
                                                        [attr.disabled]="this.stateTexfields[0][0]?true:null"
                                                        [(ngModel)]="this.colegio[0].nombre" placeholder="Nombre"
                                                        id="f1c1n">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][0]"
                                                        [(ngModel)]="this.colegio[0].ensenyanza">
                                                        <nz-option class="nzOption" id="f1c1e"
                                                          *ngFor="let opt of ensenyanza" [nzValue]=opt
                                                          [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][0]"
                                                        [(ngModel)]="this.colegio[0].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput form-control"
                                                        [attr.disabled]="this.stateTexfields[0][0]?true:null"
                                                        placeholder="www" [(ngModel)]="this.colegio[0].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio0" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',0,'colegio0','colegio0ok','btndltColegio0',0,0)">Distancia</button>
                                                        <button id="colegio0ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[0].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio0"
                                                          style="display: none;"
                                                          (click)="reRackService(0,0,'colegio0','colegio0ok','btndltColegio0')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">2</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[0][1]?true:null"
                                                        [(ngModel)]="this.colegio[1].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][1]"
                                                        [(ngModel)]="this.colegio[1].ensenyanza">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][1]"
                                                        [(ngModel)]="this.colegio[1].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[0][1]?true:null"
                                                        [(ngModel)]="this.colegio[1].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio1" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',1,'colegio1','colegio1ok','btndltColegio1',0,1)">Distancia</button>
                                                        <button id="colegio1ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[1].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio1"
                                                          style="display: none;"
                                                          (click)="reRackService(0,1,'colegio1','colegio1ok','btndltColegio1')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">3</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[0][2]?true:null"
                                                        [(ngModel)]="this.colegio[2].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][2]"
                                                        [(ngModel)]="this.colegio[2].ensenyanza">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][2]"
                                                        [(ngModel)]="this.colegio[2].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[0][2]?true:null"
                                                        [(ngModel)]="this.colegio[2].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio2" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',2,'colegio2','colegio2ok','btndltColegio2',0,2)">Distancia</button>
                                                        <button id="colegio2ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[2].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio2"
                                                          style="display: none;"
                                                          (click)="reRackService(0,2,'colegio2','colegio2ok','btndltColegio2')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">4</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[0][3]?true:null"
                                                        [(ngModel)]="this.colegio[3].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][3]"
                                                        [(ngModel)]="this.colegio[3].ensenyanza">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][3]"
                                                        [(ngModel)]="this.colegio[3].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[0][3]?true:null"
                                                        [(ngModel)]="this.colegio[3].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio3" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',3,'colegio3','colegio3ok','btndltColegio3',0,3)">Distancia</button>
                                                        <button id="colegio3ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[3].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio3"
                                                          style="display: none;"
                                                          (click)="reRackService(0,3,'colegio3','colegio3ok','btndltColegio3')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">5</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[0][4]?true:null"
                                                        [(ngModel)]="this.colegio[4].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][4]"
                                                        [(ngModel)]="this.colegio[4].ensenyanza">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][4]"
                                                        [(ngModel)]="this.colegio[4].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[0][4]?true:null"
                                                        [(ngModel)]="this.colegio[4].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio4" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',4,'colegio4','colegio4ok','btndltColegio4',0,4)">Distancia</button>
                                                        <button id="colegio4ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[4].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio4"
                                                          style="display: none;"
                                                          (click)="reRackService(0,4,'colegio4','colegio4ok','btndltColegio4')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">6</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[0][5]?true:null"
                                                        [(ngModel)]="this.colegio[5].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][5]"
                                                        [(ngModel)]="this.colegio[5].ensenyanza">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[0][5]"
                                                        [(ngModel)]="this.colegio[5].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[0][5]?true:null"
                                                        [(ngModel)]="this.colegio[5].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="colegio5" type="button" class="btnDistancia"
                                                          (click)="setRoute('#808080', this.sc, 'colegio',5,'colegio5','colegio5ok','btndltColegio5',0,5)">Distancia</button>
                                                        <button id="colegio5ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.colegio[5].distancia}}</button>
                                                        <button class="btndlt" id="btndltColegio5"
                                                          style="display: none;"
                                                          (click)="reRackService(0,5,'colegio5','colegio5ok','btndltColegio5')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-2" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-2">Universidades
                                  <span [attr.hidden]="!this.stateTexfields[1][0]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[1][1]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[1][2]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="card">
                                          <div class="card-body">
                                            <div class="table-responsive">
                                              <table class="table">
                                                <thead>
                                                  <tr>
                                                    <th scope="col"><i class="bi bi-mortarboard"></i></th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Rama de conocimiento</th>
                                                    <th scope="col">Institución</th>
                                                    <th scope="col">Página web</th>
                                                    <th scope="col">Distancia</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr>
                                                    <th scope="row">1</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[1][0]?true:null"
                                                        [(ngModel)]="this.universidad[0].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][0]"
                                                        [(ngModel)]="this.universidad[0].rama">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][0]"
                                                        [(ngModel)]="this.universidad[0].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[1][0]?true:null"
                                                        [(ngModel)]="this.universidad[0].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="univ0" type="button" class="btnDistancia"
                                                          (click)="setRoute('#128c7e', this.uni, 'universidad',0,'univ0','univ0ok','btndltUniv0',1,0)">Distancia</button>
                                                        <button id="univ0ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.universidad[0].distancia}}</button>
                                                        <button class="btndlt" id="btndltUniv0" style="display: none;"
                                                          (click)="reRackService(1,0,'univ0','univ0ok','btndltUniv0')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">2</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[1][1]?true:null"
                                                        [(ngModel)]="this.universidad[1].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][1]"
                                                        [(ngModel)]="this.universidad[1].rama">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][1]"
                                                        [(ngModel)]="this.universidad[1].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[1][1]?true:null"
                                                        [(ngModel)]="this.universidad[1].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="univ1" type="button" class="btnDistancia"
                                                          (click)="setRoute('#128c7e', this.uni, 'universidad',1,'univ1','univ1ok','btndltUniv1',1,1)">Distancia</button>
                                                        <button id="univ1ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.universidad[1].distancia}}</button>
                                                        <button class="btndlt" id="btndltUniv1" style="display: none;"
                                                          (click)="reRackService(1,1,'univ1','univ1ok','btndltUniv1')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">3</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        [attr.disabled]="this.stateTexfields[1][2]?true:null"
                                                        [(ngModel)]="this.universidad[2].nombre" placeholder="Nombre">
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][2]"
                                                        [(ngModel)]="this.universidad[2].rama">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size"
                                                        [nzDisabled]="this.stateTexfields[1][2]"
                                                        [(ngModel)]="this.universidad[2].institucion">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www"
                                                        [attr.disabled]="this.stateTexfields[1][2]?true:null"
                                                        [(ngModel)]="this.universidad[2].web">
                                                    </td>
                                                    <td>
                                                      <div class="btn-group">
                                                        <button id="univ2" type="button" class="btnDistancia"
                                                          (click)="setRoute('#128c7e', this.uni, 'universidad',2,'univ2','univ2ok','btndltUniv2',1,2)">Distancia</button>
                                                        <button id="univ2ok" type="button"
                                                          style="display: none; background:#1ebea5"
                                                          class="btnDistancia">{{this.universidad[2].distancia}}</button>
                                                        <button class="btndlt" id="btndltUniv2" style="display: none;"
                                                          (click)="reRackService(1,2,'univ2','univ2ok','btndltUniv2')"><i
                                                            class="fas fa-trash"></i></button>
                                                      </div>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-3" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-3">Autobuses
                                  <span [attr.hidden]="!this.stateTexfields[2][0]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[2][1]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[2][2]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="col-6">
                                          <div class="card">
                                            <div class="card-body">
                                              <div class="table-responsive">
                                                <table class="table">
                                                  <thead>
                                                    <tr>
                                                      <th scope="col"><ion-icon name="bus-outline"></ion-icon>
                                                      </th>
                                                      <th scope="col">Parada</th>
                                                      <th scope="col">Líneas</th>
                                                      <th scope="col">Distancia</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr>
                                                      <th scope="row">1</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][0]?true:null"
                                                          [(ngModel)]="this.autobus[0].parada" placeholder="Parada">
                                                      </td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][0]?true:null"
                                                          [(ngModel)]="this.autobus[0].lineas" placeholder="Líneas">
                                                      </td>
                                                      <td>
                                                        <div class="btn-group">
                                                          <button id="bus0" type="button" class="btnDistancia"
                                                            (click)="setRoute('#960018', this.busic,'autobus',0,'bus0','bus0ok','btndltBus0',2,0)">Distancia</button>
                                                          <button id="bus0ok" type="button"
                                                            style="display: none; background:#1ebea5"
                                                            class="btnDistancia">{{this.autobus[0].distancia}}</button>
                                                          <button class="btndlt" id="btndltBus0" style="display: none;"
                                                            (click)="reRackService(2,0,'bus0','bus0ok','btndltBus0')"><i
                                                              class="fas fa-trash"></i></button>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <th scope="row">2</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][1]?true:null"
                                                          [(ngModel)]="this.autobus[1].parada" placeholder="Parada">
                                                      </td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][1]?true:null"
                                                          [(ngModel)]="this.autobus[1].lineas" placeholder="Líneas">
                                                      </td>
                                                      <td>
                                                        <div class="btn-group">
                                                          <button id="bus1" type="button" class="btnDistancia"
                                                            (click)="setRoute('#960018', this.busic,'autobus',1,'bus1','bus1ok','btndltBus1',2,1)">Distancia</button>
                                                          <button id="bus1ok" type="button"
                                                            style="display: none; background:#1ebea5"
                                                            class="btnDistancia">{{this.autobus[1].distancia}}</button>
                                                          <button class="btndlt" id="btndltBus1" style="display: none;"
                                                            (click)="reRackService(2,1,'bus1','bus1ok','btndltBus1')"><i
                                                              class="fas fa-trash"></i></button>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <th scope="row">3</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][2]?true:null"
                                                          [(ngModel)]="this.autobus[2].parada" placeholder="Parada">
                                                      </td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[2][2]?true:null"
                                                          [(ngModel)]="this.autobus[2].lineas" placeholder="Líneas">
                                                      </td>
                                                      <td>
                                                        <div class="btn-group">
                                                          <button id="bus2" type="button" class="btnDistancia"
                                                            (click)="setRoute('#960018', this.busic,'autobus',2,'bus2','bus2ok','btndltBus2',2,2)">Distancia</button>
                                                          <button id="bus2ok" type="button"
                                                            style="display: none; background:#1ebea5"
                                                            class="btnDistancia">{{this.autobus[2].distancia}}</button>
                                                          <button class="btndlt" id="btndltBus2" style="display: none;"
                                                            (click)="reRackService(2,2,'bus2','bus2ok','btndltBus2')"><i
                                                              class="fas fa-trash"></i></button>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-4" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-4">Metro
                                  <span [attr.hidden]="!this.stateTexfields[3][0]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="col-6">
                                          <div class="card">
                                            <div class="card-body">
                                              <div class="table-responsive">
                                                <table class="table">
                                                  <thead>
                                                    <tr>
                                                      <th scope="col"><i class="bi bi-train-lightrail-front"></i>
                                                      </th>
                                                      <th scope="col">Parada</th>
                                                      <th scope="col">Líneas</th>
                                                      <th scope="col">Distancia</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr>
                                                      <th scope="row">1</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[3][0]?true:null"
                                                          [(ngModel)]="this.metro[0].parada" placeholder="Parada">
                                                      </td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          [attr.disabled]="this.stateTexfields[3][0]?true:null"
                                                          [(ngModel)]="this.metro[0].lineas" placeholder="Líneas">
                                                      </td>
                                                      <td>
                                                        <div class="btn-group">
                                                          <button id="metro0" type="button" class="btnDistancia"
                                                            (click)="setRoute('#d6a323', this.swi,'metro',0,'metro0','metro0ok','btndltMetro0',3,0)">Distancia</button>
                                                          <button id="metro0ok" type="button"
                                                            style="display: none; background:#1ebea5"
                                                            class="btnDistancia">{{this.metro[0].distancia}}</button>
                                                          <button class="btndlt" id="btndltMetro0"
                                                            style="display: none;"
                                                            (click)="reRackService(3,0,'metro0','metro0ok','btndltMetro0')"><i
                                                              class="fas fa-trash"></i></button>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-5" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-5">Supermercados
                                  <span [attr.hidden]="!this.stateTexfields[2][3]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[2][4]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                  <span [attr.hidden]="!this.stateTexfields[2][5]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="table-responsive">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><i class="bi bi-cart3"></i></th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col">Distancia</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            [attr.disabled]="this.stateTexfields[2][3]?true:null"
                                                            [(ngModel)]="this.mercados[0].nombre" placeholder="Nombre">
                                                        </td>
                                                        <td>
                                                          <div class="btn-group">
                                                            <button id="mercado0" type="button" class="btnDistancia"
                                                              (click)="setRoute('#6f5e53', this.mki,'mercados',0,'mercado0','mercado0ok','btndltMercado0',2,3)">Distancia</button>
                                                            <button id="mercado0ok" type="button"
                                                              style="display: none; background:#1ebea5"
                                                              class="btnDistancia">{{this.mercados[0].distancia}}</button>
                                                            <button class="btndlt" id="btndltMercado0"
                                                              style="display: none;"
                                                              (click)="reRackService(2,3,'mercado0','mercado0ok','btndltMercado0')"><i
                                                                class="fas fa-trash"></i></button>
                                                          </div>
                                                        </td>
                                                      </tr>
                                                      <tr>
                                                        <th scope="row">2</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            [attr.disabled]="this.stateTexfields[2][4]?true:null"
                                                            [(ngModel)]="this.mercados[1].nombre" placeholder="Nombre">
                                                        </td>
                                                        <td>
                                                          <div class="btn-group">
                                                            <button id="mercado1" type="button" class="btnDistancia"
                                                              (click)="setRoute('#6f5e53', this.mki,'mercados',1,'mercado1','mercado1ok','btndltMercado1',2,4)">Distancia</button>
                                                            <button id="mercado1ok" type="button"
                                                              style="display: none; background:#1ebea5"
                                                              class="btnDistancia">{{this.mercados[1].distancia}}</button>
                                                            <button class="btndlt" id="btndltMercado1"
                                                              style="display: none;"
                                                              (click)="reRackService(2,4,'mercado1','mercado1ok','btndltMercado1')"><i
                                                                class="fas fa-trash"></i></button>
                                                          </div>
                                                        </td>
                                                      </tr>
                                                      <tr>
                                                        <th scope="row">3</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            [attr.disabled]="this.stateTexfields[2][5]?true:null"
                                                            [(ngModel)]="this.mercados[2].nombre" placeholder="Nombre">
                                                        </td>
                                                        <td>
                                                          <div class="btn-group">
                                                            <button id="mercado2" type="button" class="btnDistancia"
                                                              (click)="setRoute('#6f5e53', this.mki,'mercados',2,'mercado2','mercado2ok','btndltMercado2',2,5)">Distancia</button>
                                                            <button id="mercado2ok" type="button"
                                                              style="display: none; background:#1ebea5"
                                                              class="btnDistancia">{{this.mercados[2].distancia}}</button>
                                                            <button class="btndlt" id="btndltMercado2"
                                                              style="display: none;"
                                                              (click)="reRackService(2,5,'mercado2','mercado2ok','btndltMercado2')"><i
                                                                class="fas fa-trash"></i></button>
                                                          </div>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-6" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-6">Aeropuerto
                                  <span [attr.hidden]="!this.stateTexfields[3][1]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="table-responsive">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><ion-icon name="airplane-outline"></ion-icon>
                                                        </th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col">Distancia</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            [attr.disabled]="this.stateTexfields[3][1]?true:null"
                                                            [(ngModel)]="this.aeropuerto[0].nombre"
                                                            placeholder="Nombre"></td>
                                                        <td>
                                                          <div class="btn-group">
                                                            <button id="aero0" type="button" class="btnDistancia"
                                                              (click)="setRoute('#3200ff', this.airp,'aeropuerto',0,'aero0','aero0ok','btndltAero0',3,1)">Distancia</button>
                                                            <button id="aero0ok" type="button"
                                                              style="display: none; background:#1ebea5"
                                                              class="btnDistancia">{{this.aeropuerto[0].distancia}}</button>
                                                            <button class="btndlt" id="btndltAero0"
                                                              style="display: none;"
                                                              (click)="reRackService(3,1,'aero0','aero0ok','btndltAero0')"><i
                                                                class="fas fa-trash"></i></button>
                                                          </div>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>
                              <!--  -->
                              <div class="accordion-item" style="padding-bottom: 10px;">
                                <input id="accordion-trigger-7" (click)="resizeMap()" class="accordion-trigger-input"
                                  type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-7">Playa
                                  <span [attr.hidden]="!this.stateTexfields[3][2]?true:null" class="chip primary"><img
                                      src="assets/svg/white-tick-ok.svg" style="width: 10px; height: 10px;"></span>
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="table-responsive">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><ion-icon name="sunny-outline"></ion-icon>
                                                        </th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col"><img style="width: 60px; height: 20px;"
                                                            src="assets/svg/beach-distance-line-sombrilla.svg" alt="">
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            [attr.disabled]="this.stateTexfields[3][2]?true:null"
                                                            [(ngModel)]="this.beach[0].nombre" placeholder="Nombre">
                                                        </td>
                                                        <td>
                                                          <div class="btn-group">
                                                            <button id="beach0" type="button" class="btnDistancia"
                                                              (click)="setRoute('dodgerblue', this.bch,'beach',0,'beach0','beach0ok','btndltBeach0',3,2)">Distancia</button>
                                                            <button id="beach0ok" type="button"
                                                              style="display: none; background:#1ebea5"
                                                              class="btnDistancia">{{this.beach[0].distancia}}</button>
                                                            <button class="btndlt" id="btndltBeach0"
                                                              style="display: none;"
                                                              (click)="reRackService(3,2,'beach0','beach0ok','btndltBeach0')"><i
                                                                class="fas fa-trash"></i></button>
                                                          </div>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>
                            </div>

                          </div>
                          <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12"> <!-- col-5 -->
                            <div #map_3 id="map_3"
                              style="width: 100%; height: 100%; border-radius:7px; display: flex; padding-right: 0%;">
                            </div>
                          </div>
                        </div><!--row-->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>
            <!-- Multimedia -->
            <nz-tab nzTitle=Multimedia nz-col nzSpan="8" [nzDisabled]="false">
              <div *ngFor="let progressInfo of progressInfos" class="mb-2">
                <span>{{ progressInfo.fileName }}</span>
                <div class="progress">
                  <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                    attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100"
                    [ngStyle]="{ width: progressInfo.value + '%' }">
                    {{ progressInfo.value }}%
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-8">
                  <label class="btn btn-default p-0">
                    <input type="file" accept="image/*" multiple (change)="selectFiles($event)" />
                  </label>
                </div>
              </div>

              <div>
                <img *ngFor='let preview of previews' [src]=this.preview class="preview"
                  style="max-width: 60px; padding:5px; border-radius: 4px;">
              </div>

              <div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
                <ul *ngFor="let msg of message; let i = index">
                  <li>{{ msg }}</li>
                </ul>
              </div>

              <div class="card mt-3">
                <div class="card-header">Imagenes seleccionadas</div>
                <ul class="list-group list-group-flush" *ngFor="let image of imageInfos | async">
                  <li class="list-group-item">
                    <p><a href="{{ image.url }}">{{ image.name }}</a></p>
                    <img src="{{ image.url }}" alt="{{ image.name }}" height="80px" />
                  </li>
                </ul>
              </div>
              <!-- Video para youtube -->
              <div class="form-group">
                <ng-container>
                  <div class="row">
                    <div class="col-12 ">
                      <label for="video">Video</label>
                      <nz-input-group [nzPrefix]="youtubePrefix" [nzSuffix]="youtubeSuffix">
                        <input style="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;
                      width:100%" nz-input #video [(ngModel)]="this.home.video" type="text" name="video" />
                      </nz-input-group>
                      <ng-template #youtubePrefix><ion-icon name="logo-youtube"
                          style="font-size: 16px; color:red;"></ion-icon>
                      </ng-template>
                      <ng-template #youtubeSuffix>
                        <i nz-tooltip nzTooltipTitle="Copia y pega el enlace de youtube" class="bi bi-info-square"></i>
                      </ng-template>
                    </div>
                  </div>
                </ng-container>
              </div>

              <!--textarea-->
              <div class="form-group">
                <ng-container>
                  <div class="row mt-3">
                    <div class="col-12 col-sm-auto">
                      <label for="descripcion" class="required">Descripción</label>
                      <textarea required class="form-outline mb-3"
                        style="resize:none; border-radius:5px; height:150px; width:100%; background-color:white;color:#3a3b3c;"
                        [(ngModel)]='this.home.descripcion' rows="30" cols="120">
                      </textarea>
                    </div>
                  </div>
                  <div class="row mt-2">
                    <div class="form__privacy">
                      <input class="chkprivacy" id="chkprivacy" name="chkprivacy" type="checkbox" required>
                      <label class="labelprivacy" for="chkprivacy">Acepto los <a style="color:dodgerblue;"
                          class="aprivacy" (click)="showModal()">términos de privacidad</a> de myhouse.</label>
                    </div>
                  </div>
                </ng-container>
              </div>
            </nz-tab>
          </form>
          </nz-tabset>
      </section>
      <footer class="modal-card-foot">
        <div class="flexible">
          <button class="button is-link is-inverted" style="color:#3a3b3c;font-weight: 600;">Borrar campos</button>
          <button type="button" class="button is-secondary is-inverted">Cerrar</button>
          <button class="button is-primary" (click)="newMarkerForm.ngSubmit.emit()">Crear</button><!--type="submit"-->
        </div>
      </footer>
    </div><!--modal-card-->
  </div><!--modal-->
</div><!--container-fluid-->

<nz-modal [(nzVisible)]="isVisible" nzTitle="Términos y preferencias" (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()" [nzOkLoading]="isOkLoading">
  <p *nzModalContent>Recopilaremos y utilizaremos su información personal (que puede incluir cookies
    que recopilamos a través de su uso de myhouse.com y nuestros otros sitios web) para
    brindarle una experiencia de usuario personalizada (por ejemplo, si está anunciando
    una propiedad, podemos recomendarle ofrecerle productos para optimizar el rendimiento
    de su búsqueda o, si está buscando una propiedad, podemos recomendarle propiedades
    que puedan interesarle). También podemos comunicarnos con usted para promocionar nuestros
    servicios o los de terceros. Nuestra Política de Privacidad explica con más detalle cómo
    recopilamos, utilizamos y divulgamos información personal y cómo acceder, corregir o
    presentar quejas sobre el manejo de información personal.</p>
</nz-modal>

<!-- Leaflet map -->
<div id="map"></div>


<!-- Modal aux -->
<div class="modal__gray-back">
  <div class="modal__inner">
    <h2 class="modal__title">Modal aux</h2>
    <div class="modal__items">
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos iusto quibusdam sit ea laborum repellat
          obcaecati consequatur, expedita debitis fugiat quam beatae doloribus voluptatibus error saepe in accusamus
          optio harum.
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Error voluptatum minima architecto quaerat
          voluptatibus similique nihil, obcaecati, neque accusantium, maiores assumenda nam perferendis magnam
          repellendus amet veniam recusandae illo est?
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus iure, voluptates quae perspiciatis ad
          voluptas quasi mollitia laudantium ipsum corrupti sequi architecto debitis nesciunt voluptatem at corporis
          autem velit labore.
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut minus amet cumque impedit recusandae maiores
          iste, inventore consequatur sapiente reprehenderit, cum debitis, accusantium voluptas temporibus non repellat
          deleniti facere aliquam?
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloribus, veniam veritatis facere tempora amet
          obcaecati rerum totam perspiciatis distinctio minus. Incidunt quos animi et maiores rerum quae quibusdam
          dolorum corrupti!
        </p>
      </div>
    </div>
    <div class="modal__close-btn-wrap">
      <button class="modal__close-btn hover__light">Cerrar</button>
      <button type="button" class="button is-rounded" onclick="uncheck()">Borrar
        filtros</button>
    </div>
  </div>
</div>

<!-- Filters form -->
<p-sidebar [(visible)]="sidebarVisible" position="right">
  <div class="container-fluid text-center">
    <h3 class="pull-center text-secondary">Filtros</h3>
    <form class="form-inline my-2 my-lg-0 justify-content-center" #filterSearchForm="ngForm" method="post"
            (ngSubmit)="applyCaptureNameFilter()"><!--filterSearchForm.value-->
      <div class="container text-center">
        <div class="row align-items-center">
          <div class=".col-md-3 .offset-md-3">
            <div class="radio-filter-container">
              <div class="radio_container form-group">
                <input class="radioFilterInput form-outline" type="radio" name="radio" id="one" value="Alquiler"
                  (change)="filter($event.target.value,'condicion')">
                <label class="labelRadio" for="one">Alquiler</label>
                <input class="radioFilterInput form-outline saleRadio" type="radio" name="radio" id="two" checked
                  value="Venta" (change)="filter($event.target.value,'condicion')">
                <label class="labelRadio" for="two">Venta</label>
                <input class="radioFilterInput form-outline" type="radio" name="radio" id="three" value="Compartir"
                  (change)="filter($event.target.value,'condicion')">
                <label class="labelRadio" for="three">Compartir</label>
              </div>
            </div>
          </div>
        </div>

        <div class="container mt-3">
          <div class="row">
            <div class=".col-12"><!--col-sm-5 col-md-6-->
              <!--Ciudad-->
              <label class="filterLabel d-block" for="CiudadFilter">Ciudad</label>
              <div class="select form-group" style="width:100%">
                <select id="CiudadFilter" class="form-outline" style="width:100%"
                  [(ngModel)]="this.homeFiltersRequest.tipo" (change)="filter($event.target.value,'ciudad')">
                  <option *ngFor="let opt of provincias">{{opt}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class=".col-12 ">
              <!--Tipo-->
              <label class="filterLabel d-block" for="TipoFilter">Tipo de inmueble</label>
              <p-multiSelect [options]="tipo | keyvalue" placeholder="Todas" optionLabel="value"
                [maxSelectedLabels]="11" display="chip" [showClear]="true" [panelStyle]="{'width':'100%'}"
                [style]="{'width':'100%','height':'33px'}" scrollHeight="400px" [selectionLimit]="11"
                (onChange)="filter($event.value,'tipo')" [filter]="true">
              </p-multiSelect>
            </div>
          </div>
          <div class="row mt-2 form-group">
            <div class=".col-12 ">
              <!--Keywords-->
              <label class="filterLabel d-block" for="keyWordsfilter">Palabras clave</label>
              <div id="demo-2">
                <nz-badge [nzCount]="this.wordCount" [nzStyle]="{ backgroundColor: 'lightgreen' }">
                <input class="keywords form-outline" name="keyWordsfilter" [(ngModel)]="this.homeFiltersRequest.keywords" 
                (keyup)="wordCounter()" type="search" placeholder="Search" onkeydown="return /[a-z, ]/i.test(event.key)"
                onblur="if (this.value == '') {this.value = '';}"
                onfocus="if (this.value == '') {this.value = '';}">
              </nz-badge>
              </div>
            </div>
          </div>
          <div class="row mt-2 form-group">
            <label class="filterLabel d-block" for="EstadoFilter">Estado</label>
            <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.estado"
              (ngModelChange)="filter($event,'estado')">
              <label nz-radio-button nzValue=Nuevo>Nuevo</label>
              <label nz-radio-button nzValue=Usado>Usado</label>
              <label nz-radio-button nzValue="A reformar">A reformar</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Habitaciones-->
            <br>
            <label class="filterLabel d-block" for="Habitaciones">Habitaciones</label>
            <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.habitaciones"
              (ngModelChange)="filter($event,'habitaciones')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue="5">+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseos-->
            <br>
            <label class="filterLabel d-block" for="Aseos">Aseos</label>
            <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseos"
              (ngModelChange)="filter($event,'aseos')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue="5">+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseo ensuite-->
            <br>
            <label class="filterLabel d-block" for="AseoEnsuiteFilter">Aseo ensuite</label>
            <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseoEnsuite"
              (ngModelChange)="filter($event,'aseoEnsuite')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue="5">+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aparcamientos-->
            <br>
            <label class="filterLabel d-block" for="AparcamientosFilter">Aparcamientos</label>
            <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.garage"
              (ngModelChange)="filter($event,'garage')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue="5">+5</label>
            </nz-radio-group>
          </div>
          <!--Precio de alquiler-->
          <div class="row mt-2">
            <label class="filterLabel mt-1" for="priceContainer">Precio</label>
            <div class="row ml-1"
              *ngIf="this.filterRentSalePriceFlag=='Alquiler' || this.filterRentSalePriceFlag=='Compartir'">
              <div class="col-6">
                <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline " id="minPriceFilter"
                    [(ngModel)]="this.homeFiltersRequest.precioAlquilerMin"
                    (change)="filter($event.target.value,'precioAlquilerMin')">
                    <option *ngFor="let opt of precioMinimoAlquiler">{{opt}}</option>
                  </select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline" id="maxPriceFilter"
                    [(ngModel)]="this.homeFiltersRequest.precioAlquilerMax"
                    (change)="filter($event.target.value,'precioAlquilerMax')">
                    <option *ngFor="let opt of precioMaximoAlquiler">{{opt}}</option>
                  </select>
                </div>
                <br>
              </div>
            </div>
            <!--Precio de venta  -->
            <div class="row ml-1" *ngIf="this.filterRentSalePriceFlag=='Venta'">
              <div class="col-6">
                <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline" id="minPriceFilter" [(ngModel)]="this.homeFiltersRequest.precioVentaMin"
                    (change)="filter($event.target.value,'precioVentaMin')">
                    <option *ngFor="let opt of precioMinimoVenta">{{opt}}</option>
                  </select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline" id="maxPriceFilter" [(ngModel)]="this.homeFiltersRequest.precioVentaMax"
                    (change)="filter($event.target.value,'precioVentaMax')">
                    <option *ngFor="let opt of precioMaximoVenta">{{opt}}</option>
                  </select>
                </div>
                <br>
              </div>
            </div>
            <!--Superficie-->
            <label class="filterLabel" for="priceContainer">Superficie</label>
            <div class="row ml-1">
              <div class="col-6">
                <label class="filterLabel d-block" for="minAreaFilter">Mín</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline" id="minAreaFilter" [(ngModel)]="this.homeFiltersRequest.superficieMin"
                    (change)="filter($event.target.value,'superficieMin')">
                    <option *ngFor="let opt of superficie">{{opt}}</option>
                  </select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxAreaFilter">Max</label>
                <div class="select form-group is-rounded">
                  <select class="form-outline" id="maxAreaFilter" [(ngModel)]="this.homeFiltersRequest.superficieMax"
                    (change)="filter($event.target.value,'superficieMax')">
                    <option *ngFor="let opt of superficie">{{opt}}</option>
                  </select>
                </div>
                <br>
              </div>
            </div>
            <!--Vistas-->
            <div class="row mt-2 form-group">
              <br>
              <label class="filterLabel text-secondary ml-1 d-block" for="vistasFilter">Vistas</label>
              <nz-radio-group class="form-outline" nzSize="large" [(ngModel)]="this.homeFiltersRequest.vistas"
                (ngModelChange)="filter($event,'vistasDespejadas')">
                <label nz-radio-button *ngFor="let opt of vistas" [nzValue]=opt>{{opt}}</label>
              </nz-radio-group>
            </div>
            <!--Comodidades-->
            <div class="card mt-3 mb-3">
              <div class="card-content">
                <label class="filterLabel text-muted mt-n2 d-block" for="amenitiesFilter">Comodidades</label>
                <div class="row row-cols-2 mt-1">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/aa3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo"
                      style="text-overflow: ellipsis; white-space:nowrap">Aire acondicionado</label>
                    <input id="foo"
                      (change)="filter(this.homeFiltersRequest.aireAcondicionado?true:false,'aireAcondicionado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.aireAcondicionado" type="checkbox">
                    <label class="switch" for="foo"></label>
                  </div>
                  <div class="col input-chkbox-amenities form-group">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/balcony3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo4"
                      style="text-overflow: ellipsis; white-space:nowrap">Balcón</label>
                    <input id="foo4" (change)="filter(this.homeFiltersRequest.balcon?true:false,'balcon')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.balcon" type="checkbox">
                    <label class="switch" for="foo4"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/heating3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo3"
                      style="text-overflow: ellipsis; white-space:nowrap">Calefacción</label>
                    <input id="foo3" (change)="filter(this.homeFiltersRequest.calefaccion?true:false,'calefaccion')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.calefaccion">
                    <label class="switch" for="foo3"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/last_floor.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo2"
                      style="text-overflow: ellipsis; white-space:nowrap">Planta mas alta</label>
                    <input id="foo2" (change)="filter(this.homeFiltersRequest.plantaMasAlta?true:false,'plantaMasAlta')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.plantaMasAlta">
                    <label class="switch" for="foo2"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/amueblado3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo5"
                      style="text-overflow: ellipsis; white-space:nowrap">Amueblado</label>
                    <input id="foo5" (change)="filter(this.homeFiltersRequest.amueblado?true:false,'amueblado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.amueblado">
                    <label class="switch" for="foo5"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/elevator3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo6"
                      style="text-overflow: ellipsis; white-space:nowrap">Ascensor</label>
                    <input id="foo6" (change)="filter(this.homeFiltersRequest.ascensor?true:false,'ascensor')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.ascensor">
                    <label class="switch" for="foo6"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.6em; position:relative; " src="assets/svg/wheelchair3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo7"
                      style="text-overflow: ellipsis; white-space:nowrap">Inmueble accesible</label>
                    <input id="foo7"
                      (change)="filter(this.homeFiltersRequest.inmuebleAccesible?true:false,'inmuebleAccesible')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.inmuebleAccesible">
                    <label class="switch" for="foo7"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/solar_panels3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo8"
                      style="text-overflow: ellipsis; white-space:nowrap">Paneles solares</label>
                    <input id="foo8"
                      (change)="filter(this.homeFiltersRequest.panelesSolares?true:false,'panelesSolares')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.panelesSolares">
                    <label class="switch" for="foo8"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative;" src="assets/svg/jacuzzi3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo9"
                      style="text-overflow: ellipsis; white-space:nowrap">Jacuzzi</label>
                    <input id="foo9" (change)="filter(this.homeFiltersRequest.jacuzzi?true:false,'jacuzzi')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.jacuzzi">
                    <label class="switch" for="foo9"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2.1em; position:relative; " src="assets/svg/poolprivate3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo10"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina privada</label>
                    <input id="foo10"
                      (change)="filter(this.homeFiltersRequest.piscinaPrivada?true:false,'piscinaPrivada')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.piscinaPrivada">
                    <label class="switch" for="foo10"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/lockers3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo11"
                      style="text-overflow: ellipsis; white-space:nowrap">Trastero</label>
                    <input id="foo11" (change)="filter(this.homeFiltersRequest.trastero?true:false,'trastero')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="trastero" [(ngModel)]="this.homeFiltersRequest.trastero">
                    <label class="switch" for="foo11"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/communitypool3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo12"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina comunitaria</label>
                    <input id="foo12"
                      (change)="filter(this.homeFiltersRequest.piscinaCompartida?true:false,'piscinaCompartida')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="piscinaCompartida" [(ngModel)]="this.homeFiltersRequest.piscinaCompartida">
                    <label class="switch" for="foo12"></label>
                  </div>
                  <br>
                </div>
              </div><!--card content-->
            </div><!--card-->
            <!--Rent-->
            <div class="card mt-3 mb-3">
              <div class="card-content">

              </div><!--card content-->
            </div><!--card-->

          </div><!--row mt-2 -->
        </div><!--container-->
      </div>
    </form>
  </div>
  <div class="container text-center">
    <div class="row align-items-center">
      <div class="col-md-4">
        <button type="button" class="button is-rounded" (click)="filterSearchForm.resetForm();clearMap()"
          onclick="uncheck()">Borrar
          filtros</button>
      </div>
      <div class="col-md-4">

      </div>
      <div class="col-md-4">
        <button type="submit" class="button is-rounded">Buscar
        </button><!--(click)="modalRef.hide()"-->
      </div>
    </div>
  </div>
</p-sidebar>

<!--Sidenav to list-->
<div id="mySidenav" class="sidenav">
  <div class="container-fluid mt-2" >
    <div class="row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 g-4" >
    <!--Ad Card-->
    <div class="col d-flex flex-row" *ngFor="let appHome of homes; let i =index"><!--col-lg-8 col-md-10 col-sm-12 col-xs-12 d-flex-->
      <div class=" teaser-tile mt-2 mx-2" >
          <span class="favorite favorite-need-login" data-id="1935922" data-type="estate">
            <div class="wrapper-demo">
              <button class="toggle-icon" title="❤ Toggle Like!"></button>
            </div>
          </span>
          <div class="flex-grow-1 " ><!--hace la llamada (click)="runAdCard(appHome)"-->
              <div class="with-img" style="position: relative;">
                <div id="carouselExample{{this.idIndex[i]}}" class="carousel slide" data-bs-interval="false" >
                  <div class="carousel-inner">
                    <div class="carousel-item " *ngFor="let data of appHome.images; let j=index"  [ngClass]="(j === 0) ? 'active' : ''" >
                        <img style="aspect-ratio:16/9;" src={{data.imageUrl}} alt="First slide">
                    </div>
                  </div>
                  <button class="carousel-control-prev" type="button" [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                  </button>
                </div>
              </div>
              <div class="desc">
                  <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span class="text-secondary">{{appHome.tipo}}</span> </div>
                  <div class="route mx-2">{{appHome.calle}} <span style="color:#d9d9d9">|</span> {{appHome.distrito}} <span style="color:#d9d9d9">|</span> {{appHome.ciudad}}</div>
                  <div class="units mx-2">
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                        <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                          <span style="font-size: 0.8em;">{{appHome.habitaciones}}</span>
                      </div>
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                        <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"  name="expand-outline"></ion-icon>
                          <span style="font-size: 0.8em;">{{appHome.superficie}}m²</span>
                      </div>
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="bath">
                        <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" src="assets/svg/card-toilet.svg"></ion-icon>
                          <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.aseos}}</span>
                      </div>
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="facing">
                        <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" src="assets/svg/card-facing.svg"></ion-icon>
                          <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.orientacion}}</span>
                      </div>
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="card-spaces">
                        <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;" name="car-sport-outline"></ion-icon>
                          <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.garage}}</span>
                      </div>
                      <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="year">
                        <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" name="hammer-outline"></ion-icon>
                          <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.antiguedad}}</span>
                      </div>
                  </div>
              </div>
              <div class="txt h-100p b-none pt-0">
                  <div class="clamp-3" (click)="runAdCard(appHome)">{{appHome.descripcion}}</div>
              </div>
              <div class="price">
                  <div class="price-item">
                    {{formatNumberWithCommas(appHome.precioFinal)+'€'}}
                  </div>
              </div>
              <!--<div class="social-actions">
                  <div class="like-item">
                    <ion-icon name="heart-outline"></ion-icon>
                        <div class="social-counter" data-counter="1">1</div>
                    </div>
                  <div class="superlike-item">
                    <ion-icon name="heart-outline"></ion-icon>
                      <div class="social-counter" data-counter="0"></div>
                  </div>
                  <div class="d-flex flex-grow-1 justify-content-end">
                      <div class="recommend-item">
                          <div class="social-title">Recommend</div>
                          <ion-icon name="thumbs-up-outline"></ion-icon>
                          <div class="social-counter" data-counter="0"></div>
                      </div>
                  </div>
              </div>-->
            </div>
          <!--<div class="txt color-black b-none pt-4">
              <div class="contacts listing-contacts-block">
                  <div class="buttons">
                      <a href="" class="btn btn-sm w-100p btn-outline-primary">
                        <ion-icon name="thumbs-up-outline"></ion-icon>
                          <span class="text-truncate ml-6">Mensaje</span>
                      </a>
                  </div>
                  <div class="col-auto overflow-hidden">
                    <div class="btn btn-sm w-100p btn-primary show-contacts-btn">
                      <ion-icon name="call-outline"></ion-icon>
                    </div>
                </div>
              </div>
          </div>-->
      </div>
  </div>
</div>
  </div>
</div>



<!--Ghost buttons-->
<button id="oculto" class="oculto" style="display: none;" (click)="saveService()"></button>
<button id="runImage" class="btn btn-primary carousel-control-next" type="button" data-bs-target="#carouselExample"
  data-bs-slide="next" style="display: none;"></button>
<button id="linkPopup" class="linkPopup" style="display: none;" [routerLink]="['/add',this.routerLinkId]"
  fragment={{this.routerLinkModel}}></button>
  <button id="alertLocation" style="display:none;" type="button" class="btn-close" data-bs-dismiss="alert" data-bs-target="#my-alert" aria-label="Close"></button>