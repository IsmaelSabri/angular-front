<!--Main navbar-->
<header class="header">
  <div class="logo">
    <img src="assets/img/tmp/unknown-house.png" alt="Logo de la marca">
  </div>
  <nav class="navbar navbar-light">
    <ul class="nav-links">
      <li class="nav-item pr-3">
        <a [routerLink]="" class="nav-link" *ngIf='this.state' (click)="createLocationMarker()"><i
            class="bi bi-house-add"></i> Publicar</a>
      </li>
      <li class="nav-item pr-3 dropdown">
        <a class="nav-link" nz-dropdown [nzDropdownMenu]="menu" id="navbarDropdown" role="button"
          data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" *ngIf='this.state'><ion-icon size="small"
            name="file-tray-full-outline" style="position: relative; bottom: -5px;"></ion-icon></a>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu nzSelectable>
            <li nz-menu-item><a style="font-weight: bold;">Colecciones</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="save" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Guardadas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="schedule" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Reuniones planificadas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="audit" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Vistas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="stop" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Ocultas</a></li>
          </ul>
        </nz-dropdown-menu>


      <li class="nav-item pr-3">
        <a class="nav-link" (click)="showModal()" *ngIf='this.state'><i class="bi bi-bell"></i> </a>
      </li>
      <nz-modal [(nzVisible)]="isVisible" nzTitle="Notificaciones" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()"
        [nzOkLoading]="isOkLoading" style="font-weight: bold;">
        <p *nzModalContent>Obtén notificaciones acerca de tus búsquedas y tus viviendas guardadas.</p>
      </nz-modal>
      <li class="nav-item pr-3">
        <a routerLink="/login" *ngIf='!this.state' class="nav-link"><span nz-icon nzType="login" nzTheme="outline"
            style="position: relative; bottom: 3px;"></span> Entrar </a>
      </li>
      <li class="nav-item pr-3">
        <a routerLink="/register" *ngIf='!this.state' class="nav-link"> Registrarse </a>
      </li>
      <li class="nav-item pr-3">
        <a class="nav-link" *ngIf='this.state' (click)="onLogOut()" routerLink="/home"><span nz-icon nzType="logout"
            nzTheme="outline" style="position: relative; bottom: 3px;"></span> Salir </a>
      </li>
      <li class="nav-item pr-3">
        <a class="nav-link" *ngIf='this.state' routerLink="/user/management"><span nz-icon nzType="user"
            nzTheme="outline" style="position: relative; bottom: 3px;"></span> {{user?.username}} </a>
      </li>
      <li>
        <a class="nav-link"><button class="navbar-toggler menuHM shadow-none" data-bs-toggle="collapse"
            data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
            aria-expanded="false" aria-label="Toggle navigation"
            onclick="this.classList.toggle('opened');this.setAttribute('aria-expanded', this.classList.contains('opened'))"
            aria-label="Main Menu">
            <svg width="40" height="40" viewBox="0 -25 100 100">
              <path class="line line1"
                d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058" />
              <path class="line line2" d="M 20,50 H 80" />
              <path class="line line3"
                d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
            </svg>
          </button>
        </a>
      </li>
    </ul>
  </nav>

</header>

<!--collapse navbar-->
<div class="collapse" id="navbarToggleExternalContent">
  <div class="container-fluid">
    <nav style="display: block;">
      <ul class="nav-links nav  "
        style="padding-right:2%;list-style:none;padding:0;margin:0;display:inline-block;overflow-x:auto;white-space:nowrap;flex-wrap:inherit;">
        <li class="nav-item active pr-3">
          <a routerLink="/home" class="nav-link"> Comprar </a>
          <!--<li class="nav-item pr-3">
            <a href="#" [hidden]="!isAdmin" class="nav-link disabled" routerLink="/user/management"> Usuarios</a>
          </li>-->
        <li class="nav-item pr-3">
          <a href="#" class="nav-link disabled"> Vender </a>
        </li>
        <li class="nav-item pr-3">
          <a href="#" class="nav-link " routerLink="/list"> Vendido </a>
        </li>
        <li class="nav-item pr-3">
          <a routerLink="/vlog" class="nav-link"> Compartir </a>
        </li>


        <li class="nav-item pr-3">
          <a [routerLink]="" class="nav-link"> Buscar agentes
          </a>
        </li>
        <li class="nav-item pr-3">
          <a [routerLink]="" class="nav-link"> Noticias
          </a>
        </li>
        <li class="nav-item pr-3">
          <a href="#" class="nav-link" routerLink=""> Comercial </a>
        </li>
        <li class="nav-item pr-3">
          <a href="#" class="nav-link" routerLink=""> Vivir en España </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Map area -->
<div class="container">
  <ul class="nav nav-fill" id="secondnav">
    <li class="nav-item active pr-3">
      <a routerLink="" class="nav-link nav-border"><span nz-icon nzType="search" nzTheme="outline"
          style="position: relative; bottom: 3px;"></span> Map area </a>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" data-toggle="modal" data-target="#addMarkerModal"> Tipo de propiedad </a>
    </li>
    <li class="nav-item pr-3">
      <a routerLink="" class="nav-link nav-border"> Precio </a>
    </li>
    <!--<li class="nav-item pr-3">
          <a href="#" [hidden]="!isAdmin" class="nav-link disabled" routerLink="/user/management"> Usuarios</a>
        </li>-->
    <li class="nav-item pr-3">
      <a href="#" class="nav-link nav-border"> Habitaciones </a>
    </li>
    <li class="nav-item pr-3">
      <a routerLink="/vlog" class="nav-link nav-border"><span nz-icon nzType="sliders" nzTheme="outline"
          style="position: relative; bottom: 3px;"></span> Filtros </a>
    </li>
    <li class="nav-item pr-3">
      <a href="#" class="nav-link nav-border" routerLink="/list"><span nz-icon nzType="bars" nzTheme="outline"
          style="position: relative; bottom: 3px;"></span> Lista </a>
    </li>
  </ul>
</div>


<!-- modal add home  -->
<div *ngIf='this.state' class="modal draggable fade bd-example-modal-lg" id="addMarkerModal" tabindex="-1" rol="dialog"
  aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog" rol="document">
    <div class="modal-content">
      <div class="modal-header">
        <mat-toolbar class="title-toolbar">
          <mat-toolbar-row>
            <span class="title-center">Nueva propiedad</span>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </mat-toolbar-row>
        </mat-toolbar>
        <!---->
      </div>
      <div class="modal-body scrollspy-example bg-light p-3 rounded-2" data-bs-spy="scroll" data-bs-smooth-scroll="true"
        tabindex="0">
        <form #newMarkerForm="ngForm" method="post" (ngSubmit)="createHome2()" id="markerForm"
          style="margin-top: 15px;">
          <nz-tabset [nzTabBarExtraContent]="" [nzSize]="'large'" nz-row [nzTabBarStyle]=""
            style="color: #3a3b3c; display: block; align-items: center; justify-content: space-between; width: 100%; ">
            <nz-tab [nzTitle]="'Ubicación '" nz-col nzSpan="8">
              <!--introducir provincia-->
              <div class="container-fluid">
                <button class="btn btn-custom" id="provButton"
                  style=" align-items: center; display: block; width: 100%;" (click)="locationMap()">
                  Provincia
                </button>
                <button class="btn btn-custom" id="provButton2"
                  style=" align-items: center; display: none; width: 100%;" (click)="showCityResult()">
                  Ok
                </button>
              </div>
              <div id="map_2" style="width: 100%; height: 290px; border-radius:5px; margin-top: 7px; display: none;">
              </div>
              <!-- Calle, número y código postal -->
              <div class="form-group" style="margin-top: 20px; padding-left: 4px;">
                <label for="calle">Calle</label>
                <input style="border:1px solid #bcd1c6;" class="form-control inputValue" id="" type="text" name="calle"
                  required [(ngModel)]="home.calle" placeholder="Calle, avenida, plaza...">
              </div>
              <div class="form-group row" style="margin-top: 38px;">
                <div class="col" style="padding-left: 21px;">
                  <label for="numero">Número</label>
                  <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id=""
                    type="text" ngModel pattern="\d*" maxlength="3" (keypress)="numberOnly($event)" name="numero"
                    required [(ngModel)]="home.numero" placeholder="Numero">
                </div>
                <div class="col" style="padding-left: 21px;">
                  <label for="cp">Código postal</label>
                  <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id=""
                    type="text" ngModel pattern="\d*" maxlength="5" (keypress)="numberOnly($event)" name="cp" required
                    [(ngModel)]="home.cp" placeholder="Código postal">
                </div>
              </div>
              <!-- Superficie y Garage -->
              <div class="form-group row" style="margin-top: 32px;">
                <div class="col" style="padding-left: 21px;">
                  <label for="superficie">Superficie</label>
                  <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id=""
                    type="text" ngModel pattern="\d*" maxlength="20" (keypress)="numberOnly($event)" name="superfice"
                    required [(ngModel)]="home.superficie" placeholder="M²">
                </div>
                <div class="col" style="padding-left: 21px;">
                  <label for="garage">Aparcamientos</label>
                  <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id=""
                    type="text" ngModel pattern="\d*" maxlength="5" (keypress)="numberOnly($event)" name="garage"
                    required [(ngModel)]="home.garage" placeholder="Nº">
                </div>
              </div>
              <!-- Opción a la que se destina y tipo -->
              <div class="form-group row" style="margin-top: 32px;">
                <div class="col" style="padding-left: 21px;">
                  <label for="opcion">Alquiler - Venta ...</label>
                  <mat-form-field floatLabel="never" appearance="outline" class="search no-label">
                    <!--<mat-label>Opción</mat-label>-->
                    <mat-select #optionInput="ngModel" [(ngModel)]="home.condicion" panelClass="example-panel" required>
                      <mat-option *ngFor="let opt of condicion" [value]="opt">
                        {{opt}}
                      </mat-option>
                    </mat-select>
                    <mat-error style="color:red; font-size: xx-small;"
                      *ngIf="optionInput.touched && optionInput.invalid">Seleccione una opción</mat-error>
                    <mat-hint>{{optionInput.value?.sound}}</mat-hint>
                  </mat-form-field>
                </div>
                <div class="col" style="padding-left: 21px; ">
                  <label for="Tipo">Tipo de inmueble</label>
                  <mat-form-field [floatLabel]="'never'" appearance="outline" class="search no-label">
                    <!--<mat-label>Tipo</mat-label>-->
                    <mat-select #typeInput="ngModel" [(ngModel)]="home.tipo" panelClass="example-panel" required>
                      <mat-option *ngFor="let opt of tipo" [value]="opt">
                        {{opt}}
                      </mat-option>
                    </mat-select>
                    <mat-error style="color:red; font-size: xx-small;"
                      *ngIf="typeInput.touched && typeInput.invalid">Seleccione una opción</mat-error>
                    <mat-hint>{{typeInput.value?.sound}}</mat-hint>
                  </mat-form-field>
                </div>
              </div>
              <!-- Habitaciones y baños -->
              <div class="form-group" style="margin-top: auto;">
                <div class="row">
                  <div class="col" style="padding-left: 21px;">
                    <label for="habitaciones">Habitaciones</label>
                    <input #roomsInput="ngModel" style="border:1px solid #bcd1c6; width: 212px;"
                      class="form-control inputValue" id="rooms" type="text" ngModel pattern="\d*" maxlength="3"
                      (keypress)="numberOnly($event)" name="habitaciones" required [(ngModel)]="home.habitaciones"
                      placeholder="0-999">
                  </div>
                  <div class="col" style="padding-left: 21px;">
                    <label for="baños">Baños</label>
                    <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id=""
                      type="text" ngModel pattern="\d*" maxlength="3" (keypress)="numberOnly($event)" name="baños"
                      required [(ngModel)]="home.aseos" placeholder="Aseos">
                  </div>
                </div>
              </div>
              <!-- Estado en el que se encuentra y a destacar -->
              <div class="form-group row" style="margin-top: 32px;">
                <div class="col" style="padding-left: 21px;">
                  <label for="estado">Estado</label>
                  <mat-form-field floatLabel="never" appearance="outline" class="search no-label">
                    <!--<mat-label>Opción</mat-label>-->
                    <mat-select #stateInput="ngModel" [(ngModel)]="home.estado" panelClass="example-panel" required>
                      <mat-option *ngFor="let opt of propertyState" [value]="opt">
                        {{opt}}
                      </mat-option>
                    </mat-select>
                    <mat-error style="color:red; font-size: xx-small;"
                      *ngIf="stateInput.touched && stateInput.invalid">Seleccione una opción</mat-error>
                    <mat-hint>{{stateInput.value?.sound}}</mat-hint>
                  </mat-form-field>
                </div>
                <div class="col" style="padding-left: 21px; ">
                  <label for="badge">Destacar</label>
                  <mat-form-field [floatLabel]="'never'" appearance="outline" class="search no-label">
                    <!--<mat-label>Tipo</mat-label>-->
                    <mat-select #badgeInput="ngModel" [(ngModel)]="home.destacar" panelClass="example-panel" required>
                      <mat-option *ngFor="let opt of badge" [value]="opt">
                        {{opt}}
                      </mat-option>
                    </mat-select>
                    <mat-error style="color:red; font-size: xx-small;"
                      *ngIf="badgeInput.touched && badgeInput.invalid">Seleccione una opción</mat-error>
                    <mat-hint>{{badgeInput.value?.sound}}</mat-hint>
                  </mat-form-field>
                </div>
              </div>
              <!-- Antiguedad y precio -->
              <div class="form-group" style="margin-top: auto;">
                <div class="row">
                  <div class="col" style="padding-left: 21px;">
                    <label for="antiguedad">Año de construcción</label>
                    <input #antiguedadInput="ngModel" style="border:1px solid #bcd1c6; width: 212px;"
                      class="form-control inputValue" id="antiguedad" type="text" ngModel pattern="\d*" maxlength="4"
                      (keypress)="numberOnly($event)" name="antiguedad" required [(ngModel)]="home.antiguedad"
                      placeholder="AC-2023">
                  </div>
                  <div class="col" style="padding-left: 21px;">
                    <label for="precio">Precio</label>
                    <input style="border:1px solid #bcd1c6; width: 212px;" class="form-control inputValue" id="precio"
                      type="text" ngModel pattern="\d*" maxlength="9" (keypress)="numberOnly($event)" name="precio"
                      required [(ngModel)]="home.precioFinal" placeholder="€">
                  </div>
                </div>
              </div>
            </nz-tab>
            <!-- 

                <li>
                  <mat-card class="result">
                    <mat-card-content>
                      <h2 class="example-h2">Favorito</h2>
                      <section class="example-section">
                        <mat-checkbox class="example-margin" (change)="changeEvent($event)"
                          (indeterminateChange)="checkBox($event)" class="example-margin" [checked]="IsChecked"
                          [(indeterminate)]="IsIndeterminate" [labelPosition]="LabelAlign" [disabled]="IsDisabled">
                        </mat-checkbox>
                      </section>
                    </mat-card-content>
                  </mat-card>
                </li>-->
            <nz-tab [nzTitle]="'General'" nz-col nzSpan="8">
              <div class="form-group ">
                <!-- Energía y climatización -->
                <div class="row row-cols-2" style="margin-top: 10px;">
                  <div class="col">
                    <label for="energia y climatizacion" style="padding-left: 21px;">Energía y climatización</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row row-cols-2 "
                  style="padding-left: 21px; margin-top: 17px; border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col ">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Aire acondicionado</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Alta eficiencia energética</span>
                    </label>
                    <br>
                  </div>
                  <div class="col ">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Paneles solares</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Calefacción</span>
                    </label>
                  </div>
                  <br class="brboom">
                </div>
                <!-- Comunidad -->
                <div class="row row-cols-2" style="margin-top: 25px;">
                  <div class="col">
                    <label for="comunidad" style="padding-left: 21px;">Comunidad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row row-cols-2 "
                  style="padding-left: 21px; margin-top: 17px; border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Gimnasio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Tenis</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Padel</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Piscina</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Zona de ocio</span>
                    </label>
                    <br>
                  </div>
                  <div class="col">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Sauna</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Jacuzzi</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Golf</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Jardín</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Columpios</span>
                    </label>
                  </div>
                  <br class="brboom">
                </div>

                <!-- Seguridad -->
                <div class="row row-cols-2" style="margin-top: 25px;">
                  <div class="col">
                    <label for="comunidad" style="padding-left: 21px;">Seguridad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row row-cols-2 "
                  style="padding-left: 21px; margin-top: 17px; border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Recepción 24/7</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Video vigilancia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Alarma de incendios</span>
                    </label>
                    <br>
                    <!--<li>
                      <mat-card class="result">
                        <mat-card-content >
                          
                          <section class="example-section">
                            <mat-checkbox class="example-margin" (change)="changeEvent($event)" style="float: left;"
                              (indeterminateChange)="checkBox($event)" class="example-margin" [checked]="IsChecked"
                              [(indeterminate)]="IsIndeterminate" [labelPosition]="LabelAlign" [disabled]="IsDisabled">
                              <label for="" style="">Favorito</label></mat-checkbox>
                          </section>
                        </mat-card-content>
                      </mat-card>
                    </li>-->
                  </div>
                  <div class="col">
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="1" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Extintores</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="2" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Generador de emergencia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" class="c-material-che__hidden" value="3" />
                      <span class="c-material-che__el"></span>
                      <span class="c-material-che__label">Vivienda accesible</span>
                    </label>
                  </div>
                  <br class="brboom">
                </div>
              </div>
            </nz-tab>










            <!---->
            <nz-tab [nzTitle]="'Acabados'" nz-col nzSpan="8">
              <div class="form-group">
                <label for="fotos">Sube una foto</label><br>
                <input required (change)="saveImage($event)" type="file" />
              </div>
              <!-- previsualización -->
              <div class="form-group" *ngIf="prev">
                <img [src]="prev" alt="" height="75px" width="75" style="border-radius:5px;">
              </div>
              <!--textarea-->
              <div class="form-group">
                <label for="descripcion">Descripción</label>
                <textarea required
                  style="resize:none; border-radius:5px; height:100px; width:465px; background-color:white;color:black;"
                  [(ngModel)]='home.descripcion' rows="30" cols="120">
                 </textarea>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                  id="new-marker-close">Cerrar</button>
                <input type="submit" class="btn btn-primary" value="Crear">
              </div>
            </nz-tab>

            <!-- Vivienda -->
            <nz-tab [nzTitle]="'Piso'" nz-col nzSpan="8" [nzDisabled]="home.tipo=='Piso'">
              <div class="form-group">
                <label for="fotos">Sube una foto</label><br>
                <input required (change)="saveImage($event)" type="file" />
              </div>
              <!-- previsualización -->
              <div class="form-group" *ngIf="prev">
                <img [src]="prev" alt="" height="75px" width="75" style="border-radius:5px;">
              </div>
              <!--textarea-->
              <div class="form-group">
                <label for="descripcion">Descripción</label>
                <textarea required
                  style="resize:none; border-radius:5px; height:100px; width:465px; background-color:white;color:black;"
                  [(ngModel)]='home.descripcion' rows="30" cols="120">
                 </textarea>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                  id="new-marker-close">Cerrar</button>
                <input type="submit" class="btn btn-primary" value="Crear">
              </div>
            </nz-tab>





            <!-- Movilidad -->
            <nz-tab [nzTitle]="'Movilidad'" nz-col nzSpan="8" [nzDisabled]="" id="tagScript">
              <div class="container-fluid">
                <h3 class="text-center">Servicios próximos</h3>
                <p>Puedes añadir servicios próximos a tu vivienda como colegios, universidades o supermercados.</p>
                <div class="ctnrmovility" #element>
                  <a class="btnmov js-click-modal" (click)="openToogleModal(true)">Empezar</a>
                  <div class="modalmov">
                    <div class="header" style="border-top-right-radius: 20px 20px; border-top-left-radius: 20px 20px;">
                      <a class="btnmov js-close-modal" (click)="openToogleModal(false)">Guardar</a>
                    </div>
                    <div class="body">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-7">
                            <div class="accordion">
                              <div class="accordion-item">
                                <input id="accordion-trigger-1" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-1">Colegios
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="card">
                                          <div class="card-body">
                                            <div class="form-group row">
                                              <table class="table">
                                                <thead>
                                                  <tr>
                                                    <th scope="col"><ion-icon name="easel-outline"></ion-icon></th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Enseñanza</th>
                                                    <th scope="col">Institución</th>
                                                    <th scope="col">Página web</th>
                                                    <th scope="col">Distancia</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr>
                                                    <th scope="row">1</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">2</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">3</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">4</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">5</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">6</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of ensenyanza"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#808080', this.sc)">Distancia</button>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-2" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-2">Universidades
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="card">
                                          <div class="card-body">
                                            <div class="form-group row">
                                              <table class="table">
                                                <thead>
                                                  <tr>
                                                    <th scope="col"><i class="bi bi-mortarboard"></i></th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Rama de conocimiento</th>
                                                    <th scope="col">Institución</th>
                                                    <th scope="col">Página web</th>
                                                    <th scope="col">Distancia</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr>
                                                    <th scope="row">1</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#128c7e', this.uni)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">2</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#128c7e', this.uni)">Distancia</button>
                                                    </td>
                                                  </tr>

                                                  <tr>
                                                    <th scope="row">3</th>
                                                    <td><input nz-input type="text" class="nzInput"
                                                        placeholder="Nombre"></td>
                                                    <td>
                                                      <nz-select class="nzSelectR" [nzSize]="size">
                                                        <nz-option class="nzOptionR" *ngFor="let opt of ramas"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td>
                                                      <nz-select class="nzSelect" [nzSize]="size">
                                                        <nz-option class="nzOption" *ngFor="let opt of institucion"
                                                          [nzValue]="opt" [nzLabel]="opt">{{opt}}</nz-option>
                                                      </nz-select>
                                                    </td>
                                                    <td><input nz-input type="text" class="nzInput" placeholder="www">
                                                    </td>
                                                    <td><button type="button" class="btnDistancia" (click)="setRoute('#128c7e', this.uni)">Distancia</button>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-3" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-3">Autobuses
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="col-6">
                                          <div class="card">
                                            <div class="card-body">
                                              <div class="form-group row">
                                                <table class="table">
                                                  <thead>
                                                    <tr>
                                                      <th scope="col"><ion-icon name="bus-outline"></ion-icon></th>
                                                      <th scope="col">Parada</th>
                                                      <th scope="col">Líneas</th>
                                                      <th scope="col">Distancia</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr>
                                                      <th scope="row">1</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Parada"></td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Líneas"></td>
                                                      <td><button type="button" class="btnDistancia" (click)="setRoute('#960018', this.busic)">Distancia</button>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <th scope="row">2</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Parada"></td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Líneas"></td>
                                                      <td><button type="button" class="btnDistancia" (click)="setRoute('#960018', this.busic)">Distancia</button>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <th scope="row">3</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Parada"></td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Líneas"></td>
                                                      <td><button type="button" class="btnDistancia" (click)="setRoute('#960018', this.busic)">Distancia</button>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-4" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-4">Metro
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="col-6">
                                          <div class="card">
                                            <div class="card-body">
                                              <div class="form-group row">
                                                <table class="table">
                                                  <thead>
                                                    <tr>
                                                      <th scope="col"><i class="bi bi-train-lightrail-front"></i></th>
                                                      <th scope="col">Parada</th>
                                                      <th scope="col">Líneas</th>
                                                      <th scope="col">Distancia</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr>
                                                      <th scope="row">1</th>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Parada"></td>
                                                      <td><input nz-input type="text" class="nzInput"
                                                          placeholder="Líneas"></td>
                                                      <td><button type="button" class="btnDistancia" (click)="setRoute('#d6a323', this.swi)">Distancia</button>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-5" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-5">Supermercados
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="form-group row">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><i class="bi bi-cart3"></i></th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col">Distancia</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            placeholder="Nombre"></td>
                                                        <td><button type="button"
                                                            class="btnDistancia" (click)="setRoute('#6f5e53', this.mki)">Distancia</button></td>
                                                      </tr>
                                                      <tr>
                                                        <th scope="row">2</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            placeholder="Nombre"></td>
                                                        <td><button type="button"
                                                            class="btnDistancia" (click)="setRoute('#6f5e53', this.mki)">Distancia</button></td>
                                                      </tr>
                                                      <tr>
                                                        <th scope="row">3</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            placeholder="Nombre"></td>
                                                        <td><button type="button"
                                                            class="btnDistancia" (click)="setRoute('#6f5e53', this.mki)">Distancia</button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>

                              <div class="accordion-item">
                                <input id="accordion-trigger-6" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-6">Aeropuerto
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="form-group row">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><ion-icon name="airplane-outline"></ion-icon>
                                                        </th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col">Distancia</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            placeholder="Nombre"></td>
                                                        <td><button type="button"
                                                            class="btnDistancia" (click)="setRoute('#3200ff', this.airp)">Distancia</button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>
                              <!--  -->
                              <div class="accordion-item">
                                <input id="accordion-trigger-7" class="accordion-trigger-input" type="checkbox">
                                <label class="accordion-trigger" for="accordion-trigger-7">Playa
                                </label>
                                <section class="accordion-animation-wrapper">
                                  <div class="accordion-animation">
                                    <div class="accordion-transform-wrapper">
                                      <div class="accordion-content">
                                        <div class="row">
                                          <div class="col-6">
                                            <div class="card">
                                              <div class="card-body">
                                                <div class="form-group row">
                                                  <table class="table">
                                                    <thead>
                                                      <tr>
                                                        <th scope="col"><ion-icon name="sunny-outline"></ion-icon>
                                                        </th>
                                                        <th scope="col">Nombre</th>
                                                        <th scope="col"><img style="width: 60px; height: 20px;"
                                                            src="assets/svg/beach-distance-line-sombrilla.svg" alt="">
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <th scope="row">1</th>
                                                        <td><input nz-input type="text" class="nzInput"
                                                            placeholder="Nombre"></td>
                                                        <td><button type="button"
                                                            class="btnDistancia" (click)="setRoute('dodgerblue', this.bch)">Distancia</button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </section>
                              </div>
                            </div>

                          </div>
                          <div class="col-5">
                            <div #map_3 id="map_3"
                              style="width: 100%; height: 100%; border-radius:7px; display: flex; padding-right: 0%;">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </nz-tab>
          </nz-tabset>
        </form>
      </div>


      <div class="modal-footer">
        <mat-toolbar>
          <mat-toolbar-row>
            <div class="col">
            </div>
            <div class="col">
              <button class="center" style="margin-right: 19px; font-weight: 700; border: none; background: none;"
                (click)="newMarkerForm.reset()">Borrar campos</button>
            </div>
            <div class="col">
            </div>
          </mat-toolbar-row>
        </mat-toolbar>
      </div>
    </div>
  </div>
</div>

<!-- Leaflet map -->
<div id="map"></div>
<button id="oculto" class="oculto" style="display: none;" (click)="printRoute()"></button>