<!--Main navbar-->
<header>
  <nav class="navbar is-white is-transparent has-centered-logo-alt" role="navigation" aria-label="main navigation">
    <div class="navbar-brand is-hidden-desktop">
      <a class="navbar-item" routerLink="/_es">
        <!--<img src="assets/images..." class="img-fluid w-50" alt="">-->
        <svg width="640" height="160" viewBox="0 0 640 160" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M170 132.571V27.5908C170 25.5451 170.915 23.93 172.746 22.7456C174.576 21.5612 176.729 20.969 179.206 20.969H210.377C232.019 20.969 242.84 30.4441 242.84 49.3943C242.84 62.5303 238.264 71.0902 229.112 75.074C234.603 77.2275 238.748 80.2692 241.548 84.1992C244.347 88.1292 245.747 93.8627 245.747 101.4V104.791C245.747 116.743 242.84 125.437 237.026 130.875C231.211 136.312 223.351 139.031 213.445 139.031H179.206C176.514 139.031 174.307 138.385 172.584 137.093C170.861 135.801 170 134.293 170 132.571ZM190.834 120.619H209.085C219.529 120.619 224.751 114.751 224.751 103.015V100.431C224.751 94.401 223.432 90.0404 220.794 87.3486C218.156 84.6568 214.253 83.3109 209.085 83.3109H190.834V120.619ZM190.834 66.8371H208.923C213.122 66.8371 216.326 65.5989 218.533 63.1225C220.74 60.646 221.844 57.2544 221.844 52.9475C221.844 48.7483 220.686 45.4374 218.371 43.0148C216.057 40.5922 212.853 39.3809 208.762 39.3809H190.834V66.8371ZM260.283 103.015V27.4293C260.283 25.2759 261.306 23.6608 263.351 22.5841C265.397 21.5074 267.873 20.969 270.781 20.969C273.688 20.969 276.164 21.5074 278.21 22.5841C280.256 23.6608 281.279 25.2759 281.279 27.4293V103.015C281.279 115.397 287.2 121.588 299.044 121.588C310.888 121.588 316.81 115.397 316.81 103.015V27.4293C316.81 25.2759 317.833 23.6608 319.879 22.5841C321.925 21.5074 324.401 20.969 327.308 20.969C330.215 20.969 332.692 21.5074 334.738 22.5841C336.783 23.6608 337.806 25.2759 337.806 27.4293V103.015C337.806 115.72 334.28 125.061 327.227 131.036C320.175 137.012 310.781 140 299.044 140C287.308 140 277.914 137.039 270.861 131.117C263.809 125.195 260.283 115.828 260.283 103.015ZM356.703 132.409V27.4293C356.703 25.2759 357.725 23.6608 359.771 22.5841C361.817 21.5074 364.293 20.969 367.201 20.969C370.108 20.969 372.584 21.5074 374.63 22.5841C376.676 23.6608 377.699 25.2759 377.699 27.4293V120.619H417.106C419.044 120.619 420.579 121.534 421.709 123.365C422.84 125.195 423.405 127.349 423.405 129.825C423.405 132.301 422.84 134.455 421.709 136.285C420.579 138.116 419.044 139.031 417.106 139.031H365.908C363.432 139.031 361.279 138.439 359.448 137.254C357.618 136.07 356.703 134.455 356.703 132.409ZM434.872 132.409V31.467C434.872 27.9138 435.868 25.2759 437.86 23.5532C439.852 21.8304 442.355 20.969 445.37 20.969C449.354 20.969 452.423 21.6689 454.576 23.0686C456.729 24.4684 459.098 27.4832 461.682 32.1131L481.548 68.2907L501.413 32.1131C503.997 27.4832 506.393 24.4684 508.6 23.0686C510.808 21.6689 513.903 20.969 517.887 20.969C520.902 20.969 523.405 21.8304 525.397 23.5532C527.389 25.2759 528.385 27.9138 528.385 31.467V132.409C528.385 134.455 527.335 136.07 525.236 137.254C523.136 138.439 520.686 139.031 517.887 139.031C514.98 139.031 512.503 138.439 510.458 137.254C508.412 136.07 507.389 134.455 507.389 132.409V62.961L488.493 96.5545C486.985 99.354 484.616 100.754 481.386 100.754C478.264 100.754 475.949 99.354 474.441 96.5545L455.868 61.6689V132.409C455.868 134.455 454.818 136.07 452.719 137.254C450.619 138.439 448.17 139.031 445.37 139.031C442.463 139.031 439.987 138.439 437.941 137.254C435.895 136.07 434.872 134.455 434.872 132.409ZM539.529 130.31C539.529 130.094 539.637 129.556 539.852 128.694L571.023 27.1063C571.669 24.8452 573.257 23.0956 575.787 21.8573C578.318 20.6191 581.198 20 584.428 20C587.658 20 590.565 20.6191 593.149 21.8573C595.734 23.0956 597.349 24.8452 597.995 27.1063L629.166 128.694C629.381 129.556 629.489 130.094 629.489 130.31C629.489 132.678 628.035 134.724 625.128 136.447C622.221 138.17 619.26 139.031 616.245 139.031C612.261 139.031 609.892 137.631 609.139 134.832L603.001 113.351H566.016L559.879 134.832C559.125 137.631 556.756 139.031 552.773 139.031C549.65 139.031 546.662 138.197 543.809 136.528C540.956 134.859 539.529 132.786 539.529 130.31ZM570.377 96.8775H598.479L584.428 47.2948L570.377 96.8775Z"
            fill="black" class="bd-svg-black" />
          <path fill-rule="evenodd" clip-rule="evenodd" d="M0 110L10 40L50 0L100 50L70 80L110 120L50 160L0 110Z"
            fill="#00D1B2" />
        </svg>
      </a>
      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
        data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
        <a class="nav-link"><button class="navbar-toggler menuHM shadow-none" data-bs-toggle="collapse"
            data-bs-target=".collapse" aria-controls="navbarToggleExternalContent" aria-expanded="false"
            aria-label="Toggle navigation"
            onclick="this.classList.toggle('opened');this.setAttribute('aria-expanded', this.classList.contains('opened'))"
            aria-label="Main Menu">
            <svg width="40" height="40" viewBox="0 -25 100 100">
              <path class="line line1"
                d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058" />
              <path class="line line2" d="M 20,50 H 80" />
              <path class="line line3"
                d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
            </svg>
          </button>
        </a>


      </div>
      <div class="navbar-brand is-hidden-touch">
        <a class="navbar-item align-items-center" routerLink="/_es">
          <!--<img src="assets/images... class="img-fluid w-50 mx-auto" alt="">-->
          <svg width="640" height="160" viewBox="0 0 640 160" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M170 132.571V27.5908C170 25.5451 170.915 23.93 172.746 22.7456C174.576 21.5612 176.729 20.969 179.206 20.969H210.377C232.019 20.969 242.84 30.4441 242.84 49.3943C242.84 62.5303 238.264 71.0902 229.112 75.074C234.603 77.2275 238.748 80.2692 241.548 84.1992C244.347 88.1292 245.747 93.8627 245.747 101.4V104.791C245.747 116.743 242.84 125.437 237.026 130.875C231.211 136.312 223.351 139.031 213.445 139.031H179.206C176.514 139.031 174.307 138.385 172.584 137.093C170.861 135.801 170 134.293 170 132.571ZM190.834 120.619H209.085C219.529 120.619 224.751 114.751 224.751 103.015V100.431C224.751 94.401 223.432 90.0404 220.794 87.3486C218.156 84.6568 214.253 83.3109 209.085 83.3109H190.834V120.619ZM190.834 66.8371H208.923C213.122 66.8371 216.326 65.5989 218.533 63.1225C220.74 60.646 221.844 57.2544 221.844 52.9475C221.844 48.7483 220.686 45.4374 218.371 43.0148C216.057 40.5922 212.853 39.3809 208.762 39.3809H190.834V66.8371ZM260.283 103.015V27.4293C260.283 25.2759 261.306 23.6608 263.351 22.5841C265.397 21.5074 267.873 20.969 270.781 20.969C273.688 20.969 276.164 21.5074 278.21 22.5841C280.256 23.6608 281.279 25.2759 281.279 27.4293V103.015C281.279 115.397 287.2 121.588 299.044 121.588C310.888 121.588 316.81 115.397 316.81 103.015V27.4293C316.81 25.2759 317.833 23.6608 319.879 22.5841C321.925 21.5074 324.401 20.969 327.308 20.969C330.215 20.969 332.692 21.5074 334.738 22.5841C336.783 23.6608 337.806 25.2759 337.806 27.4293V103.015C337.806 115.72 334.28 125.061 327.227 131.036C320.175 137.012 310.781 140 299.044 140C287.308 140 277.914 137.039 270.861 131.117C263.809 125.195 260.283 115.828 260.283 103.015ZM356.703 132.409V27.4293C356.703 25.2759 357.725 23.6608 359.771 22.5841C361.817 21.5074 364.293 20.969 367.201 20.969C370.108 20.969 372.584 21.5074 374.63 22.5841C376.676 23.6608 377.699 25.2759 377.699 27.4293V120.619H417.106C419.044 120.619 420.579 121.534 421.709 123.365C422.84 125.195 423.405 127.349 423.405 129.825C423.405 132.301 422.84 134.455 421.709 136.285C420.579 138.116 419.044 139.031 417.106 139.031H365.908C363.432 139.031 361.279 138.439 359.448 137.254C357.618 136.07 356.703 134.455 356.703 132.409ZM434.872 132.409V31.467C434.872 27.9138 435.868 25.2759 437.86 23.5532C439.852 21.8304 442.355 20.969 445.37 20.969C449.354 20.969 452.423 21.6689 454.576 23.0686C456.729 24.4684 459.098 27.4832 461.682 32.1131L481.548 68.2907L501.413 32.1131C503.997 27.4832 506.393 24.4684 508.6 23.0686C510.808 21.6689 513.903 20.969 517.887 20.969C520.902 20.969 523.405 21.8304 525.397 23.5532C527.389 25.2759 528.385 27.9138 528.385 31.467V132.409C528.385 134.455 527.335 136.07 525.236 137.254C523.136 138.439 520.686 139.031 517.887 139.031C514.98 139.031 512.503 138.439 510.458 137.254C508.412 136.07 507.389 134.455 507.389 132.409V62.961L488.493 96.5545C486.985 99.354 484.616 100.754 481.386 100.754C478.264 100.754 475.949 99.354 474.441 96.5545L455.868 61.6689V132.409C455.868 134.455 454.818 136.07 452.719 137.254C450.619 138.439 448.17 139.031 445.37 139.031C442.463 139.031 439.987 138.439 437.941 137.254C435.895 136.07 434.872 134.455 434.872 132.409ZM539.529 130.31C539.529 130.094 539.637 129.556 539.852 128.694L571.023 27.1063C571.669 24.8452 573.257 23.0956 575.787 21.8573C578.318 20.6191 581.198 20 584.428 20C587.658 20 590.565 20.6191 593.149 21.8573C595.734 23.0956 597.349 24.8452 597.995 27.1063L629.166 128.694C629.381 129.556 629.489 130.094 629.489 130.31C629.489 132.678 628.035 134.724 625.128 136.447C622.221 138.17 619.26 139.031 616.245 139.031C612.261 139.031 609.892 137.631 609.139 134.832L603.001 113.351H566.016L559.879 134.832C559.125 137.631 556.756 139.031 552.773 139.031C549.65 139.031 546.662 138.197 543.809 136.528C540.956 134.859 539.529 132.786 539.529 130.31ZM570.377 96.8775H598.479L584.428 47.2948L570.377 96.8775Z"
              fill="black" class="bd-svg-black" />
            <path fill-rule="evenodd" clip-rule="evenodd" d="M0 110L10 40L50 0L100 50L70 80L110 120L50 160L0 110Z"
              fill="#00D1B2" />
          </svg>
        </a>
        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
          data-target="navbarBasicExample">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
      <div class="navbar-end col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
        <a class="navbar-item" nz-dropdown [nzDropdownMenu]="menu" id="navbarDropdown" role="button"
          aria-expanded="false" aria-haspopup="true" *ngIf='this.state'>
          <img height="55" width="55" class="rounded-circle img-fluid" style="border: 1px #b4b4b4 solid;" alt="avatar2"
            [attr.src]="this.getProfileImage()" />
        </a>
        <nz-dropdown-menu #menu="nzDropdownMenu" nzPlacement="bottomRight">
          <ul nz-menu nzSelectable>
            <li nz-menu-item class="bg-light"><a style="font-weight: bold;" class="text-secondary">Colecciones</a></li>
            <li nz-menu-item><a *ngIf='this.state' routerLink="/user/management">
                <ion-icon name="person-outline" style="position: relative; top: 2px;"></ion-icon> {{user?.username}}
              </a></li>

            <li nz-menu-item><a [routerLink]="" *ngIf='this.state'><ion-icon name="notifications-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>
                <p-badge styleClass="mr-2" [value]="2" severity="info"></p-badge>
                Notificaciones</a></li>

            <li nz-menu-item><a (click)="myFavourites()"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="heart-half-outline"></ion-icon> Guardadas</a></li>
            <li nz-menu-item><a routerLink="/user-pro"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="speedometer-outline"></ion-icon> Pro-area</a></li>
            <li nz-menu-item><a routerLink="/admin"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                  name="person-circle-outline"></ion-icon> Admin-area</a></li>
            <li nz-menu-item><a [routerLink]=""><ion-icon name="heart-dislike-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon> Ocultas</a></li>
            <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="audit" nzTheme="outline"
                  style="position: relative; bottom: 3px;"></span> Vistas</a></li>

            <li nz-submenu nzTitle="Publicar">
              <ul>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Nueva propiedad')"><i
                      class="bi bi-house-add"></i>&nbsp;Vivienda</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Proyecto nuevo')"><i
                      class="bi bi-building"></i>&nbsp;Proyecto</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Oficina')"><i
                      class="bi bi-buildings"></i>&nbsp;Oficina</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Local')"><i
                      class="bi bi-building-fill-add"></i>&nbsp;Local</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Parcela')"><i
                      class="bi bi-building-fill-add"></i>&nbsp;Terreno</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Garage')"><i
                      class="bi bi-building-fill-add"></i>&nbsp;Garage</a></li>
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'
                    (click)="createLocationMarker();setAdTitle('Trastero')"><i
                      class="bi bi-building-fill-add"></i>&nbsp;Trastero</a></li>
                <!--<li nz-menu-item><a [routerLink]="" *ngIf='this.state' (click)="createLocationMarker();setAdTitle('Alojamiento vacacional')"><i class="bi bi-building-fill-add"></i>&nbsp;Alojamiento vacacional</a></li>-->
              </ul>
            </li>
            <li nz-menu-item><a *ngIf='this.state' (click)="onLogOut()" routerLink="/home">
                <ion-icon name="log-out-outline"
                  style="position: relative; top: 2px; font-size:16px;"></ion-icon>&nbsp;Salir</a></li>
          </ul>
        </nz-dropdown-menu>

        <div class="navbar-item ">
          <div class="buttons">
            <a class="button is-dark" routerLink="/register" *ngIf='!this.state'>
              <strong>Unirse</strong>
            </a>
            <a class="button is-light" routerLink="/login" *ngIf='!this.state'>
              Entrar
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>

<!--collapse navbar-->
<div class="collapse" id="navbarToggleExternalContent" style="border-bottom: 1px solid rgb(206, 203, 203);">
  <div class="container-fluid">
    <nav style="display: block;">
      <ul class="nav-links nav ">
        <li class="nav-item active pr-3 mx-auto">
          <a routerLink="/home" class="nav-link text-secondary"><strong>Comprar</strong></a>
        <li class="nav-item pr-3">
          <a class="nav-link text-secondary"><strong>Vender</strong></a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a class="nav-link text-secondary disabled" routerLink="/_es"><strong>Vendido</strong></a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a routerLink="/vlog" class="nav-link text-secondary"><strong>Compartir</strong></a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a class="nav-link text-secondary" (click)="showBsModal()"><strong>Ayuda</strong></a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a [routerLink]="" class="nav-link text-secondary"><strong>Buscar agentes</strong>
          </a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a routerLink="/vlog" class="nav-link text-secondary"><strong>Noticias</strong>
          </a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a class="nav-link text-secondary" routerLink=""><strong>Comercial</strong></a>
        </li>
        <li class="nav-item pr-3 mx-auto">
          <a class="nav-link text-secondary" routerLink=""><strong>Vivir en España</strong></a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Map area -->
<div class="container">
  <ul class="nav nav-fill" id="secondnav">
    <li class="nav-item active pr-3 contact__form-privacy">
      <a class="nav-link nav-border ">
        <ion-icon name="search-outline" style="top:2px;"></ion-icon> Map area </a>
    </li>
    <li class="nav-item pr-3">
      <mat-select panelWidth="fit-content" #optionInput="ngModel" [(ngModel)]="this.mapRentSalePriceFlag"
        panelClass="example-panel" (selectionChange)="loadMarkers('condicion@=*' + this.mapRentSalePriceFlag + ',lng>=' + this.boxedPoints[0] + ',lat>=' + this.boxedPoints[1] + ',lng<=' + this.boxedPoints[2] + ',lat<=' + this.boxedPoints[3] + ',&sorts=');
;fixSegmentedOption(this.mapRentSalePriceFlag)">
        <mat-option *ngFor="let opt of condicionHeader" [value]="opt">
          {{opt}}
        </mat-option>
      </mat-select>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" onclick="runModal()"> Tipo de propiedad </a><!---->
    </li>
    <li class="nav-item pr-3">
      <!--<mat-select #optionInput="ngModel" multiple panelWidth="fit-content" [(ngModel)]="this.homeDto.condicion" panelClass="example-panel" required>
        <mat-option  >
          <nz-tabset>
            <nz-tab nzTitle="Tab 1">Content of Tab Pane 1</nz-tab>
            <nz-tab nzTitle="Tab 2">Content of Tab Pane 2</nz-tab>
            <nz-tab nzTitle="Tab 3">Content of Tab Pane 3</nz-tab>
          </nz-tabset>
        </mat-option>
      </mat-select>-->
      <a class="nav-link nav-border " routerLink="" (click)="sidenav.toggle()"><ion-icon
          style="position: relative; top: 2px;" name="swap-horizontal-outline"></ion-icon> Listado </a>
    </li>
    <li class="nav-item pr-3">
      <a class="nav-link nav-border" (click)="this.sidebarVisible = true"><ion-icon name="options-outline"
          style="position: relative; top: 2px;"></ion-icon> Filtros </a>
    </li>
    <!--<li class="nav-item pr-3">
      <a class="nav-link nav-border" (click)="setAdTitle('Proyecto nuevo')" onclick="runModal()"><ion-icon style="position: relative; top: 2px;"
          name="list-outline"></ion-icon> ProyectoForm </a>
    </li>-->
  </ul>
</div>

<div *ngIf="this.state" class="container-fluid">
  <div class="modal" id="newHomeModal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head border-bottom">
        <p class="modal-card-title text-center text-secondary mt-3" *ngIf="adTitleAction$ | async as title">{{ title
          }}</p>
        <button class="btn-close" onclick="closeModal()" aria-label="close"></button>
      </header>
      <section class="modal-card-body pt-1">
        <!-- New property tabs content -->
        <nz-tabset [nzTabBarExtraContent]="" [nzSize]="'small'" [nzTabPosition]="'top'"
          [nzSelectedIndex]="this.tabIndex"
          style="color: #3a3b3c; display: inline-block; align-items: center; justify-content: space-between; width: 100%; ">
          <form #newMarkerForm="ngForm" (ngSubmit)="newHome()" id="newMarkerForm">
            <!--<form #newProjectForm="ngForm" (ngSubmit)="newProject()" [formGroup]="newProjectTemplate" ></form>-->
            <!-- Genearal para Nueva propiedad -->
            <nz-tab nzTitle=General nz-col nzSpan="8" (nzClick)="whatTab('General')"
              *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <div class="form-group row">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="tipodevia" class="required text-nowrap">Tipo de vía</label>
                  <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodevia
                    name="tipodevia" class="form-control viaSelect" nzPlaceHolder="Calle, avenida, plaza..."
                    [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipoDeVia" required
                    (nzOpenChange)="rotateArrows($event,'viaSelect')">
                    <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-6 col-md-4 col-sm-6 col-xs-12">
                  <label for="calle" class="required">Nombre</label>
                  <input #calle nz-input placeholder="Nombre de la vía p. ej. Paseo de la Castellana..."
                    [(ngModel)]="this.homeDto.calle" name="calle" class="form-control" required />
                </div>
                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12">
                  <label for="numero">Numero</label>
                  <input nz-input #numero placeholder="Número" class="form-control p-1" ngModel pattern="\d*"
                    maxlength="6" (keypress)="numberOnly($event)" name="numero" [(ngModel)]="this.homeDto.numero"
                    required />
                </div>
              </div>
              <!--Piso, número, cp y antiguedad-->
              <div class="form-group row mt-3">
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="piso">Piso</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #piso placeholder="Piso" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="piso" [(ngModel)]="this.homeDto.piso" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">de</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #plantaMasAlta ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="plantaMasAlta"
                          [(ngModel)]="this.homeDto.plantaMasAlta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                  <label for="bajoOP">Planta baja</label>
                  <ng-container>
                    <nz-checkbox-wrapper style="width: 100%; margin-top: 0.4em;"
                      (nzOnChange)="checkBox(this.homeDto.bajoOplantabaja?true:false)" name="bajoOP">
                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <label class="text-nowrap text-secondary" [(ngModel)]="this.homeDto.bajoOplantabaja"
                            nz-checkbox>
                            Es un bajo
                          </label>
                        </div>
                      </div>
                    </nz-checkbox-wrapper>
                  </ng-container>
                </div>
                <div class="col-lg-3 col-md-2 col-sm-6 col-xs-12">
                  <label for="cp" class="required">CP</label>
                  <input nz-input #cp placeholder="Código postal" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="cp" class="form-control p-1" [(ngModel)]="this.homeDto.cp"
                    required />
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="distrito" class="required">Distrito</label>
                  <input nz-input #distrito placeholder="Distrito" [(ngModel)]="this.homeDto.distrito" name="distrito"
                    class="form-control" required />
                </div>
              </div>
              <!-- Superficie, habitaciones, baños y aseo ensuite -->
              <div class="form-group row mt-3">
                <div class="col-xl col-lg-2 col-md-2 col-sm-6  align-self-start">
                  <label for="superficie" class="required">Superficie</label>
                  <input #superficie nz-input ngModel pattern="\d*" maxlength="20" (keypress)="numberOnly($event)"
                    name="superficie" class="form-control" [(ngModel)]="this.homeDto.superficie" required
                    placeholder="M²" />
                  <!--<button class="btn btn-primary" (click)="checkBox('')">Push</button>-->
                </div>
                <div class="col-xl col-lg-2 col-md-2 col-sm-6 align-self-start">
                  <label for="habitaciones" class=" text-nowrap">Dormitorios</label>
                  <input #habitaciones nz-input ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                    name="habitaciones" class="form-control p-1" [(ngModel)]="this.homeDto.habitaciones" required
                    placeholder="0" />
                </div>
                <div class="col-xl col-lg-2 col-md-2 col-sm-6 align-self-start">
                  <label for="banyos" class="required">Aseos</label>
                  <input nz-input #banyos ngModel pattern="\d*" maxlength="1" (keypress)="numberOnly($event)"
                    name="banyos" class="form-control" [(ngModel)]="this.homeDto.aseos" required placeholder="0" />
                </div>
                <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                  <label for="aseoEnsuiteInput">Aseo ensuite</label>
                  <nz-select #aseoEnsuiteInput name="aseoEnsuiteInput" class="d-block flex-column aseoensuiteSelect"
                    nzPlaceHolder="0" [nzSize]="sizeM" [(ngModel)]="this.homeDto.aseoEnsuite"
                    (nzOpenChange)="rotateArrows($event,'aseoensuiteSelect')">
                    <nz-option *ngFor="let opt of bathRooms" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-xl col-lg-3 col-md-3 col-sm-6 align-self-start">
                  <label for="viewsInput" class="required">Vistas</label>
                  <nz-select #viewsInput name="viewsInput" class="d-block flex-column form-control vistasSelect w-100"
                    (nzOpenChange)="rotateArrows($event,'vistasSelect')" nzPlaceHolder="Seleccione" [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.vistasDespejadas" required nzMode="multiple" nzAllowClear
                    (ngModelChange)="printSelect($event)">
                    <nz-option *ngFor="let opt of vistas" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <!-- Tipo, estado, alquiler-venta y destacar -->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="typeInput" class="required">Tipo de inmueble</label>
                  <nz-select #typeInput name="typeInput" class="d-block flex-column form-control typeSelect"
                    nzPlaceHolder="Seleccione" [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipo" required
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'typeSelect')">
                    <nz-option *ngFor="let opt of tipo" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label class="required d-block" for="stateInput">Estado</label>
                  <nz-select #stateInput="ngModel" class="d-block flex-column form-control estadoSelect"
                    name="stateInput" nzPlaceHolder="Seleccione" panelClass="example-panel" [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.estado" required (nzOpenChange)="rotateArrows($event,'estadoSelect')">
                    <nz-option *ngFor="let opt of propertyState" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <!-- Resto de tipologías -->
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column" *ngIf="this.shareTab.value==false">
                  <label class="required d-block" for="optionInput">Alquiler - Venta ...</label>
                  <nz-select #optionInput0 class="d-block flex-column condicionSelect" name="optionInput0"
                    nzPlaceHolder="Compartir" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'condicionSelect')">
                    <nz-option *ngFor="let opt of condicion2" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <!--Condición-->
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column" *ngIf="this.shareTab.value==true">
                  <label class="required d-block" for="optionInput">Alquiler - Venta ...</label>
                  <nz-select #optionInput class="d-block flex-column condicionSelect" name="optionInput"
                    nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'condicionSelect')">
                    <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <!--Caso base-->
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column" *ngIf="this.shareTab.value==undefined">
                  <label class="required d-block" for="optionInput">Alquiler - Venta ...</label>
                  <nz-select #optionInput2 class="d-block flex-column condicionSelect" name="optionInput2"
                    nzPlaceHolder="Alquiler - venta" [nzSize]="sizeM" [(ngModel)]="this.homeDto.condicion"
                    (ngModelChange)="conditionTabs()" (nzOpenChange)="rotateArrows($event,'condicionSelect')">
                    <nz-option *ngFor="let opt of condicion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <input nz-input [(ngModel)]="this.homeDto.condicion" ngModel #kondicion name="kondicion"
                  class="form-control" required style="display:none;" />
              </div>
              <!--Precio de venta y alquiler-->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="precioFinal">Precio de venta</label>
                  <nz-input-group>
                    <input nz-input placeholder="€" [(ngModel)]="this.homeDto.precioFinal" ngModel pattern="\d*"
                      maxlength="8" #precioFinal (keypress)="numberOnly($event)" name="precioFinal" class="form-control"
                      [disabled]="this.saleTab.value" [required]="!this.saleTab.value" />
                  </nz-input-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                  <label for="precioAlquiler">Precio/mes</label>
                  <nz-input-group>
                    <input nz-input placeholder="€/mes" [(ngModel)]="this.homeDto.precioAlquiler" ngModel pattern="\d*"
                      maxlength="5" #precioAlquiler (keypress)="numberOnly($event)" class="form-control"
                      name="precioAlquiler" [disabled]="this.rentTab.value" [required]="!this.rentTab.value" />
                  </nz-input-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column">
                  <label class="d-block" for="badge">Destacar</label>
                  <nz-select class="d-block destacarSelect" #badgeInput="ngModel" name="badgeInput" nzPlaceHolder=""
                    [nzSize]="sizeM" [(ngModel)]="this.homeDto.destacar" panelWidth="fit-content"
                    (nzOpenChange)="rotateArrows($event,'destacarSelect')">
                    <nz-option *ngFor="let opt of badge" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <!--Vistas, ubicacionExacta-->
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 d-flex flex-column">
                  <label for="colorDestacar" class="">Color Destacar</label>
                  <div class="text-center">
                    <nz-color-picker class="form-control" nzTrigger="hover" name="colorDestacar"
                      [nzDefaultValue]="'#3a3b3c'" (ngModelChange)="checkBox($event)"
                      [(ngModel)]="this.homeDto.colorDestacar"></nz-color-picker>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 text-center flex-column d-flex">
                  <label for="location" class="float-start">Ubicación&nbsp;
                    <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Desea exponer la ubicación? Si selecciona Aprox. no mostraremos
                        la calle ni el número" class="bi bi-info-square"></i></label>
                  <nz-radio-group [(ngModel)]="this.homeDto.direccionAproximada" nzButtonStyle="solid" required>
                    <label nz-radio-button nzValue=true>Exacta</label>
                    <label nz-radio-button nzValue=false>Aprox.</label>
                  </nz-radio-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="yearBuild" class="required">Antiguedad</label>
                  <nz-date-picker id="yearBuild" placeholder="Año" #yearBuild nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="yearBuild" [(ngModel)]="this.homeDto.antiguedad"
                    required [nzDisabledDate]="disabledDatePost"></nz-date-picker>
                </div>
                <!---->
              </div>
              <div class="form-group row mt-3">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="Orientacion" class="required">Orientación</label>
                  <nz-select #Orientacion="ngModel" name="Orientacion" nzPlaceHolder="" panelWidth="fit-content"
                    class="d-block flex-column form-control orientacionSelect"
                    (nzOpenChange)="rotateArrows($event,'orientacionSelect')" required [nzSize]="sizeM"
                    [(ngModel)]="this.homeDto.orientacion">
                    <nz-option *ngFor="let opt of orientacion" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <label for="garage">Garage&nbsp;<i nz-tooltip [nzTooltipTrigger]="'click'"
                      nzTooltipTitle="Si la plaza se vende aparte introduzca el precio adicional"
                      class="bi bi-info-square"></i></label>
                  <nz-select #garage name="garageInput" nzPlacement="topRight" class="d-block flex-column garageSelect"
                    nzPlaceHolder="0" [nzDropdownRender]="renderTemplate" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'garageSelect')" [(ngModel)]="this.homeDto.garage">
                    <nz-option *ngFor="let opt of carPlaces" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                  <ng-template #renderTemplate>
                    <p-divider type="dashed"></p-divider>
                    <div class="container d-flex text-nowrap mt-2">
                      <input class="d-block" id="parkingOptional" nz-input #parkingOptional style="width:84px;"
                        (keypress)="numberOnly($event)" />
                      <a class="add-item d-block" (click)="addParkingPrice(parkingOptional)" nzTooltipPlacement="top"
                        nz-tooltip
                        nzTooltipTitle="Puedes añadir el precio adicional de venta o de alquiler de la plaza">
                        <ion-icon name="add-outline"></ion-icon>Precio
                      </a>
                    </div>
                  </ng-template>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 flex-column d-flex">
                  <div class="row px-3 d-flex flex-column">
                    <label for="city" class="required d-flex flex-start ">Ciudad</label>
                    <button name="city" class="button is-danger is-outlined is-small" id="provButton" type="button"
                      (click)="locationMap('homes')">Ciudad</button>
                    <p-dialog header="&nbsp;Datos de mapas ©2024 Google" [modal]="true" [(visible)]="this.mainModal"
                      [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '50vw'}"
                      (onHide)="closeDialog()">
                      <div id="map_2"
                        style="width: 100%; height: 290px; border-radius:5px; margin-top: 7px; display: none;">
                      </div>
                      <div class="row my-2 mx-3">
                        <button name="city" class="button is-dark is-outlined is-small" id="provButton2" type="button"
                          (click)="showCityResultHome()">Guardar</button>
                      </div>
                    </p-dialog>
                    <input #ciudad nz-input ngModel name="ciudad" class="form-control" [(ngModel)]="this.homeDto.ciudad"
                      style="display:none;" required>
                  </div>
                </div>
              </div>
              <div class="form-group row mt-3">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex flex-column">
                  <label for="descripcion" class="required">Descripción</label>
                  <textarea rows="4" class="form-control mb-3" required nz-input
                    [(ngModel)]="this.homeDto.descripcion"></textarea>
                </div>
              </div>
            </nz-tab>
            <!-- General para nuevo proyecto -->
            <!-- Tipo de vía, nombre, número y cp -->
            <nz-tab nzTitle=General nz-col nzSpan="8" (nzClick)="whatTab('General')"
              *ngIf="this.adTitle.getValue()=='Proyecto nuevo'">
              <div class="form-group row ">
                <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
                  <label for="tipodevia" class="required" style="text-overflow: ellipsis; white-space: nowrap;">Tipo de
                    vía</label>
                  <nz-select panelWidth="fit-content" style=" display:block; flex-direction: column;" #tipodevia
                    name="tipodevia" class="form-control viaSelect" nzPlaceHolder="Calle, avenida, plaza..."
                    [nzSize]="sizeM" [(ngModel)]="this.homeDto.tipoDeVia" required id="tipodevia"
                    (nzOpenChange)="rotateArrows($event,'viaSelect')">
                    <nz-option *ngFor="let opt of tipo_de_via" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
                  <label for="calle" class="required">Nombre</label>
                  <input #calle nz-input placeholder="Nombre de la vía p. ej. Paseo de la Castellana..."
                    [(ngModel)]="this.homeDto.calle" name="calle" class="form-control" required />
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                  <label for="numeroP">Numero</label>
                  <input nz-input #numeroP placeholder="Número" ngModel pattern="\d*" maxlength="6"
                    (keypress)="numberOnly($event)" name="numeroP" class="form-control p-1"
                    [(ngModel)]="this.homeDto.numero" required />
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                  <label for="cp" class="required">CP</label>
                  <input nz-input #cp placeholder="Código postal" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="cp" class="form-control p-1" [(ngModel)]="this.homeDto.cp"
                    required />
                </div>
              </div>
              <!-- Cp, distrito, ciudad y total construido -->
              <div class="form-group row mt-2">
                <div class="col-lg-6 col-md-4 col-sm-6 col-xs-12">
                  <label for="distrito" class="required">Distrito</label>
                  <input nz-input #distrito placeholder="Distrito" [(ngModel)]="this.homeDto.distrito" name="distrito"
                    class="form-control" required />
                </div>
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <div class="row px-3 d-flex flex-column">
                    <label for="city" class="required d-flex flex-start ">Ciudad</label>
                    <button name="city" class="button is-danger is-outlined is-small" id="provButton"
                      (click)="locationMap('projects')">Ciudad</button>
                    <p-dialog header="&nbsp;Datos de mapas ©2024 Google" [modal]="true" [(visible)]="this.mainModal"
                      [style]="{width: '50vw'}" (onHide)="closeDialog()">
                      <div id="map_4"
                        style="width: 100%; height: 290px; border-radius:5px; margin-top: 7px; display: none;">
                      </div>
                      <div class="row my-2 mx-3">
                        <button name="city" class="button is-dark is-outlined is-small" id="provButton2"
                          (click)="showCityResultHome()">Guardar</button>
                      </div>
                    </p-dialog>
                    <input #ciudad nz-input ngModel name="ciudad" class="form-control" [(ngModel)]="this.homeDto.ciudad"
                      style="display:none;" required />
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="totalUnits" class="text-nowrap">Cantidad viviendas</label>
                  <input nz-input #totalUnits placeholder="Total construido" ngModel pattern="\d*" maxlength="5"
                    (keypress)="numberOnly($event)" name="totalUnits" class="form-control p-1"
                    [(ngModel)]="this.homeDto.totalViviendasConstruidas" />
                </div>
              </div>
              <!--Habitaciones, superficie, tipos y precios-->
              <!--Habitaciones-->
              <div class="form-group row mt-2">
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="roomsP">De {{this.homeDto.habitacionesDesde}} a {{this.homeDto.habitacionesHasta}}
                    dormitorios</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #roomsFrom placeholder="" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="roomsP" [(ngModel)]="this.homeDto.habitacionesDesde" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">a</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #roomsTo ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                          name="roomsTo" [(ngModel)]="this.homeDto.habitacionesHasta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <!--Superficies-->
                <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                  <label for="areasP text-nowrap">Area de {{this.homeDto.superficieDesde}} a
                    {{this.homeDto.superficieHasta}} m²</label>
                  <nz-input-group>
                    <div nz-row>
                      <div nz-col nzSpan="10" class="float-start">
                        <input nz-input #areasFrom placeholder="" ngModel pattern="\d*" maxlength="4"
                          (keypress)="numberOnly($event)" name="areasP" [(ngModel)]="this.homeDto.superficieDesde" />
                      </div>
                      <div nz-col nzSpan="4" class="text-center">
                        <label class="mt-1">a</label>
                      </div>
                      <div nz-col nzSpan="10" class="float-end">
                        <input nz-input #areasTo ngModel pattern="\d*" maxlength="4" (keypress)="numberOnly($event)"
                          name="areasTo" [(ngModel)]="this.homeDto.superficieHasta" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
                <!--Alturas-->
                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                  <label for="alturasP">Alturas</label>
                  <input nz-input #alturasP placeholder="Alturas" class="form-control p-1" ngModel pattern="\d*"
                    maxlength="6" (keypress)="numberOnly($event)" name="alturas" [(ngModel)]="this.homeDto.alturas" />
                </div>
                <!--Rango de precios-->
                <div class="col-lg-4 col-md-2 col-sm-6 col-xs-12">
                  <label for="pricesFromP" class="text-nowrap">Precio desde</label>
                  <nz-input-group>
                    <div nz-row>
                      <div class="float-start w-100">
                        <input nz-input #pricesFromP placeholder="" ngModel pattern="\d*" maxlength="8"
                          (keypress)="numberOnly($event)" name="pricesFromP" [(ngModel)]="this.homeDto.precioFinal" />
                      </div>
                    </div>
                  </nz-input-group>
                </div>
              </div>
              <!--Tipologías, estado de la obra, año construcción/progreso construcción-->
              <div class="form-group row mt-2">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                  <label for="tipologiasP">Tipologías</label>
                  <nz-select nzMode="multiple" [nzPlaceHolder]="'Tipos'" nzAllowClear style="width:100%" name="tipos"
                    [nzSize]="sizeM" (ngModelChange)="printSelect($event)" [(ngModel)]="this.homeDto.tipos">
                    <ng-container>
                      <nz-option *ngFor="let opt of projectFeatures" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                    </ng-container>
                  </nz-select>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="estadoObra" class="required">Estado construcción:</label>
                  <nz-radio-group [(ngModel)]="this.homeDto.estadoConstruccion" name="estadoObra" nzButtonStyle="solid"
                    required>
                    <label nz-radio-button nzValue=Terminado>Terminado</label>
                    <label nz-radio-button nzValue=EnCurso>En curso</label>
                  </nz-radio-group>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='Terminado'">
                  <label for="yearEndP" class="required">Año construcción</label>
                  <nz-date-picker id="yearEndP" placeholder="Año" #yearP nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="yearEndP" [(ngModel)]="this.homeDto.antiguedad"
                    [nzDisabledDate]="disabledDatePost"></nz-date-picker>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='EnCurso'">
                  <label for="yearPercentP" class=" text-nowrap">Progreso obra</label>
                  <nz-input-group class="float-start" name="yearPercentP" [nzSuffix]="percetageFinished"
                    [nzSize]="size">
                    <input nz-input name="totalEnded" id="yearPercentP" #yearPercentP [nzSize]="sizeM"
                      [(ngModel)]="this.homeDto.porcentajeTerminado" class="form-control w-full mb-1" />
                  </nz-input-group>
                  <ng-template #percetageFinished>
                    <span><i class="bi bi-percent"></i></span>
                  </ng-template>
                  <p-slider [(ngModel)]="this.homeDto.porcentajeTerminado" [min]="0" [max]="100" class="w-full" />
                </div>
              </div>
              <!--Vendido, finalización, -->
              <div class="form-group row mt-2">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="soldPercentP" class=" text-nowrap">% Vendido</label>
                  <nz-input-group class="float-start" name="soldPercentP" [nzSuffix]="percetageTemplate"
                    [nzSize]="size">
                    <input nz-input name="totalSold" id="soldPercentP" #soldPercentP [nzSize]="sizeM"
                      [(ngModel)]="this.homeDto.porcentajeVendido" class="form-control w-full mb-1" />
                  </nz-input-group>
                  <ng-template #percetageTemplate>
                    <span><i class="bi bi-percent"></i></span>
                  </ng-template>
                  <p-slider [(ngModel)]="this.homeDto.porcentajeVendido" [min]="0" [max]="100" class="w-full" />
                </div>
                <!--Finalización-->
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column"
                  *ngIf="this.homeDto.estadoConstruccion=='EnCurso'">
                  <label for="endWorksP" class="">Fin de obra</label>
                  <nz-date-picker id="endWorksP" placeholder="Año" #endWorksP nzMode="year" nzFormat="yyyy"
                    class="d-block flex-column form-control" name="endWorksP" [(ngModel)]="this.homeDto.finDeObra"
                    [nzDisabledDate]="disabledDatePre"></nz-date-picker>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 d-flex flex-column">
                  <label for="nameP">Nombre decorativo</label>
                  <input #nameP nz-input placeholder="Residencial las palmeras..."
                    [(ngModel)]="this.homeDto.nombreProyecto" name="namep" class="form-control" />
                </div>
              </div>
              <!--Vendido, finalización, -->
              <div class="form-group row mt-2">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 d-flex flex-column">
                  <label for="descripcionP" class="required">Descripción</label>
                  <textarea rows="4" name="descripcionP" class="form-control mb-3" required nz-input
                    [(ngModel)]="this.homeDto.descripcion"></textarea>
                </div>
              </div>
            </nz-tab>
            <!--Acabados-->
            <nz-tab nzTitle=Acabados nz-col nzSpan="8" (nzClick)="whatTab('Acabados')">
              <div class="form-group ">
                <!-- Energía y climatización -->
                <div class="row row-cols-2 mt-1">
                  <div class="col">
                    <label class="filterLabel mx-3" style="text-overflow: ellipsis;white-space: nowrap;">Energía y
                      climatización</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.aireAcondicionado"
                        (change)="checkBox(this.homeDto.aireAcondicionado?true:false)"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/ice.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Aire acondicionado</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.calefaccion"
                        class="c-material-che__hidden form-check-input" value="2" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/heating4.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Calefacción</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.gasNatural"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/flame.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Gas natural</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.aerotermia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/aerotermia2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Aerotermia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.dobleAcristalamiento"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/double-wind.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Doble acristalamiento</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.panelesSolares"
                        class="c-material-che__hidden form-check-input" value="1" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/solar-small.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Paneles solares</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.ventilacionCruzada"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/house-wind2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Ventilación cruzada</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="row">
                      <image-cropper [imageChangedEvent]="imageChangedEventEnergy" [maintainAspectRatio]="false"
                        [aspectRatio]="16 / 9" format="png" (imageCropped)="imageCropped($event,'energy')"
                        (imageLoaded)="imageLoaded($event,'energy')" (cropperReady)="cropperReady()"
                        (loadImageFailed)="loadImageFailed()">
                      </image-cropper>
                    </div>
                    <div class="row">
                      <div class="col-10">
                        <div class="file is-small is-light is-boxed">
                          <label class="file-label">
                            <input class="file-input" type="file" name="resume"
                              (change)="fileChangeEvent($event,'energy')" accept="image/*" />
                            <span class="file-cta">
                              <span class="badge primary-badge text-nowrap">{{this.tempEnergyTagName}}</span>
                              <span class="file-icon" style="color:#999;">
                                <i class="fas fa-cloud-upload-alt color-secondary"></i>
                              </span>
                              <span class="file-label text-secondary">Certificado energético</span>
                            </span>
                          </label>
                        </div>
                      </div>
                      <div class="col-2">
                        <button *ngIf="this.tempEnergyTagName" class="my-auto btn-close"
                          (click)="clearEnergySelection('energy')"></button>
                      </div>
                    </div>
                  </div>
                  <br>
                </div>
                <!--Emisiones y consumo-->
                <div class="row p-2 align-items-center form-group" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 text-center">
                    <nz-select class="nzSelectL w-100 emisionesSelect" nzPlaceHolder="Emisiones" [nzSize]="size"
                      name="emisiones" [(ngModel)]="this.homeDto.emisiones"
                      (nzOpenChange)="rotateArrows($event,'emisionesSelect')">
                      <nz-option *ngFor="let opt of calificacion_emisiones" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                    <br>
                    <nz-select class="nzSelectL w-100 consumoSelect" nzPlaceHolder="Consumo" [nzSize]="size"
                      [(ngModel)]="this.homeDto.consumo" (nzOpenChange)="rotateArrows($event,'consumoSelect')"
                      name="consumo">
                      <nz-option *ngFor="let opt of calificacion_consumo" [nzValue]=opt
                        [nzLabel]="opt">{{opt}}</nz-option>
                    </nz-select>
                  </div>
                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                    <img class="energyImage float-start" src="assets/svg/eco/Escala_Certificacion.png"
                      style="width: 50px; height: 58px;" alt="">
                  </div>

                  <br class="br-sizeL">
                </div>
                <!-- Comunidad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="filterLabel mx-3">Comunidad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mx-3 mt-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.videoPortero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-intercom.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Videoportero</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.piscinaComp"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/pool-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Piscina</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.tenis"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.1em; position:relative;"
                        src="assets/svg/tennis-ball.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Tenis</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.padel"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/padel-racket-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Padel</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.sauna"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-sauna.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Sauna</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.zonaDeOcio"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/talking-area.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Zona de ocio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.jardin"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-tree.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Zonas verdes</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.columpios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/child-playground.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Zona infantil</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Seguridad -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="mx-3 filterLabel">Seguridad</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.recepcion24_7"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-reception.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Recepción 24/7</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.videoVigilancia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-video-security.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Video vigilancia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.alarmaIncendios"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-alarm.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Alarma de incendios</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.extintores"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-sprinkler.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Rociadores de incendio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.generadorEmergencia"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-lightning.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Generador de emergencia</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.instalacionesDiscapacitados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/wheelchair3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Vivienda accesible</span>
                    </label>
                  </div>
                  <br class="br-sizeL">
                </div>

                <!-- Extras -->
                <div class="row row-cols-2 mt-3">
                  <div class="col">
                    <label for="comunidad" class="mx-3 filterLabel">Extras</label>
                  </div>
                  <div class="col"></div>
                </div>
                <div class="row mt-3 mx-3" style="border-bottom: 1px solid rgb(206, 203, 203);">
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.ascensor"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/elevator-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Ascensor</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.terraza"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/beach-chair.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Terraza</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.balcon"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/balcony3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Balcón</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.parquet"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-floorboards.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Parquet</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.cabinaHidromasaje"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-shower3.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Cabina de hidromasaje</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.jacuzzi"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-jacuzzi.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Jacuzzi</span>
                    </label>
                    <br>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.piscinaPrivada"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-ppool.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Piscina en propiedad</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.gym"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/gym-form.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Gimnasio</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.golf"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-golf.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Golf a pocos km</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.armariosEmpotrados"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-wardrobe2.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Armarios empotrados</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.amueblado"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-furniture.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Amueblado completo</span>
                    </label>
                    <br>
                    <label class="c-material-che">
                      <input type="checkbox" [(ngModel)]="this.homeDto.trastero"
                        class="c-material-che__hidden form-check-input" />
                      <span class="c-material-che__el"></span>
                      <ion-icon style="font-size: 1.2em; position:relative;"
                        src="assets/svg/form-locker.svg"></ion-icon>&nbsp;&nbsp;
                      <span class="c-material-che__label">Trastero</span>
                    </label>
                    <br>
                  </div>
                  <br class="br-sizeL">
                </div>
              </div>
            </nz-tab>
            <!-- Alquiler -->
            <nz-tab [nzTitle]="alquilerTitle" nz-col nzSpan="8" [nzDisabled]="getRentTab()"
              (nzClick)="whatTab('Alquiler')" *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <ng-template #alquilerTitle>
                <span id="alquilerTitle">Alquiler</span>
              </ng-template>
              <!-- Condiciones de alquiler -->
              <div class="container-fluid">
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Condiciones de alquiler</label>
                    </div>
                  </div>
                </div>
                <section>
                  <p-divider type="dashed"></p-divider>
                  <!--Fianza-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 27px; position:relative;top:4px;"
                        src="assets/svg/deal.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="fianza">Fianza</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.fianza">
                        <label nz-radio-button nzValue=No>No</label>
                        <label nz-radio-button nzValue=1>1 Mes</label>
                        <label nz-radio-button nzValue=2>2 Meses</label>
                        <label nz-radio-button nzValue=+2>+2</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Mascotas-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 29px; position:relative;top:5px;"
                        src="assets/svg/dog-cat.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="mascotas">Se admiten
                        mascotas?</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.mascotas">
                        <label nz-radio-button nzValue=Si>Si</label>
                        <label nz-radio-button nzValue=No>No</label>
                        <label nz-radio-button nzValue=Consultar>Consultar</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Contrato-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                        src="assets/svg/contract.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="contrato">Tipo de
                        estancia</label>
                    </div>
                    <div class="col">
                      <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.estanciaMinima">
                        <label nz-radio-button nzValue=Anual>Anual</label>
                        <label nz-radio-button nzValue=Temporal>Temporal</label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <br>
                  <p-divider type="dashed"></p-divider>
                  <!--Disponibilidad-->
                  <div class="row mt-2 form-group text-center">
                    <div class="col">
                      <ion-icon class="float-start" style="font-size: 28px; position:relative; top:5px;"
                        src="assets/svg/calendar-fill.svg"></ion-icon>
                      <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="month">Disponible a partir
                        de:</label>
                    </div>
                    <div class="col">
                      <nz-date-picker id="monthAvailable" #monthAvailable nzMode="month" nzFormat="yyyy/MM"
                        [(ngModel)]="this.dateMonthFormat" (ngModelChange)="setMonth($event, 'home')"
                        [nzDisabledDate]="disabledDatePre" name="monthAvailable"></nz-date-picker>&nbsp;
                      <i nz-tooltip [nzTooltipTrigger]="'click'"
                        nzTooltipTitle="Si la vivienda no está vacía, seleccione el mes para cuando estará disponible"
                        class="bi bi-info-square"></i>
                    </div>
                  </div>
                  <br>
                </section>
              </div>
            </nz-tab>
            <!--Compartir-->
            <nz-tab [nzTitle]="compartirTitle" nz-col nzSpan="8" [nzDisabled]="getShareTab()"
              (nzClick)="whatTab('Compartir')" *ngIf="this.adTitle.getValue()=='Nueva propiedad'">
              <ng-template #compartirTitle>
                <span id="kompartirTitle">Compartir</span>
              </ng-template>
              <!--Acerca de compartir-->
              <div class="container">
                <div class="row mt-2">
                  <div class="col">
                    <div class="item float-start">
                      <label class="filterLabel">Acerca de compartir</label>
                    </div>
                  </div>
                </div>
                <p-divider type="dashed"></p-divider>
                <!--Fumar-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:4px;"
                      src="assets/svg/share-smoke.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="fumar">Se puede fumar?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.sepuedeFumar">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Parejas-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                      src="assets/svg/couples.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="parejas">Se admiten
                      parejas?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenParejas">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Menores-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative;top:5px;"
                      src="assets/svg/teenagers.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="menores">Se admiten menores de
                      edad?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenMenoresdeedad">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Mochileros-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 28px; position:relative; top:5px;"
                      src="assets/svg/mochileros.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="mochileros">Se admiten
                      mochileros?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenMochileros">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Jubilados-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:5px;"
                      src="assets/svg/jubilados.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="jubilados">Se admiten
                      jubilados?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmitenJubilados">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--LGTBI-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/lgtbi.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="lgtbi">Se admite LGTBI?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.seadmiteLGTBI">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Propietario vive en la casa-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/propietarioVive.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="propietarioVive">El propietario
                      vive en la casa?</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.propietarioviveEnlacasa">
                      <label nz-radio-button nzValue=true>Si</label>
                      <label nz-radio-button nzValue=false>No</label>
                    </nz-radio-group>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Perfil compartir-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/perfilCompartir.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="perfil_compartir">Perfil</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="perfilCompartir" [nzSize]="size">
                      <input nz-input #perfil_compartir name="perfil_compartir"
                        [(ngModel)]="this.homeDto.perfilCompartir" />
                    </nz-input-group>
                    <ng-template #perfilCompartir>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Hombre, mujer, indiferente"
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Ambiente-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/spain.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start"
                      for="ambiente_compartir">Ambiente</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="ambienteCompartir" [nzSize]="size">
                      <input nz-input #ambiente_compartir name="ambienteCompartir"
                        [(ngModel)]="this.homeDto.ambiente" />
                    </nz-input-group>
                    <ng-template #ambienteCompartir>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Ninguno, estudiantes, funcionarios..."
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Habitantes actualmente-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/h_actualmente.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="habitantes-act">Habitantes
                      actualmente?</label>
                  </div>
                  <div class="col">
                    <nz-input-group class="mt-2 float-start" [nzSuffix]="habitantesActualmente" [nzSize]="size">
                      <input nz-input #habitantes_Actualmente name="habitantes-act"
                        [(ngModel)]="this.homeDto.habitantesActualmente" />
                    </nz-input-group>
                    <ng-template #habitantesActualmente>
                      <i nz-tooltip [nzTooltipTrigger]="'click'" nzTooltipTitle="Ninguno, 1, 2..."
                        class="bi bi-info-square"></i>
                    </ng-template>
                  </div>
                </div>
                <br>
                <p-divider type="dashed"></p-divider>
                <!--Gastos-->
                <div class="row mt-2 form-group text-center">
                  <div class="col">
                    <ion-icon class="float-start" style="font-size: 24px; position:relative; top:6px;"
                      src="assets/svg/gastos-comp.svg"></ion-icon>
                    <label class="filterLabel text-nowrap mt-2 ml-3 float-start" for="gastosComp">Gastos</label>
                  </div>
                  <div class="col">
                    <nz-radio-group class=" mt-1" nzSize="size" [(ngModel)]="this.homeDto.gastos">
                      <label nz-radio-button nzValue=Incluidos>Incluidos</label>
                      <label nz-radio-button nzValue=Aparte>Aparte</label>
                    </nz-radio-group>
                  </div>
                </div>
                <!--<p-selectButton [options]="this.decision" [(ngModel)]="this.homeDto.sepuedeFumar" optionLabel="fumar"
                      optionValue="value"></p-selectButton>-->

              </div>
            </nz-tab>
            <!-- Movilidad -->
            <nz-tab nzTitle=Movilidad nz-col nzSpan="8" (nzClick)="whatTab('Movilidad')">
              <div class="container-fluid">
                <h3 class="text-center">Servicios próximos</h3>
                <p>Puedes añadir servicios próximos a tu vivienda como colegios, universidades o supermercados.
                </p>
                <div class="row row-cols-3">
                  <div class="col">
                  </div>
                  <div class="col">
                    <!--<ion-icon style="font-size: 7.5em; position:relative; padding-top: 25px; left: 120px; " src="assets/svg/main-distance.svg"></ion-icon>-->
                    <!--<img src="assets/svg/main-distance.svg"
                      style="width: 120px; height: 70; padding-top: 25px; left: 120px;">-->
                  </div>
                  <div class="col">
                  </div>
                </div>
                <div class="ctnrmovility" #element>
                  <a class="btnmov " pRipple (click)="openToogleModal(true)">Empezar</a>
                  <div class="modalmov">
                    <div class="header" style="border-top-right-radius: 20px 20px; border-top-left-radius: 20px 20px;">
                      <a class="btnmov " pRipple (click)="openToogleModal(false)">Terminar</a>
                    </div>
                    <ng-scrollbar #scrollEl orientation="vertical" class="h-100">
                      <div class="body px-3 pt-1 h-100 pb-5 mb-5">
                        <div class="container-fluid">
                          <div class="row justify-content-center">
                            <ng-template #extraSchoolBadge>
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][0]" name="cschool1" inputId="cschool1"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][1]" name="cschool2" inputId="cschool2"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][2]" name="cschool3" inputId="cschool3"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][3]" name="cschool4" inputId="cschool4"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][4]" name="cschool5" inputId="cschool5"
                                [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[0][5]" name="cschool6" inputId="cschool6"
                                [binary]="true" [disabled]="true" />
                            </ng-template>
                            <nz-collapse>
                              <nz-collapse-panel (click)="resizeMap()" nzHeader="Colegios" [nzExtra]="extraSchoolBadge">
                                <div>
                                  <div class="row" *ngFor="let appHome of colegio; let i =index">
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="nombrec{{i}}" class="float-start">Nombre</label>
                                      <input nz-input [nzSize]="size" name="nombrec{{i}}"
                                        [attr.disabled]="this.stateTextfields[0][i]?true:null"
                                        [(ngModel)]="this.colegio[i].nombre" placeholder="Nombre" id="f1c{{i}}n">
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="ensenyanzac{{i}}" class="float-start">Enseñanza</label>
                                      <nz-select class="w-100 f1c{{i}}e" [nzSize]="size"
                                        (nzOpenChange)="rotateArrows($event,'f1c'+i+'e')"
                                        [nzDisabled]="this.stateTextfields[0][i]" name="ensenyanzac{{i}}"
                                        [(ngModel)]="this.colegio[i].ensenyanza">
                                        <nz-option class="w-100" id="f1c{{i}}e" *ngFor="let opt of ensenyanza"
                                          [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="instic{{i}}" class="float-start">Institución</label>
                                      <nz-select class="w-100 f1c{{i}}i" [nzSize]="size" name="instic{{i}}"
                                        [nzDisabled]="this.stateTextfields[0][i]"
                                        (nzOpenChange)="rotateArrows($event,'f1c'+i+'i')"
                                        [(ngModel)]="this.colegio[i].institucion">
                                        <nz-option class="w-100" *ngFor="let opt of institucion" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto d-flex flex-column">
                                      <label for="webc{{i}}" class="float-start">Página web</label>
                                      <input nz-input [nzSize]="size" name="webc{{i}}"
                                        [attr.disabled]="this.stateTextfields[0][i]?true:null" placeholder="www"
                                        [(ngModel)]="this.colegio[i].web" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center d-flex flex-row">
                                      <button id="colegio{{i}}" type="button"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto btnDistancia"
                                        (click)="setRoute('#808080', this.sc, 'colegio',i,'colegio'+i,'colegio'+i+'ok','btndltColegio'+i,0,i,map_3)">Distancia</button>
                                      <button id="colegio{{i}}ok" type="button"
                                        style="display: none; background:#1ebea5;"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto  btnDistancia">{{this.colegio[i].distancia}}</button>
                                      <button
                                        class="button is-danger is-rounded is-small is-responsive w-100 mt-2 mx-auto btndlt"
                                        id="btndltColegio{{i}}" style="display: none;"
                                        (click)="reRackService(0,i,'colegio'+i,'colegio'+i+'ok','btndltColegio'+i)"><i
                                          style="color:white;" class="fas fa-trash"></i></button>
                                    </div>
                                    <mat-divider class="mt-2"></mat-divider>
                                  </div>
                                </div>
                              </nz-collapse-panel>
                            </nz-collapse>
                            <ng-template #extraUniversityBadge>
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][0]" name="cuniversity1"
                                inputId="cuniversity1" [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][1]" name="cuniversity2"
                                inputId="cuniversity2" [binary]="true" [disabled]="true" />
                              <p-checkbox [(ngModel)]="this.stateTextfields[1][2]" name="cuniversity3"
                                inputId="cuniversity3" [binary]="true" [disabled]="true" />
                            </ng-template>
                            <nz-collapse>
                              <nz-collapse-panel (click)="resizeMap()" nzHeader="Universidades"
                                [nzExtra]="extraUniversityBadge">
                                <div class="container-fluid">
                                  <div class="row" *ngFor="let appHome of universidad; let i =index">
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="nombreu{{i}}" class="float-start">Nombre</label>
                                      <input nz-input [nzSize]="size" name="nombreu{{i}}"
                                        [attr.disabled]="this.stateTextfields[1][i]?true:null"
                                        [(ngModel)]="this.universidad[i].nombre" placeholder="Nombre" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="rama{{i}}" class="float-start">Rama de conocimiento</label>
                                      <nz-select class="w-100 f2r{{i}}u" [nzSize]="size" name="rama{{i}}"
                                        [nzDisabled]="this.stateTextfields[1][i]" [(ngModel)]="this.universidad[i].rama"
                                        (nzOpenChange)="rotateArrows($event,'f2r'+i+'u')">
                                        <nz-option class="w-100" *ngFor="let opt of ramas" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center">
                                      <label for="instiu{{i}}" class="float-start">Institución</label>
                                      <nz-select class="w-100 f2i{{i}}u" [nzSize]="size"
                                        [nzDisabled]="this.stateTextfields[1][i]" name="instiu{{i}}"
                                        [(ngModel)]="this.universidad[i].institucion"
                                        (nzOpenChange)="rotateArrows($event,'f2i'+i+'u')">
                                        <nz-option class="w-100" *ngFor="let opt of institucion" [nzValue]=opt
                                          [nzLabel]="opt">{{opt}}</nz-option>
                                      </nz-select>
                                    </div>
                                    <div
                                      class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12 mx-auto d-flex flex-column">
                                      <label for="webu{{i}}" class="float-start">Página web</label>
                                      <input nz-input [nzSize]="size" placeholder="www" name="webu{{i}}"
                                        [attr.disabled]="this.stateTextfields[1][i]?true:null"
                                        [(ngModel)]="this.universidad[i].web" />
                                    </div>
                                    <div
                                      class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12 mx-auto align-items-center d-flex flex-row">
                                      <button id="univ{{i}}" type="button"
                                        class="button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto btnDistancia"
                                        (click)="setRoute('#128c7e', this.uni, 'universidad',i,'univ'+i,'univ'+i+'ok','btndltUniv'+i,1,i,map_3)">Distancia</button>
                                      <button id="univ{{i}}ok" type="button" style="display: none; background:#1ebea5"
                                        class="btnDistancia button is-link is-rounded is-small is-responsive w-100 mt-2 mx-auto ">{{this.universidad[i].distancia}}</button>
                                      <button
                                        class="button is-danger is-rounded is-small is-responsive w-100 mt-2 mx-auto btndlt"
                                        id="btndltUniv{{i}}" style="display: none;"
                                        (click)="reRackService(1,i,'univ'+i,'univ'+i+'ok','btndltUniv'+i)"><i
                                          style="color:white;" class="fas fa-trash"></i></button>
                                    </div>
                                  </div>
                                </div>
                              </nz-collapse-panel>
                            </nz-collapse>

                            <div class="row px-0" style="background-color:#d9d9d9;">
                              <ng-template #extraBusBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][0]" name="cbus1" inputId="cbus1"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][1]" name="cbus2" inputId="cbus2"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][2]" name="cbus3" inputId="cbus3"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Autobuses"
                                    [nzExtra]="extraBusBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Parada</th>
                                            <th scope="col">Líneas</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody *ngFor="let appHome of this.autobus; let i =index">
                                          <tr>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[2][i]?true:null"
                                                [(ngModel)]="this.autobus[i].parada" placeholder="Parada"
                                                name="paradab{{i}}" />
                                            </td>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[2][i]?true:null"
                                                [(ngModel)]="this.autobus[i].lineas" placeholder="Líneas"
                                                name="lineasb{{i}}" />
                                            </td>
                                            <td>
                                              <div class="align-items-center d-flex flex-row">
                                                <button id="bus{{i}}" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#960018', this.busic,'autobus',i,'bus'+i,'bus'+i+'ok','btndltBus'+i,2,i,map_3)">Distancia</button>
                                                <button id="bus{{i}}ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.autobus[i].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltBus{{i}}" style="display: none;"
                                                  (click)="reRackService(2,i,'bus'+i,'bus'+i+'ok','btndltBus'+i)"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraSubwayBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][0]" name="cmetro" inputId="cmetro"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Metro"
                                    [nzExtra]="extraSubwayBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Parada</th>
                                            <th scope="col">Líneas</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[3][0]?true:null"
                                                name="paradametro" [(ngModel)]="this.metro[0].parada"
                                                placeholder="Parada" />
                                            </td>
                                            <td><input nz-input [nzSize]="size"
                                                [attr.disabled]="this.stateTextfields[3][0]?true:null"
                                                name="lineasmetro" [(ngModel)]="this.metro[0].lineas"
                                                placeholder="Líneas" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="metro0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#d6a323', this.swi,'metro',0,'metro0','metro0ok','btndltMetro0',3,0,map_3)">Distancia</button>
                                                <button id="metro0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.metro[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltMetro0" style="display: none;"
                                                  (click)="reRackService(3,0,'metro0','metro0ok','btndltMetro0')"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraMarketBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][3]" name="cmarket1" inputId="cmarket1"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][4]" name="cmarket2" inputId="cmarket2"
                                  [binary]="true" [disabled]="true" />
                                <p-checkbox [(ngModel)]="this.stateTextfields[2][5]" name="cmarket3" inputId="cmarket3"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Supermercados"
                                    [nzExtra]="extraMarketBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody *ngFor="let appHome of this.mercados; let i =index">
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="marketname{{i}}"
                                                [attr.disabled]="this.stateTextfields[2][i+3]?true:null"
                                                [(ngModel)]="this.mercados[i].nombre" placeholder="Nombre" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="mercado{{i}}" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#6f5e53', this.mki,'mercados',i,'mercado'+i,'mercado'+i+'ok','btndltMercado'+i,2,i+3,map_3)">Distancia</button>
                                                <button id="mercado{{i}}ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.mercados[i].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltMercado{{i}}" style="display: none;"
                                                  (click)="reRackService(2,i+3,'mercado'+i,'mercado'+i+'ok','btndltMercado'+i)"><i
                                                    style="color:white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraAirportBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][1]" name="cairport" inputId="cairport"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" nzHeader="Aeropuerto"
                                    [nzExtra]="extraAirportBadge">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="airportname"
                                                [attr.disabled]="this.stateTextfields[3][1]?true:null"
                                                [(ngModel)]="this.aeropuerto[0].nombre" placeholder="Nombre" /></td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="aero0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('#3200ff', this.airp,'aeropuerto',0,'aero0','aero0ok','btndltAero0',3,1,map_3)">Distancia</button>
                                                <button id="aero0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.aeropuerto[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltAero0" style="display: none;"
                                                  (click)="reRackService(3,1,'aero0','aero0ok','btndltAero0')"><i
                                                    style="color: white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                              <ng-template #extraBeachBadge>
                                <p-checkbox [(ngModel)]="this.stateTextfields[3][2]" name="cbeach" inputId="cbeach"
                                  [binary]="true" [disabled]="true" />
                              </ng-template>
                              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-0">
                                <nz-collapse>
                                  <nz-collapse-panel (click)="resizeMap()" [nzExtra]="extraBeachBadge" nzHeader="Playa">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Distancia<!--<img style="width: 60px; height: 20px;"
                                                src="assets/svg/beach-distance-line-sombrilla.svg" alt="">-->
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td><input nz-input [nzSize]="size" name="beachname"
                                                [attr.disabled]="this.stateTextfields[3][2]?true:null"
                                                [(ngModel)]="this.beach[0].nombre" placeholder="Nombre" />
                                            </td>
                                            <td>
                                              <div class="btn-group">
                                                <button id="beach0" type="button"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia"
                                                  (click)="setRoute('dodgerblue', this.bch,'beach',0,'beach0','beach0ok','btndltBeach0',3,2,map_3)">Distancia</button>
                                                <button id="beach0ok" type="button"
                                                  style="display: none; background:#1ebea5"
                                                  class="button is-link is-rounded is-small is-responsive w-100 mx-auto btnDistancia">{{this.beach[0].distancia}}</button>
                                                <button
                                                  class="button is-danger is-rounded is-small is-responsive w-100 mx-auto btndlt"
                                                  id="btndltBeach0" style="display: none;"
                                                  (click)="reRackService(3,2,'beach0','beach0ok','btndltBeach0')"><i
                                                    style="color: white;" class="fas fa-trash"></i></button>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </nz-collapse-panel>
                                </nz-collapse>
                              </div>
                            </div>
                          </div>
                        </div><!--row-->
                        <div class="row d-block mx-auto mb-5 pb-3" style="height: 50vh;"> <!-- col-5 -->
                          <div #map_3 id="map_3" class="form-control "
                            style="width: 100%; height: 100%; border-radius:7px; display: flex; padding-right: 0%;">
                            <!--<p-toast [showTransformOptions]="'translateY(100%)'" [showTransitionOptions]="'1000ms'"
                              [hideTransitionOptions]="'1000ms'" [showTransformOptions]="'translateX(100%)'" />-->
                          </div>
                        </div>
                      </div>
                    </ng-scrollbar>
                  </div>
                </div>
              </div>
            </nz-tab>
            <!-- Multimedia -->
            <nz-tab nzTitle=Multimedia nz-col nzSpan="8" (nzClick)="whatTab('Multimedia');showPricingDrawer()">
              <!-- Fotos -->
              <dropzone [config]="config" [message]="'Pulse o arrastre sus imágenes para subirlas'" required
                (error)="onUploadError($event)" (success)="onUploadSuccess($event)" (removedFile)="onRemove($event)">
              </dropzone>
              <!-- Video para youtube -->
              <div class="form-group">
                <ng-container>
                  <div class="row">
                    <div class="col-12 ">
                      <label for="video">Video</label>
                      <nz-input-group [nzPrefix]="youtubePrefix" [nzSuffix]="youtubeSuffix">
                        <input style="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;
                      width:100%" nz-input #video [(ngModel)]="this.homeDto.video" name="video"
                          placeholder="https://www.youtube.com/watch?v=HHP5MKgK0o8" />
                      </nz-input-group>
                      <ng-template #youtubePrefix><ion-icon name="logo-youtube"
                          style="font-size: 16px; color:red;"></ion-icon>
                      </ng-template>
                      <ng-template #youtubeSuffix>
                        <i nz-tooltip [nzTooltipTrigger]="'click'"
                          nzTooltipTitle="Copia y pega el enlace de youtube que aparece arriba en la barra de navegación"
                          class="bi bi-info-square"></i>
                      </ng-template>
                    </div>
                  </div>
                </ng-container>
              </div>
              <div class="form-group">
                <ng-container>
                  <div class="row mt-3">
                    <div class="form__privacy ">
                      <input class="chkprivacy form-control" [(ngModel)]="this.homeDto.politicaPrivacidad"
                        id="chkprivacy" name="chkprivacy"
                        (change)="checkBox(this.homeDto.politicaPrivacidad?true:false)" type="checkbox" required>
                      <label class="labelprivacy" for="chkprivacy">Acepto los <a style="color:#7ce800;" class="aprivacy"
                          (click)="showModal('privatePolicy')">términos de privacidad</a> de
                        myhouse.</label>
                    </div>
                  </div>
                </ng-container>
              </div>
              <div class="flexible">
                <!--<button class="button is-link is-inverted float-start" style="color:#3a3b3c;font-weight: 600;">Borrar campos</button>-->
                <button type="button" pRipple class="button is-dark is-outlined float-end"
                  onclick="closeModal()">Cerrar</button>&nbsp;
                <button class="button is-dark float-end" pRipple [disabled]="!newMarkerForm.valid||showLoading"
                  (click)="newMarkerForm.ngSubmit.emit()">
                  <span *ngIf="showLoading" class="spinner-border text-light" role="status"
                    style="width: 1.5rem; height: 1.5rem; ">
                  </span>
                  <span style=" font-weight: 600;" *ngIf="!showLoading">Crear</span>
                </button><!--type="submit"-->
              </div>
            </nz-tab>
          </form>
        </nz-tabset>
      </section>
      <footer class="modal-card-foot border-top">
        <button type="button" id="prevTab" style="display:none;" class="button is-dark is-outlined float-start"
          (click)="decreaseTab()"><i class="bi bi-arrow-left"></i></button>
        <div class="buttons is-right">
          <button type="button" id="nextTab" #nextTab class="button is-dark is-outlined float-end"
            (click)="increaseTab()"><i class="bi bi-arrow-right"></i></button>
        </div>
      </footer>
    </div><!--modal-card-->
  </div><!--modal-->
  <ngx-loading [show]="showLoading" [config]="{ backdropBorderRadius: '3px',
  animationType: ngxLoadingAnimationTypes.rectangleBounce,}" [template]="customLoadingTemplate"></ngx-loading>
</div><!--container-fluid-->

<nz-modal [(nzVisible)]="policyModal" nzTitle="Términos y preferencias" (nzOnCancel)="handleCancel('privatePolicy')"
  (nzOnOk)="handleOk('privatePolicy')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull">
  <p *nzModalContent>Recopilaremos y utilizaremos su información personal (que puede incluir cookies
    que recopilamos a través de su uso de myhouse.com y nuestros otros sitios web) para
    brindarle una experiencia de usuario personalizada (por ejemplo, si está anunciando
    una propiedad, podemos recomendarle ofrecerle productos para optimizar el rendimiento
    de su búsqueda o, si está buscando una propiedad, podemos recomendarle propiedades
    que puedan interesarle). También podemos comunicarnos con usted para promocionar nuestros
    servicios o los de terceros. Nuestra Política de Privacidad explica con más detalle cómo
    recopilamos, utilizamos y divulgamos información personal y cómo acceder, corregir o
    presentar quejas sobre el manejo de información personal.</p>
</nz-modal>

<!-- Leaflet map -->
<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav class="example-sidenav overflow-hidden" mode="side" [ngStyle]="this.resizeStyleListSidenav">
    <div class="container-fluid mt-2 mb-5 pb-2">
      <div class="row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 p-0" style="width: 49vw;">
        <!--row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 p-0-->
        <div class="col p-0"
          *ngFor="let appHome of homes | paginate: { itemsPerPage: 40, currentPage: p }; let i =index">
          <div *ngFor="let appHomeP of newProjects; let j =index" class="w-100">
            <div class=" teaser-tile mt-2 border " id="teaserTile{{appHome.viviendaId}}">
              <span class="favorite favorite-need-login" data-id="1935922" data-type="estate"
                *ngIf="this.cardSkeletonOn==false">
                <div class="wrapperDemo" #wrapperDemo>
                  <input [checked]="false" (change)="cuoreLikeFeature(appHome.viviendaId, appHome, $event)"
                    class="red-heart-checkbox" #redheartcheckbox id="{{appHome.viviendaId}}" type="checkbox">
                  <label for="{{appHome.viviendaId}}"></label>
                </div>
              </span>
              <div class="flex-grow-1 px-0 "> <!-- Es el sidenav -->
                <div class="with-img" style="position: relative;" *ngIf="this.cardSkeletonOn==false">
                  <div id="carouselExample{{this.idIndex[i]}}" class="carousel slide" data-bs-interval="false">
                    <div class="carousel-inner">
                      <div class="carousel-item " *ngFor="let data of appHome.images; let j=index"
                        [ngClass]="(j === 0) ? 'active' : ''">
                        <img style="aspect-ratio:16/9;" src={{data.imageUrl}} alt="First slide">
                      </div>
                    </div>
                    <button class="carousel-control-prev" type="button"
                      [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button"
                      [attr.data-bs-target]="'#carouselExample'+this.idIndex[i]" data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                </div>
                <div class="with-img" style="position: relative;" *ngIf="this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '9.9em', background: '#e2e8f0', width: '100%', display:'flex'}" />
                </div>
                <div class="container"
                  *ngIf="(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '1.2em', background: '#e2e8f0', width: '20%', display: 'flex', margin: '.7em', float: 'right'}" />
                </div>
                <div class="desc" *ngIf="this.cardSkeletonOn==true">
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '12em', display: 'flex', margin: '.7em'}" />
                </div>
                <div class="branding-actions"
                  *ngIf="(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==true">

                </div>
                <div class="txt" *ngIf="this.cardSkeletonOn==true">

                </div>
                <div class="price" *ngIf="this.cardSkeletonOn==true" style="max-height: 3em;">
                  <ngx-skeleton-loader
                    [theme]="{height: '1em', background: '#e2e8f0', width: '6em', display: 'flex', margin: '.1em'}" />
                </div>
                <!--Card branding-->
                <div class="branding-actions"
                  *ngIf='(appHome.proColor!=null || appHome.proColor!=undefined) && this.cardSkeletonOn==false'
                  [style.background-color]="appHome.proColor" style="height:2.1em;">
                  <!--User brand color-->
                  <div class="d-flex flex-grow-1 justify-content-end">
                    <picture *ngIf='appHome.proImage!=null || appHome.proImage!=undefined'>
                      <img class="branding-image-card" src={{appHome.proImage.imageUrl}} alt="">
                    </picture>
                  </div>
                </div>
                <!-- Home models-->
                <div class="desc" *ngIf="this.tipo.includes(appHome.tipo) && this.cardSkeletonOn==false">
                  <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span
                      class="text-secondary">{{appHome.tipo}}</span> </div>
                  <div class="route mx-2">{{appHome.calle}} <span style="color:#d9d9d9">|</span> {{appHome.distrito}}
                    <span style="color:#d9d9d9">|</span> {{appHome.ciudad}}
                  </div>
                  <div class="units mx-2">
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                      <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHome.habitaciones}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                      <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"
                        name="expand-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHome.superficie}}m²</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="bath">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/card-toilet.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.aseos}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="facing">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/card-facing.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.orientacion}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="card-spaces"
                      *ngIf="appHome.garage">
                      <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;"
                        name="car-sport-outline"></ion-icon>
                      <span *ngIf="appHome.garage<=5"
                        style="font-size: 0.8em; margin-left: 2px;">{{appHome.garage}}</span>
                      <span *ngIf="appHome.garage==6" style="font-size: 0.8em; margin-left: 2px;">+5 </span>
                      <span *ngIf="appHome.garage>6"
                        style="font-size: 0.8em; margin-left: 2px; color:#7ce800;">+{{this.formatNumberWithCommas(appHome.garage)}}€</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="year">
                      <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;"
                        name="hammer-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHome.antiguedad}}</span>
                    </div>
                  </div>
                </div>
                <!-- New project models -->
                <div class="desc"
                  *ngIf="appHomeP.tipo=='Proyecto nuevo' && (appHomeP.viviendaId==appHome.viviendaId && this.cardSkeletonOn==false)">
                  <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span
                      class="text-secondary">{{appHome.tipo}}</span> </div>
                  <div class="route mx-2">{{appHome.calle}} <span style="color:#d9d9d9">|</span> {{appHome.distrito}}
                    <span style="color:#d9d9d9">|</span> {{appHome.ciudad}}
                  </div>
                  <div class="units mx-2">
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                      <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                      <span
                        style="font-size: 0.8em;">{{appHomeP.habitacionesDesde+'-'+appHomeP.habitacionesHasta}}</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                      <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"
                        name="expand-outline"></ion-icon>
                      <span style="font-size: 0.8em;">{{appHomeP.superficieDesde+'-'+appHomeP.superficieHasta}}m²</span>
                    </div>
                    <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="itemsP">
                      <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;"
                        src="assets/svg/project-card-units.svg"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px;">{{appHomeP.totalViviendasConstruidas}}</span>
                    </div>
                    <!--En curso-->
                    <div class="unit-item mx-1 my-auto"
                      *ngIf="(appHomeP.estadoConstruccion=='EnCurso' && appHomeP.finDeObra)" data-toggle="tooltip"
                      data-placement="top" title="waitingP">
                      <ion-icon style="font-size: 0.75em; position:relative; color:#98a3b2; top:-1px;"
                        name="key-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px; color:#7ce800;">{{appHomeP.finDeObra}}</span>
                    </div>
                    <!--Terminado-->
                    <div class="unit-item mx-1 my-auto" *ngIf="(appHomeP.estadoConstruccion=='Terminado')"
                      data-toggle="tooltip" data-placement="top" title="finishedP">
                      <ion-icon style="font-size: 0.75em; position:relative; color:#98a3b2; top:-1px;"
                        name="key-outline"></ion-icon>
                      <span style="font-size: 0.8em; margin-left: 2px; color:dodgerblue;">Disponible</span>
                    </div>
                  </div>
                </div>
                <div class="txt h-100p b-none pt-0" *ngIf="this.cardSkeletonOn==false">
                  <div class="clamp-3" (click)="runAdCard(appHome,'homeList')">{{appHome.descripcion}}</div>
                </div>
                <div class="price"
                  *ngIf="(appHome.condicion=='Venta' && appHome.precioFinal>0) && this.cardSkeletonOn==false">
                  <div class="price-item">
                    <!--NewProject tag-->
                    <span class="text-uppercase" style="font-size:.7em;letter-spacing: .5px;"
                      *ngIf="appHome.tipo=='Proyecto nuevo'&&appHome.condicion=='Venta'">desde</span>
                    {{formatNumberWithCommas(appHome.precioFinal)+'€'}}
                    <span *ngIf="appHome.precioInicial>appHome.precioFinal"
                      class="price-value text-decoration-line-through old-price textFont ml-1"
                      style="font-size: .675em; color: #007aa2;">{{formatNumberWithCommas(appHome.precioInicial)+'€'}}</span>
                    <span class="ml-1 textFont" *ngIf="appHome.precioInicial>appHome.precioFinal"
                      style="color:#8dca3f; font-size: .675em;">-{{this.discount(''+appHome.precioInicial,''+appHome.precioFinal)}}%</span>
                  </div>

                </div>

                <div class="price"
                  *ngIf="(appHome.condicion=='Alquiler' || appHome.condicion=='Compartir') && (appHome.precioAlquiler!=0 && this.cardSkeletonOn==false)">
                  {{formatNumberWithCommas(appHome.precioAlquiler)+'€'}}
                  <span *ngIf="appHome.precioAlquilerInicial>appHome.precioAlquiler"
                    class="price-value text-decoration-line-through old-price textFont ml-1"
                    style="font-size: .675em; color: #007aa2;">{{formatNumberWithCommas(appHome.precioAlquilerInicial)+'€'}}</span>
                  <span class="ml-1 textFont" *ngIf="appHome.precioAlquilerInicial>appHome.precioAlquiler"
                    style="color:#8dca3f; font-size: .675em;">-{{this.discount(''+appHome.precioAlquilerInicial,''+appHome.precioAlquiler)}}%</span><!--&& this.home.model!='NewProject'-->
                </div>
                <!-- Alquiler y venta -->
                <div class="price" *ngIf="appHome.condicion=='Alquiler y venta' && this.cardSkeletonOn==false">
                  {{formatNumberWithCommas(appHome.precioFinal)+'€'}}
                  <nz-divider nzType="vertical" style="background:#007aa2;"></nz-divider>
                  {{formatNumberWithCommas(appHome.precioAlquiler)+'€'}}
                </div>
                <!--<div class="social-actions">
                    <div class="like-item">
                      <ion-icon name="heart-outline"></ion-icon>
                          <div class="social-counter" data-counter="1">1</div>
                      </div>
                    <div class="superlike-item">
                      <ion-icon name="heart-outline"></ion-icon>
                        <div class="social-counter" data-counter="0"></div>
                    </div>
                    <div class="d-flex flex-grow-1 justify-content-end">
                        <div class="recommend-item">
                            <div class="social-title">Recommend</div>
                            <ion-icon name="thumbs-up-outline"></ion-icon>
                            <div class="social-counter" data-counter="0"></div>
                        </div>
                    </div>
                </div>-->
              </div>
              <!--<div class="txt color-black b-none pt-4">
                <div class="contacts listing-contacts-block">
                    <div class="buttons">
                        <a href="" class="btn btn-sm w-100p btn-outline-primary">
                          <ion-icon name="thumbs-up-outline"></ion-icon>
                            <span class="text-truncate ml-6">Mensaje</span>
                        </a>
                    </div>
                    <div class="col-auto overflow-hidden">
                      <div class="btn btn-sm w-100p btn-primary show-contacts-btn">
                        <ion-icon name="call-outline"></ion-icon>
                      </div>
                  </div>
                </div>
            </div>-->
            </div>
          </div>
        </div>
      </div>
      <pagination-controls *ngIf="this.homes.length>40" class="my-pagination mt-3 d-flex align-items-center"
        (pageChange)="p = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div id="map">
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
<!-- Modal aux -->
<div class="modal__gray-back">
  <div class="modal__inner">
    <h2 class="modal__title">Nuevo proyecto</h2>
    <div class="modal__items bg-dark">
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <button class="btn btn-primary" (click)="printDate()">Print</button>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos iusto quibusdam sit ea laborum repellat
          obcaecati consequatur, expedita debitis fugiat quam beatae doloribus voluptatibus error saepe in accusamus
          optio harum.
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Error voluptatum minima architecto quaerat
          voluptatibus similique nihil, obcaecati, neque accusantium, maiores assumenda nam perferendis magnam
          repellendus amet veniam recusandae illo est?
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus iure, voluptates quae perspiciatis ad
          voluptas quasi mollitia laudantium ipsum corrupti sequi architecto debitis nesciunt voluptatem at corporis
          autem velit labore.
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut minus amet cumque impedit recusandae maiores
          iste, inventore consequatur sapiente reprehenderit, cum debitis, accusantium voluptas temporibus non repellat
          deleniti facere aliquam?
        </p>
      </div>
      <div class="modal__item">
        <h3 class="modal__item-title">ほにゃらら</h3>
        <p class="modal__item-content">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloribus, veniam veritatis facere tempora amet
          obcaecati rerum totam perspiciatis distinctio minus. Incidunt quos animi et maiores rerum quae quibusdam
          dolorum corrupti!
        </p>
      </div>
    </div>
    <div class="modal__close-btn-wrap">
      <button class="modal__close-btn hover__light">Cerrar</button>
      <button type="button" class="button is-rounded" onclick="uncheck()">Borrar
        filtros</button>
    </div>
  </div>
</div>

<!-- Filters form -->
<p-sidebar [(visible)]="sidebarVisible" position="right">
  <div class="text-center">
    <!--<h3 class="pull-center text-secondary">Filtros</h3>-->
    <form class="form-inline my-2 my-lg-0 justify-content-center" #filterSearchForm="ngForm" method="post"
      (ngSubmit)="applyCaptureNameFilter()"><!--filterSearchForm.value-->
      <div class="container text-center">
        <div class="row align-items-center">
          <div class=".col-md-3 .offset-md-3">
            <nz-segmented [nzBlock]="true" [nzOptions]="this.condicionFiltros" onclick="lessUncheck()"
              (nzValueChange)="filter($event,'condicion');clearMap($event)" [ngModel]=segmentedIndex></nz-segmented>
          </div>
        </div>
      </div>
      <div class="container text-center" *ngIf="!this.hideValues4share">
        <div class="container mt-3">
          <div class="row">
            <div class=".col-12 mx-auto"><!--col-sm-5 col-md-6-->
              <!--Ciudad-->
              <label class="filterLabel d-block" for="CiudadFilter">Ciudad</label>
              <div class=" form-group" style="width:100%; background-color: white;">
                <nz-select id="CiudadFilter" class="cityFiltersSelect" style="width:100%"
                  [(ngModel)]="this.homeFiltersRequest.ciudad" [nzSize]="sizeM" [nzAllowClear]="true"
                  (nzOpenChange)="rotateArrows($event,'cityFiltersSelect')" (ngModelChange)="filter($event,'ciudad')">
                  <nz-option *ngFor="let opt of provincias" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                </nz-select>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class=".col-12 mx-auto">
              <!--Tipo-->
              <label class="filterLabel d-block" for="TipoFilter">Tipo de inmueble</label>
              <nz-select nzMode="multiple" [nzPlaceHolder]="this.labelMultiselect" nzAllowClear style="width:100%"
                [nzSize]="sizeM" (ngModelChange)="filter($event,'tipo')" [(ngModel)]="this.homeFiltersRequest.tipo"
                name="tipoFilter">
                <ng-container *ngIf="this.filterRentSalePriceFlag!='Compartir'">
                  <nz-option *ngFor="let opt of tipoFilters" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                </ng-container>
                <ng-container *ngIf="this.filterRentSalePriceFlag=='Compartir'">
                  <nz-option nzLabel=Habitación nzValue=Habitación></nz-option>
                </ng-container>
              </nz-select>
              <!--<p-multiSelect [options]="tipo | keyvalue" [placeholder]="this.labelMultiselect" optionLabel="value"
                [maxSelectedLabels]="11" display="chip" [showClear]="true" [panelStyle]="{'width':'100%'}"
                [style]="{'width':'100%','height':'33px'}" scrollHeight="400px" [selectionLimit]="11"
                (onChange)="filter($event.value,'tipo')" [filter]="true" [disabled]="this.filtersMultiselect">
              </p-multiSelect>-->
            </div>
          </div>
          <!--Estado-->
          <div class="row mt-2 mb-2 form-group align-items-center w-100 mx-auto px-0">
            <label class="filterLabel d-block w-100" for="estadoFilters">Estado</label>
            <nz-select nzMode="multiple" nzAllowClear [nzSize]="sizeM" (ngModelChange)="filter($event,'estado')"
              [(ngModel)]="this.homeFiltersRequest.estado" class="w-100" name="estadoFilters"
              [nzPlaceHolder]="this.labelMultiselect">
              <ng-container>
                <nz-option *ngFor="let opt of propertyState" [nzLabel]="opt" [nzValue]="opt"></nz-option>
              </ng-container>
            </nz-select>
          </div>
          <div class="row mt-2 form-group">
            <div class=".col-12 ">
              <!--Keywords-->
              <label class="filterLabel d-block" for="keyWordsfilter">Palabras clave</label>
              <div id="demo-2">
                <nz-badge [nzCount]="this.wordCount" [nzStyle]="{ backgroundColor: 'lightgreen' }">
                  <input class="keywords " name="keyWordsfilter" [(ngModel)]="this.homeFiltersRequest.keywords"
                    (keyup)="wordCounter()" type="search" placeholder="Search"
                    onkeydown="return /[a-z, ]/i.test(event.key)" onblur="if (this.value == '') {this.value = '';}"
                    onfocus="if (this.value == '') {this.value = '';}">
                </nz-badge>
              </div>
            </div>
          </div>
          <div class="row mt-2 form-group">
            <!--Habitaciones-->
            <br>
            <label class="filterLabel d-block" for="Habitaciones">Habitaciones</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.habitaciones"
              (ngModelChange)="filter($event,'habitaciones')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseos-->
            <br>
            <label class="filterLabel d-block" for="Aseos">Aseos</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseos"
              (ngModelChange)="filter($event,'aseos')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aseo ensuite-->
            <br>
            <label class="filterLabel d-block" for="AseoEnsuiteFilter">Aseo ensuite</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.aseoEnsuite"
              (ngModelChange)="filter($event,'aseoEnsuite')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <div class="row mt-2 form-group">
            <!--Aparcamientos-->
            <br>
            <label class="filterLabel d-block" for="AparcamientosFilter">Aparcamientos</label>
            <nz-radio-group class="" nzSize="large" [(ngModel)]="this.homeFiltersRequest.garage"
              (ngModelChange)="filter($event,'garage')">
              <label nz-radio-button nzValue=1>1</label>
              <label nz-radio-button nzValue=2>2</label>
              <label nz-radio-button nzValue=3>3</label>
              <label nz-radio-button nzValue=4>4</label>
              <label nz-radio-button nzValue=5>+5</label>
            </nz-radio-group>
          </div>
          <!--Precio de alquiler-->
          <div class="row mx-auto p-0">
            <div class="row g-2 ml-1"
              *ngIf="this.filterRentSalePriceFlag=='Alquiler' || this.filterRentSalePriceFlag=='Compartir'">
              <label class="filterLabel mt-1" for="priceContainer">Precio</label>
              <div class="col-6">
                <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                <div class="form-group">
                  <nz-select id="minPriceFilter" class="minPriceFilter" style="width:100%"
                    [(ngModel)]="this.homeFiltersRequest.precioAlquilerMin" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'minPriceFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'precioAlquilerMin')">
                    <nz-option *ngFor="let opt of precioMinimoAlquiler" [nzValue]=opt
                      [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                <div class="form-group">
                  <nz-select id="maxPriceFilter" class="maxPriceFilter" style="width:100%"
                    [(ngModel)]="this.homeFiltersRequest.precioAlquilerMax" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'maxPriceFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'precioAlquilerMax')">
                    <nz-option *ngFor="let opt of precioMaximoAlquiler" [nzValue]=opt
                      [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <br>
              </div>
            </div>
            <!--Precio de venta  -->
            <div class="row g-2 mx-auto p-0" *ngIf="this.filterRentSalePriceFlag=='Venta'">
              <label class="filterLabel mt-1" for="priceContainer">Precio</label>
              <div class="col-6">
                <label class="filterLabel d-block" for="minPriceFilter">Mín</label>
                <div class="form-group">
                  <nz-select id="minPriceFilter" class="minPriceFilter" style="width:100%; "
                    [(ngModel)]="this.homeFiltersRequest.precioVentaMin" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'minPriceFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'precioVentaMin')">
                    <nz-option *ngFor="let opt of precioMinimoVenta" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxPriceFilter">Max</label>
                <div class="form-group">
                  <nz-select id="maxPriceFilter" class="maxPriceFilter" style="width:100%"
                    [(ngModel)]="this.homeFiltersRequest.precioVentaMax" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'maxPriceFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'precioVentaMax')">
                    <nz-option *ngFor="let opt of precioMaximoVenta" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <br>
              </div>
            </div>
            <!--Superficie-->
            <div class="row g-2 mx-auto p-0">
              <label class="filterLabel" for="priceContainer">Superficie</label>
              <div class="col-6">
                <label class="filterLabel d-block" for="minAreaFilter">Mín</label>
                <div class="form-group">
                  <nz-select id="minAreaFilter" class="minAreaFilter" style="width:100%"
                    [(ngModel)]="this.homeFiltersRequest.superficieMin" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'minAreaFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'superficieMin')">
                    <nz-option *ngFor="let opt of superficie" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
              </div>
              <div class="col-6">
                <label class="filterLabel d-block" for="maxAreaFilter">Max</label>
                <div class="form-group">
                  <nz-select id="maxAreaFilter" class="maxAreaFilter" style="width:100%"
                    [(ngModel)]="this.homeFiltersRequest.superficieMax" [nzSize]="sizeM"
                    (nzOpenChange)="rotateArrows($event,'maxAreaFilter')" [nzAllowClear]="true"
                    (ngModelChange)="filter($event,'superficieMax')">
                    <nz-option *ngFor="let opt of superficie" [nzValue]=opt [nzLabel]="opt">{{opt}}</nz-option>
                  </nz-select>
                </div>
                <br>
              </div>
            </div>
            <!--Vistas-->
            <div class="row mt-2 mb-2 form-group align-items-center w-100 mx-auto px-0">
              <label class="filterLabel d-block w-100" for="viewsFilter">Vistas</label>
              <nz-select nzMode="multiple" nzAllowClear [nzSize]="sizeM"
                (ngModelChange)="filter($event,'vistasDespejadas')" [(ngModel)]="this.homeFiltersRequest.vistas"
                class="w-100" name="viewsFilter">
                <ng-container>
                  <nz-option *ngFor="let opt of vistas" [nzLabel]="opt" [nzValue]="opt"></nz-option>
                </ng-container>
              </nz-select>
            </div>
            <!--Comodidades-->
            <div class=" mt-3 mb-3">
              <div class="">
                <label class="filterLabel text-muted mt-n2 d-block" for="amenitiesFilter">Comodidades</label>
                <div class="row row-cols-2 mt-1">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/aa3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo"
                      style="text-overflow: ellipsis; white-space:nowrap">Inverter</label>
                    <input id="foo"
                      (change)="filter(this.homeFiltersRequest.aireAcondicionado?true:false,'aireAcondicionado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.aireAcondicionado" type="checkbox">
                    <label class="switch" for="foo"></label>
                  </div>
                  <div class="col input-chkbox-amenities form-group">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/balcony3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo4"
                      style="text-overflow: ellipsis; white-space:nowrap">Balcón</label>
                    <input id="foo4" (change)="filter(this.homeFiltersRequest.balcon?true:false,'balcon')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      [(ngModel)]="this.homeFiltersRequest.balcon" type="checkbox">
                    <label class="switch" for="foo4"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative; " src="assets/svg/heating3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo3"
                      style="text-overflow: ellipsis; white-space:nowrap">Calefacción</label>
                    <input id="foo3" (change)="filter(this.homeFiltersRequest.calefaccion?true:false,'calefaccion')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.calefaccion">
                    <label class="switch" for="foo3"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;"
                      src="assets/svg/shower-tabs.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo2"
                      style="text-overflow: ellipsis; white-space:nowrap">Hidromasaje</label>
                    <input id="foo2"
                      (change)="filter(this.homeFiltersRequest.cabinaHidromasaje?true:false,'cabinaHidromasaje')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.cabinaHidromasaje">
                    <label class="switch" for="foo2"></label>
                  </div>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/amueblado3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo5"
                      style="text-overflow: ellipsis; white-space:nowrap">Amueblado</label>
                    <input id="foo5" (change)="filter(this.homeFiltersRequest.amueblado?true:false,'amueblado')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.amueblado">
                    <label class="switch" for="foo5"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.875em; position:relative;" src="assets/svg/elevator3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo6"
                      style="text-overflow: ellipsis; white-space:nowrap">Ascensor</label>
                    <input id="foo6" (change)="filter(this.homeFiltersRequest.ascensor?true:false,'ascensor')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.ascensor">
                    <label class="switch" for="foo6"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 1.6em; position:relative; " src="assets/svg/wheelchair3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo7"
                      style="text-overflow: ellipsis; white-space:nowrap">Accesible</label>
                    <input id="foo7"
                      (change)="filter(this.homeFiltersRequest.inmuebleAccesible?true:false,'instalacionesDiscapacitados')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.inmuebleAccesible">
                    <label class="switch" for="foo7"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/solar_panels3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo8"
                      style="text-overflow: ellipsis; white-space:nowrap">Paneles solares</label>
                    <input id="foo8"
                      (change)="filter(this.homeFiltersRequest.panelesSolares?true:false,'panelesSolares')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.panelesSolares">
                    <label class="switch" for="foo8"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative;" src="assets/svg/jacuzzi3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo9"
                      style="text-overflow: ellipsis; white-space:nowrap">Jacuzzi</label>
                    <input id="foo9" (change)="filter(this.homeFiltersRequest.jacuzzi?true:false,'jacuzzi')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.jacuzzi">
                    <label class="switch" for="foo9"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2.1em; position:relative; "
                      src="assets/svg/poolprivate3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo10"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina privada</label>
                    <input id="foo10"
                      (change)="filter(this.homeFiltersRequest.piscinaPrivada?true:false,'piscinaPrivada')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" [(ngModel)]="this.homeFiltersRequest.piscinaPrivada">
                    <label class="switch" for="foo10"></label>
                  </div>
                  <br>
                </div>
                <div class="row row-cols-2 mt-3">
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; " src="assets/svg/lockers3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo11"
                      style="text-overflow: ellipsis; white-space:nowrap">Trastero</label>
                    <input id="foo11" (change)="filter(this.homeFiltersRequest.trastero?true:false,'trastero')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="trastero" [(ngModel)]="this.homeFiltersRequest.trastero">
                    <label class="switch" for="foo11"></label>
                  </div>
                  <div class="col input-chkbox-amenities">
                    <ion-icon style="font-size: 2em; position:relative; "
                      src="assets/svg/communitypool3.svg"></ion-icon>
                    <label class="filterLabel text-secondary" for="foo12"
                      style="text-overflow: ellipsis; white-space:nowrap">Piscina comunitaria</label>
                    <input id="foo12" (change)="filter(this.homeFiltersRequest.piscinaComp?true:false,'piscinaComp')"
                      style=" clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;"
                      type="checkbox" name="piscinaComp" [(ngModel)]="this.homeFiltersRequest.piscinaComp">
                    <label class="switch" for="foo12"></label>
                  </div>
                  <br>
                </div>
              </div><!--card content-->
            </div><!--card-->

          </div><!--row mt-2 -->
        </div><!--container-->
      </div>
    </form>
  </div>
  <div class="container text-center">
    <div class="row align-items-center pb-3" *ngIf="!this.hideValues4share">
      <div class="col-md-4">
        <button type="reset" class="button is-rounded is-light" name="resetFilters"
          (click)="filterSearchForm.resetForm();clearMap('full-clear')" onclick="uncheck()">Borrar filtros</button>
      </div>
      <div class="col-md-4">

      </div>
      <div class="col-md-4">
        <!--<button type="submit" pRipple class="button is-rounded is-light">Buscar
        </button>(click)="modalRef.hide()"-->
      </div>
    </div>
  </div>
</p-sidebar>

<nz-modal nzCentered [(nzVisible)]="joinUsModal" (nzOnCancel)="handleCancel('joinUsModal')"
  (nzOnOk)="handleOk('likeHome')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull">
  <div *nzModalContent style="display: block;" class="restricted-message" id="restricted-message">
    <div class="body">
      <div class="advertisement mx-auto">
        <!--<div class="image">
                  <img src="" alt="Para disfrutar del chat en tiempo real cree un cuenta"/>
                  <div class="text"><h4>Entrar o registrarse</h4></div>
              </div>-->
        <div class="padded">
          <div class="heading">Crear cuenta</div>
          <p>Acceda o registrese para guardar búsquedas y favoritos</p>
          <button tabindex="0" class="login only-one-button " routerLink="/login"><span
              class="readmore-button-label">ENTRAR</span></button>
          <button tabindex="0" class="register only-one-button " routerLink="/register"><span
              class="readmore-button-label">REGISTRARSE</span></button>
          <p class="privacy">
            Al continuar acepta nuestra política de privacidad <a (click)="showModal('privatePolicy')"> Política de
              privacidad</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</nz-modal>

<!--Pricing drawer
<nz-drawer
[nzClosable]="true"
[nzVisible]="visiblePricingDrawer"
nzPlacement="right"
nzTitle="Basic Drawer"
(nzOnClose)="closePricingDrawer()">
<ng-container *nzDrawerContent>
  

  <div class="card">
    <div class="card-header">
      <h6 class="my-auto font-semibold">Destacar anuncio&nbsp;</h6>
    </div>
    <div class="card-body">
      <p class="card-text"><ion-icon name="checkmark-outline" class="text-success mt-1"></ion-icon> Primeras posiciones en el listado de tu zona</p>
      <p class="card-text"><ion-icon name="checkmark-outline" class="text-success mt-1"></ion-icon> El anuncio destaca en el listado y en el mapa</p>
      
    </div>
    <div class="card-footer">
      <mat-button-toggle>Guardar</mat-button-toggle>
      <div class="price-tag float-end ml-auto">
        <span class="amount">4,95</span>
        <span class="symbol">€</span>
        <span class="after">/1 semana</span>
     </div>
    </div>
  </div>
</ng-container>
</nz-drawer>-->

<!--Ghost buttons-->
<button id="oculto" class="oculto d-none" (click)="saveService('home')"></button>
<!-- Abre el anuncio en una ventana nueva -->
<a id="linkPopup" class="linkPopup d-none" [routerLink]="['/add',this.routerLinkId]" fragment={{this.routerLinkModel}}
  [queryParams]="{propiedad:this.routerLinkQueryParams}" target="_blank"></a>
<!-- Cuando el usuario cancela borra el marker y carga las propiedades en venta (carga por defecto) -->
<button id="restoreMap" class="restoreMap d-none" (click)="restoreMap()"></button>
<!-- Heart like! -->
<button id="likePopup" class="likePopup d-none"
  (click)="cuoreLikeFeature('popup',this.homeService.getHomeFromLocalCache(),$event)"></button>
<!-- Gestión de eventos mapa leaflet -->
<button id="leafletEvent" class="leafletEvent d-none" (click)="fireMapEvents($event)"></button>