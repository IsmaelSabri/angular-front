<!--<header class="my-auto p-2">
    <div class="container">
        <div class="row" >
            <div class="col-md-3 col-sm-3 col-3 my-auto float-start">
                <div class="logo my-auto">
                    <img src="assets/images/logo.png" class="logo w-100" alt="" style="min-height: 1.6em; min-width: 12.8em;">
                </div>
            </div>
            <div class="col-md-9 col-sm-9 col-9 text-end">
                <div class="menu-icon float-end mb-5 pr-5 mr-2" (click)="openMenu()">
                    <div class="header__menu">
                        <a id="header__button" class="hamburger" >
                          <div class="hamburger__inner"></div>
                        </a>  
                      </div>                                     
                </div>
                <div class="desktop_menu z-1 my-auto" [class.mobile_menu]="menuValue">
                    <ul>
                        <li (click)="closeMenu()">Home</li>
                        <li (click)="closeMenu()">About</li>
                        <li >
                            <a nz-dropdown [nzDropdownMenu]="menu">
                                Hover me
                                <i class="bi bi-chevron-down"></i>
                              </a>
                              <nz-dropdown-menu #menu="nzDropdownMenu">
                                <ul nz-menu nzSelectable>
                                  <li nz-menu-item>1st menu item</li>
                                  <li nz-menu-item>2nd menu item</li>
                                  <li nz-menu-item>3rd menu item</li>
                                  <li nz-menu-item nzDanger>4th danger item</li>
                                </ul>
                              </nz-dropdown-menu>
                        </li>
                        <li (click)="closeMenu()">Contact</li>
                        <li *ngIf='!this.state'>
                                <div class="buttons">
                                <a class="button is-dark" pRipple routerLink="/register" *ngIf='!this.state'>
                                    <strong>Unirse</strong>
                                </a>
                                <a class="button is-light" pRipple routerLink="/login" *ngIf='!this.state'>
                                    Entrar
                                </a>
                                </div>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>-->

    <nav class="navbar mb-3  " role="navigation" aria-label="main navigation">
        <div class="navbar-brand" >
          <a class="navbar-item" routerLink="/_es">
            <svg width="640" height="160" viewBox="0 0 640 160" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M170 132.571V27.5908C170 25.5451 170.915 23.93 172.746 22.7456C174.576 21.5612 176.729 20.969 179.206 20.969H210.377C232.019 20.969 242.84 30.4441 242.84 49.3943C242.84 62.5303 238.264 71.0902 229.112 75.074C234.603 77.2275 238.748 80.2692 241.548 84.1992C244.347 88.1292 245.747 93.8627 245.747 101.4V104.791C245.747 116.743 242.84 125.437 237.026 130.875C231.211 136.312 223.351 139.031 213.445 139.031H179.206C176.514 139.031 174.307 138.385 172.584 137.093C170.861 135.801 170 134.293 170 132.571ZM190.834 120.619H209.085C219.529 120.619 224.751 114.751 224.751 103.015V100.431C224.751 94.401 223.432 90.0404 220.794 87.3486C218.156 84.6568 214.253 83.3109 209.085 83.3109H190.834V120.619ZM190.834 66.8371H208.923C213.122 66.8371 216.326 65.5989 218.533 63.1225C220.74 60.646 221.844 57.2544 221.844 52.9475C221.844 48.7483 220.686 45.4374 218.371 43.0148C216.057 40.5922 212.853 39.3809 208.762 39.3809H190.834V66.8371ZM260.283 103.015V27.4293C260.283 25.2759 261.306 23.6608 263.351 22.5841C265.397 21.5074 267.873 20.969 270.781 20.969C273.688 20.969 276.164 21.5074 278.21 22.5841C280.256 23.6608 281.279 25.2759 281.279 27.4293V103.015C281.279 115.397 287.2 121.588 299.044 121.588C310.888 121.588 316.81 115.397 316.81 103.015V27.4293C316.81 25.2759 317.833 23.6608 319.879 22.5841C321.925 21.5074 324.401 20.969 327.308 20.969C330.215 20.969 332.692 21.5074 334.738 22.5841C336.783 23.6608 337.806 25.2759 337.806 27.4293V103.015C337.806 115.72 334.28 125.061 327.227 131.036C320.175 137.012 310.781 140 299.044 140C287.308 140 277.914 137.039 270.861 131.117C263.809 125.195 260.283 115.828 260.283 103.015ZM356.703 132.409V27.4293C356.703 25.2759 357.725 23.6608 359.771 22.5841C361.817 21.5074 364.293 20.969 367.201 20.969C370.108 20.969 372.584 21.5074 374.63 22.5841C376.676 23.6608 377.699 25.2759 377.699 27.4293V120.619H417.106C419.044 120.619 420.579 121.534 421.709 123.365C422.84 125.195 423.405 127.349 423.405 129.825C423.405 132.301 422.84 134.455 421.709 136.285C420.579 138.116 419.044 139.031 417.106 139.031H365.908C363.432 139.031 361.279 138.439 359.448 137.254C357.618 136.07 356.703 134.455 356.703 132.409ZM434.872 132.409V31.467C434.872 27.9138 435.868 25.2759 437.86 23.5532C439.852 21.8304 442.355 20.969 445.37 20.969C449.354 20.969 452.423 21.6689 454.576 23.0686C456.729 24.4684 459.098 27.4832 461.682 32.1131L481.548 68.2907L501.413 32.1131C503.997 27.4832 506.393 24.4684 508.6 23.0686C510.808 21.6689 513.903 20.969 517.887 20.969C520.902 20.969 523.405 21.8304 525.397 23.5532C527.389 25.2759 528.385 27.9138 528.385 31.467V132.409C528.385 134.455 527.335 136.07 525.236 137.254C523.136 138.439 520.686 139.031 517.887 139.031C514.98 139.031 512.503 138.439 510.458 137.254C508.412 136.07 507.389 134.455 507.389 132.409V62.961L488.493 96.5545C486.985 99.354 484.616 100.754 481.386 100.754C478.264 100.754 475.949 99.354 474.441 96.5545L455.868 61.6689V132.409C455.868 134.455 454.818 136.07 452.719 137.254C450.619 138.439 448.17 139.031 445.37 139.031C442.463 139.031 439.987 138.439 437.941 137.254C435.895 136.07 434.872 134.455 434.872 132.409ZM539.529 130.31C539.529 130.094 539.637 129.556 539.852 128.694L571.023 27.1063C571.669 24.8452 573.257 23.0956 575.787 21.8573C578.318 20.6191 581.198 20 584.428 20C587.658 20 590.565 20.6191 593.149 21.8573C595.734 23.0956 597.349 24.8452 597.995 27.1063L629.166 128.694C629.381 129.556 629.489 130.094 629.489 130.31C629.489 132.678 628.035 134.724 625.128 136.447C622.221 138.17 619.26 139.031 616.245 139.031C612.261 139.031 609.892 137.631 609.139 134.832L603.001 113.351H566.016L559.879 134.832C559.125 137.631 556.756 139.031 552.773 139.031C549.65 139.031 546.662 138.197 543.809 136.528C540.956 134.859 539.529 132.786 539.529 130.31ZM570.377 96.8775H598.479L584.428 47.2948L570.377 96.8775Z" fill="black" class="bd-svg-black" />
                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 110L10 40L50 0L100 50L70 80L110 120L50 160L0 110Z" fill="#00D1B2"/>
            </svg>
          </a>

          <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>
      
        <div id="navbarBasicExample" class="navbar-menu ">
          <div class="navbar-start">
            
          </div>
      
          <div class="navbar-end" >
            <a class="d-flex mx-2" nz-dropdown [nzDropdownMenu]="menu" id="navbarDropdown" role="button"
              aria-expanded="false" aria-haspopup="true" *ngIf='this.state'>
              <img height="55" width="55" class=" rounded-circle img-fluid" style="border: 1px #b4b4b4 solid;" alt="avatar2"
                [attr.src]="getTrustedProfileImage()" />
            </a>
            <nz-dropdown-menu #menu="nzDropdownMenu" nzPlacement="bottomRight" class="z-1">
              <ul nz-menu nzSelectable>
                <li nz-menu-item class="bg-light"><a style="font-weight: bold;" class="text-secondary">Colecciones</a></li>
                <li nz-menu-item><a *ngIf='this.state' routerLink="/user/management">
                    <ion-icon name="person-outline" style="position: relative; top: 2px;"></ion-icon> {{user?.username}}
                  </a></li>
    
                <li nz-menu-item><a [routerLink]="" *ngIf='this.state'><ion-icon name="notifications-outline"
                      style="position: relative; top: 2px; font-size:16px;"></ion-icon>
                    <p-badge styleClass="mr-2" [value]="2" severity="info"></p-badge>
                    Notificaciones</a></li>
    
                <li nz-menu-item><a [routerLink]=""><ion-icon style="position: relative; top: 2px; font-size:16px;"
                      name="heart-half-outline"></ion-icon> Guardadas</a></li>
                <li nz-menu-item><a routerLink="/user-pro"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                      name="speedometer-outline"></ion-icon> Pro-area</a></li>
                <li nz-menu-item><a routerLink="/admin"><ion-icon style="position: relative; top: 2px; font-size:16px;"
                      name="person-circle-outline"></ion-icon> Admin-area</a></li>
                <li nz-menu-item><a [routerLink]=""><ion-icon name="heart-dislike-outline"
                      style="position: relative; top: 2px; font-size:16px;"></ion-icon> Ocultas</a></li>
                <li nz-menu-item><a [routerLink]=""><span nz-icon nzType="audit" nzTheme="outline"
                      style="position: relative; bottom: 3px;"></span> Vistas</a></li>
    
                <li nz-menu-item><a *ngIf='this.state' (click)="onLogOut()" routerLink="/home">
                    <ion-icon name="log-out-outline"
                      style="position: relative; top: 2px; font-size:16px;"></ion-icon>&nbsp;Salir</a></li>
              </ul>
            </nz-dropdown-menu>
    
            <div class="navbar-item ">
              <div class="buttons">
                <a class="button is-dark" pRipple routerLink="/register" *ngIf='!this.state'>
                  <strong>Unirse</strong>
                </a>
                <a class="button is-light" pRipple routerLink="/login" *ngIf='!this.state'>
                  Entrar
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    
    <!--brand header starts-->
    <nz-affix [nzOffsetTop]="0" >
      <nav *ngIf='this.brandingColor!=null || this.brandingColor!=undefined' [style.background-color]="this.brandingColor" class="navbar py-0 branding-nav z-0" role="navigation" >
        <div class="container-fluid"  >
            <div class="mx-auto order-0" *ngIf="this.brandingImage!=null">
                <a class="a-branding " >
                    <picture class="pictureBranding">
                        <img class="brandImage" [src]="this.brandingImage" alt="">
                    </picture>
                </a>
              </div>
          
          <!--<img style="border-radius: 50%;" height="55" width="55" class="rounded-circle img-fluid " alt="avatar2" [src]="this.user.profileImage.imageUrl" />-->
        </div>
      </nav>
    </nz-affix>
    <!--brand header ends-->
    
    <!-- image section starts -->
     <div class="container-fluid ">
    <section id="photos-section" >
        <div id="photos" class="image-mosaic">
            <div class="listing-status">
                <div *ngIf="this.home.destacar" class="listing-status-item" [style.background-color]="this.imageBadgeColor">{{this.home.destacar}}</div>
                <div *ngIf="this.home.estado == 'Obra nueva'" class="listing-status-item text-center" style="background-color: #80ed99;">{{this.home.estado}}</div>
            </div>
            <div class="single-media first-images " *ngFor="let image of _albums| slice:0:1; let i = index">
                <a class="first-image ">
                        <img [src]="this._albums[i].src" (click)="open(i)"/>
                </a>
                <div class="rest-media-length-4">
                    <a class="single-image  ">
                        <img [src]="this._albums[i+1].src" (click)="open(i+1)"/>
                    </a>
                    <a class="single-image">
                        <img [src]="this._albums[i+2].src" (click)="open(i+2)"/>
                    </a>
                    <a class="single-image">
                        <img [src]="this._albums[i+3].src" (click)="open(i+3)"/>
                        <span class="count-info" *ngIf="this.home.images.length>5">
                            {{this.home.images.length-5}}<!-- -->
                            +
                        </span>
                    </a>
                    <a class="badge-count-image">
                        <img [src]="this._albums[i+4].src" (click)="open(i+4)"/>
                    </a>
                </div>
            </div>
        </div>
    </section> 
    <!-- image section ends -->
    
    <!-- skeleton load section starts -->
    <section id="skeleton-section">
        <div id="photos" class="image-mosaic ">
            <div class="listing-status">
                <div></div>
                <div></div>
            </div>
            <div class="single-media first-images " >
                <p-skeleton width="100%" height="100%" styleClass="mb-1">
                    <a class="first-image ">
                            <img />
                    </a>
                </p-skeleton>
                <div class="rest-media-length-4">
                    <p-skeleton width="100%" height="100%" styleClass="mb-1">
                        <a class="single-image  ">
                            <img />
                        </a>
                    </p-skeleton>
                    <p-skeleton width="100%" height="100%" styleClass="mb-1">
                        <a class="single-image  ">
                            <img />
                        </a>
                    </p-skeleton>
                    <p-skeleton width="100%" height="100%" styleClass="mb-1">
                        <a class="single-image">
                            <img />
                            <span class="count-info">
                                
                            </span>
                        </a>
                    </p-skeleton>
                    <p-skeleton width="100%" height="100%" styleClass="mb-1">
                        <a class="badge-count-image">
                                <img />
                        </a>
                    </p-skeleton>
                </div>
            </div>
        </div>
    </section> 
    <!-- skeleton load section ends -->
    
    <!--Content-->
    <div class="main-details ">
        <main class="row-main-details ">
            <div class="sections">
                <div>
                    <section id="overview" class="description-section " style="filter: none;">
                        <div class="description-content ">
                            <div>
                                    <h1 class="headline alone">{{this.home.tipo}} 
                                        <span *ngIf="this.home.condicion!='Compartir'">en </span>
                                        <span *ngIf="this.home.condicion=='Compartir'">para </span>
                                        <span class="text-lowercase">{{this.home.condicion}}</span> en {{this.home.ciudad}}</h1>
                                    <span *ngIf="this.home.direccionAproximada" class="address-icon icon-deluxe "><ion-icon style="font-size: 1em;" src="assets/svg/place.svg"></ion-icon></span>
                                    <span *ngIf="!this.home.direccionAproximada" class="address-icon icon-deluxe "><ion-icon style="font-size: 1em;" src="assets/svg/no-place.svg"></ion-icon></span>
                                    <h2 nz-tooltip [nzTooltipTrigger]="'hover'" nzTooltipTitle="La dirección se muestra como aproximada por deseo del/la anunciante" *ngIf="!this.home.direccionAproximada"><a>&nbsp;&nbsp;Dirección aproximada</a></h2>
                                    <h2 *ngIf="this.home.direccionAproximada"><a href="http://maps.google.com/maps?q=&layer=c&cbll={{this.home.lat}},{{this.home.lng}}&cbp=11,0,0,0,0" target="_blank"><b>&nbsp;&nbsp;Street View</b></a></h2>
                                    <div class="navbar-item mt-4 mx-3 likeFeature">
                                        <input [checked]="false" (change)="cuoreLike(this.home.viviendaId)" class="red-heart-checkbox" #redheartcheckbox id="{{this.home.viviendaId}}" type="checkbox">
                                        <label for="{{this.home.viviendaId}}"></label>
                                    </div>
                            </div>
                                <div class="prices">
                                    <!-- Venta -->
                                    <div class="price" style="padding: .475em .580em;" *ngIf="(this.home.precioFinal && this.home.model!='NewProject') && (this.home.condicion=='Venta' || this.home.condicion=='Alquiler y venta')">
                                        <!-- Rebajado -->
                                        <span class="prefix">En venta</span>
                                        <div class="price under-market" *ngIf=" this.home.precioInicial > this.home.precioFinal" style="padding: .475em .580em;border:none;">
                                                <div *ngIf=" this.home.precioInicial" class="price-container">
                                                    <span style="border: none;" class="price-value text-decoration-line-through old-price">{{formatNumberWithCommas(this.home.precioInicial)+'€'}}</span><!--<span class="dimension"></span>-->
                                                </div>
                                        </div>
                                        <div class="price-container" >
                                            <span *ngIf="this.home.precioFinal && (this.home.condicion=='Venta' || this.home.condicion=='Alquiler y venta')" class="price-value">{{formatNumberWithCommas(this.home.precioFinal)}}€</span>
                                            <!--<span *ngIf="this.home.precioFinal && this.home.model!='NewProject'" class="dimension">{{this.calcPriceM2(''+this.home.precioFinal,''+this.home.superficie)}}€/m²</span>-->
                                            <div class="diff float-end mt-1" *ngIf="this.home.precioInicial != 0 && this.home.model!='NewProject'">
                                                    <span *ngIf="this.home.precioInicial>this.home.precioFinal" class="dimension under " style="color:#8dca3f;">-{{this.discount(''+this.home.precioInicial,''+this.home.precioFinal)}}%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Alquiler -->
                                    <div *ngIf="this.home.precioAlquiler > 0 && (this.home.condicion=='Alquiler' || this.home.condicion=='Alquiler y venta' || this.home.condicion=='Compartir' )"  class="price" >
                                        <span class="prefix">En alquiler</span>
                                        <div class="price under-market " style="padding: .475em .580em; border:none;"*ngIf=" this.home.precioAlquilerInicial > this.home.precioAlquiler">
                                            <div *ngIf=" this.home.precioAlquilerInicial" class="price-container">
                                                <span  *ngIf=" this.home.precioInicial > this.home.precioFinal" class="price-value text-decoration-line-through old-price">{{formatNumberWithCommas(this.home.precioAlquilerInicial)+'€'}}</span><!--<span class="dimension"></span>-->
                                            </div>
                                        </div>
                                        <div class="price-container">
                                            <span *ngIf=" this.home.precioAlquiler != 0" class="price-value">{{formatNumberWithCommas(this.home.precioAlquiler)}}€</span>
                                            <span *ngIf="this.home.precioAlquiler>0" class="suffix mb-1">/mes</span><!--<span class="dimension"></span>-->
                                        </div>
                                    </div>
                                    <!-- Proyectos -->
                                    <div class="price" style="padding: .475em .580em;" *ngIf="this.home.model=='NewProject'">
                                        <div class="price under-market" style="padding: .475em .580em; ">
                                            <span class="prefix" style="border: none;">Desde</span>
                                                    <div *ngIf=" this.home.precioInicial" class="price-container">
                                                        <span class="price-value text-decoration-line-through old-price">{{formatNumberWithCommas(this.home.precioInicial)+'€'}}</span><!--<span class="dimension"></span>-->
                                                    </div>
                                            </div>
                                            <div class="price-container" >
                                                <span *ngIf="this.home.precioFinal && (this.home.condicion=='Venta' || this.home.condicion=='Alquiler y venta')" class="price-value">{{formatNumberWithCommas(this.home.precioFinal)}}€</span>
                                                <!--<span *ngIf="this.home.precioFinal && this.home.model!='NewProject'" class="dimension">{{this.calcPriceM2(''+this.home.precioFinal,''+this.home.superficie)}}€/m²</span>-->
                                                <div class="diff float-end mt-1" *ngIf="this.home.precioInicial != 0 && this.home.model!='NewProject'">
                                                        <span *ngIf="this.home.precioInicial>this.home.precioFinal" class="dimension under " style="color:#8dca3f;">-{{this.discount(''+this.home.precioInicial,''+this.home.precioFinal)}}%</span>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                        </div>
                        <!-- Home card models -->
                        <div class="acerca-de-container " *ngIf="this.tipo.includes(this.home.tipo)">
                            <div>
                                <span class="value">{{this.home.habitaciones}}</span><span class="label"><ion-icon style="font-size: 24px; color:white;" src="assets/svg/bed-white.svg" ></ion-icon><br><span class="text">Dormitorios</span></span>
                            </div>
                            <div>
                                <span class="value">{{this.home.aseos}}</span><span class="label"><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/bath-white.svg"></ion-icon><br><span class="text">Aseos</span></span>
                            </div>
                            <div *ngIf="this.home.orientacion">
                                <span class="value">{{this.home.orientacion}}</span><span class="label"><ion-icon style="font-size: 20px; position:relative; top:3px;" src="assets/svg/compass-white.svg"></ion-icon><br><span class="text">Orientación</span></span>
                            </div>
                            <div *ngIf="this.home.piso">
                                <span class="value">{{this.home.piso}}</span><span class="label"><ion-icon style="font-size: 20px; position:relative; top:3px;" src="assets/svg/stairs_white.svg"></ion-icon><br><span class="text">Piso</span></span>
                            </div>
                            <div *ngIf="!this.home.piso && this.home.bajoOplantabaja">
                                <span class="value">PB</span><span class="label"><ion-icon style="font-size: 24px; position:relative; top:3px;" src="assets/svg/first-floor-white.svg"></ion-icon><br><span class="text">Bajo</span></span>
                            </div>
                            <div *ngIf="this.home.garage < 6 && this.home.garage !== 0">
                                <span class="value">{{this.home.garage}}</span><span class="label"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/garage-white.svg"></ion-icon><br><span class="text">Garage</span></span>
                            </div>
                            <div *ngIf="this.home.garage == 6">
                                <span class="value">5+</span><span class="label"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/garage-white.svg"></ion-icon><br><span class="text">Garage</span></span>
                            </div>
                            <div>
                                <span class="value">{{this.home.superficie}}m²</span><span class="label"><ion-icon style="font-size: 20px; position:relative; top:3px;" src="assets/svg/size-box-white.svg"></ion-icon><br><span class="text">Superficie</span></span>
                            </div>
                            <div>
                                <span class="value">{{this.home.antiguedad}}</span><span class="label"><ion-icon style="font-size: 22px; position:relative; top:2px;" src="assets/svg/build-white.svg"></ion-icon><br><span class="text">Antiguedad</span></span>
                            </div>
                        </div>
                        <!-- New project card models -->
                        <div class="acerca-de-container " *ngIf="this.home.tipo=='Proyecto nuevo'">
                            <div>
                                <span class="value">{{this.home.habitacionesDesde+'-'+this.home.habitacionesHasta}}</span><span class="label"><ion-icon style="font-size: 24px; color:white;" src="assets/svg/bed-white.svg" ></ion-icon><br><span class="text">Dormitorios</span></span>
                            </div>
                            <div>
                                <span class="value" style="font-size: 1em;">{{this.home.superficieDesde+'-'+this.home.superficieHasta}}m²</span><span class="label"><ion-icon style="font-size: 20px; position:relative; top:3px;" src="assets/svg/size-box-white.svg"></ion-icon><br><span class="text">Superficie</span></span>
                            </div>
                            <div *ngIf="this.home.alturas">
                                <span class="value">{{this.home.alturas}}</span><span class="label"><ion-icon style="font-size: 24px; position:relative; top:3px;" src="assets/svg/stairs_white.svg"></ion-icon><br><span class="text">Alturas</span></span>
                            </div>
                            <div *ngIf="this.home.totalViviendasConstruidas">
                                <span class="value">{{this.home.totalViviendasConstruidas}}</span><span class="label"><ion-icon style="font-size: 25px; position:relative; top:3px;" src="assets/svg/homes-units-white.svg"></ion-icon><br><span class="text">Unidades</span></span>
                            </div>
                            <div *ngIf="this.home.porcentajeTerminado > 0 && this.home.porcentajeTerminado <= 100">
                                <span class="value">{{this.home.porcentajeTerminado}}%</span><span class="label"><ion-icon style="font-size: 24px; position:relative; top:3px;" src="assets/svg/grua_white.svg"></ion-icon><br><span class="text">Progreso</span></span>
                            </div>
                            <div *ngIf="(this.home.porcentajeTerminado == 100) && (this.home.antiguedad)">
                                <span class="value">{{this.home.antiguedad}}</span><span class="label"><ion-icon style="font-size: 24px; position:relative; top:3px;" src="assets/svg/real-estate.svg"></ion-icon><br><span class="text">Obra terminada</span></span>
                            </div>
                        </div>

                        <!-- Descripción -->
                        <div class="readmore-open " >
                            <h2>{{this.home.habitaciones}} Habitaciones en venta <i class="bi bi-grip-vertical" style="color:#d9d9d9;font-size:0.8em;"></i> {{this.home.distrito}} <i class="bi bi-grip-vertical" style="color:#d9d9d9;font-size:0.8em;"></i> {{this.home.ciudad}}</h2>
                            <span class="description-box">
                                <div class="container" id="module">
                                    <div [ngbCollapse]="isCollapsed" class="collapse" id="collapseExample" >
                                        {{this.home.descripcion}}
                                    </div>
                                    <a role="button" (click)="isCollapsed=!isCollapsed" *ngIf="this.isCollapsed"
                                    [attr.aria-expanded]="!isCollapsed" class="collapsed" 
                                    aria-expanded="false" aria-controls="collapseExample" style="color:#8dca3f">+ Mostrar más</a>
                                    <a role="button" (click)="isCollapsed=!isCollapsed" *ngIf="!this.isCollapsed"
                                    [attr.aria-expanded]="!isCollapsed" class="collapsed" 
                                    aria-expanded="false" aria-controls="collapseExample" style="color:#8dca3f">- Mostrar menos</a>
                                </div>
                            </span>
                        </div>
                        
                        <div class="features-container ">
                            <div class="features-block">
                                <h2>Acerca de</h2>
                                <div class="featured">
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1"><ion-icon style="font-size: 18px; position:relative; " src="assets/svg/house-next.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Tipo de propiedad<!-- -->:</span><span class="value text-secondary">{{this.home.tipo}}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1"><ion-icon style="font-size: 15px; position:relative; top:2px;" src="assets/svg/date1.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Desde<!-- -->:</span><span class="value text-secondary"> {{this.home.fechaCreacion?.slice(0,10)}}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 18px; position:relative; top:2px;" src="assets/svg/date-update.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Ultima actualización<!-- -->:</span><span class="value text-secondary">{{this.home.fechaUltimaModificacion?.slice(0,10)}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.estado == 'Usado'">
                                        <div class="icon-container"><span class="ml-0 mt-1"><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/used-home.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Estado<!-- -->:</span><span class="value text-secondary">{{this.home.estado}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.estado == 'A reformar'">
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/restore-home.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Estado<!-- -->:</span><span class="value text-secondary">{{this.home.estado}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.estado == 'Obra nueva'">
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 21px; position:relative; top:2px;" src="assets/svg/tag.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Estado<!-- -->:</span><span class="value text-secondary">Nuevo</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1 ">
                                            <ion-icon *ngIf="this.home.consumo" style="font-size: 24px; position:relative; top:2px;" src={{this.intake}}></ion-icon>
                                            <ion-icon *ngIf="!this.home.consumo" style="font-size: 24px; position:relative; top:2px;" src="assets/svg/three-points.svg"></ion-icon>
                                        </span></div>
                                        <div>
                                            <span>Consumo<!-- -->:</span>
                                            <span *ngIf="this.home.consumo" class="value text-secondary"> {{this.home.consumo}}</span>
                                            <span *ngIf="!this.home.consumo" class="value text-secondary">No disponible</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1 ">
                                            <ion-icon *ngIf="this.home.emisiones" style="font-size: 24px; position:relative; top:2px;" src={{this.emissions}}></ion-icon>
                                            <ion-icon *ngIf="!this.home.emisiones" style="font-size: 24px; position:relative; top:2px;" src="assets/svg/three-points.svg"></ion-icon>
                                        </span></div>
                                        <div>
                                            <span>Emisiones<!-- -->:</span>
                                            <span *ngIf="this.home.emisiones" class="value text-secondary"> {{this.home.emisiones}}</span>
                                            <span *ngIf="!this.home.emisiones" class="value text-secondary">No disponible</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/energy-cert.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Certificado energético<!-- -->:</span>
                                              <a nz-dropdown [nzDropdownMenu]="energyMenu" *ngIf="energyImage" style="color:#8dca3f">
                                                Ver&nbsp;
                                                <i class="bi bi-chevron-down"></i>
                                              </a>
                                              <span class="text-secondary" *ngIf="!energyImage">En trámite</span>
                                              <nz-dropdown-menu #energyMenu="nzDropdownMenu">
                                                <div class="container">
                                                    <img [src]="this.energyImage" style="height: 10.8em; width: 15em;" alt="">
                                                </div>
                                              </nz-dropdown-menu>
                                        </div>
                                    </div>
                                    <div *ngIf="(this.home.emisiones && this.home.consumo)&&(this.home.emisiones.charAt(0) == 'A' && this.home.consumo.charAt(0) == 'A')">
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 19px; position:relative; top:2px;" src="assets/svg/eco-house2.svg"></ion-icon></span></div>
                                        <div>
                                            <span style="color:#8dca3f">Alta eficiencia energética<!-- --></span><span class="value text-secondary"></span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.garage > 6">
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/parking-price.svg"></ion-icon></span></div>
                                        <div>
                                            <span>Garage opcional:</span><span class="textInRow" style="color:#8dca3f;font-size:1.2em;font-weight:700;align-items: first baseline;">{{this.formatNumberWithCommas(this.home.garage)}}€&nbsp;</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="icon-container"><span class="ml-0 mt-1 "><ion-icon style="font-size: 19px; position:relative; top:2px;" src="assets/svg/house-id.svg"></ion-icon></span></div>
                                        <div>
                                            <span>ID<!-- -->:</span><span class="value text-secondary">{{this.home.viviendaId}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="features-block" *ngIf="this.home.precioAlquiler!=0 && (this.home.fianza || this.home.mascotas || this.home.disponibilidad || this.home.estanciaMinima
                            || this.home.sepuedeFumar || this.home.seadmitenParejas || this.home.seadmitenMenoresdeedad || this.home.seadmitenJubilados || this.home.seadmitenMochileros
                            || this.home.seadmiteLGTBI || this.home.propietarioviveEnlacasa || this.home.perfilCompartir || this.home.habitantesActualmente || this.home.ambiente || this.home.gastos)">
                                <h2 *ngIf="this.home.condicion=='Alquiler' || this.home.condicion=='Alquiler y venta'">En alquiler</h2>
                                <h2 *ngIf="this.home.condicion=='Compartir'">Para compartir</h2>
                                <div class="featured">
                                    <div  *ngIf="this.home.fianza">
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/fianza.svg"></ion-icon></span></div>
                                        <div><span>Fianza:</span><span class="value">{{this.home.fianza}} mes</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.disponibilidad">
                                        <div class="icon-container"><span class="icon icon-deluxe mb-2"><ion-icon style="font-size: 19px; position:relative; top:2px;" src="assets/svg/date-out.svg"></ion-icon></span></div>
                                        <div><span>Disponible a partir de:</span><span class="value">{{this.home.disponibilidad}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.mascotas=='Si'">
                                        <div class="icon-container"><span class="icon icon-deluxe mb-2"><ion-icon style="font-size: 19px; position:relative; top:2px;" src="assets/svg/pets ok.svg"></ion-icon></span></div>
                                        <div><span>Mascotas:</span><span class="value">{{this.home.mascotas}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.mascotas=='No'">
                                        <div class="icon-container"><span class="icon icon-deluxe mb-2"><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/pets no.svg"></ion-icon></span></div>
                                        <div><span>Mascotas:</span><span class="value text-danger">{{this.home.mascotas}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.mascotas=='Consultar'"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mb-2"><ion-icon style="font-size: 22px; position:relative; top:2px;" src="assets/svg/pets_question.svg"></ion-icon></span></div>
                                        <div><span>Mascotas:</span><span class="value">{{this.home.mascotas}}</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.estanciaMinima"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mb-2 mr-1"><ion-icon style="font-size: 22px; position:relative; top:2px;" src="assets/svg/document.svg"></ion-icon></span></div>
                                        <div><span>Contrato:</span><span class="value">{{this.home.estanciaMinima}}</span>
                                        </div>
                                    </div>
                                    <!--Se puede fumar-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.sepuedeFumar"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 22px; position:relative; top:2px;" src="assets/svg/smoking-ok.svg"></ion-icon></span></div>
                                        <div><span>Fumar:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.sepuedeFumar"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative; top:2px;" src="assets/svg/no-smoking.svg"></ion-icon></span></div>
                                        <div><span>Fumar:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Se admiten parejas-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.seadmitenParejas"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 22px; position:relative; top:2px;" src="assets/svg/couples-ok.svg"></ion-icon></span></div>
                                        <div><span>Se admiten parejas:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.seadmitenParejas"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/couples-no.svg"></ion-icon></span></div>
                                        <div><span>Se admiten parejas:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Se admiten menores de edad-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.seadmitenMenoresdeedad"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/teenagers-ok.svg"></ion-icon></span></div>
                                        <div><span>Se admiten menores:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.seadmitenMenoresdeedad"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/teenagers-no.svg"></ion-icon></span></div>
                                        <div><span>Se admiten menores:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Se admiten jubilados-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.seadmitenJubilados"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 26px; position:relative;" src="assets/svg/older-ok.svg"></ion-icon></span></div>
                                        <div><span>Se admiten jubilados:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.seadmitenJubilados"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/older-no.svg"></ion-icon></span></div>
                                        <div><span>Se admiten jubilados:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Se admiten mochileros-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.seadmitenMochileros"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/backpacker-ok.svg"></ion-icon></span></div>
                                        <div><span>Se admiten mochileros:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.seadmitenMochileros"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 28px; position:relative;" src="assets/svg/backpacker-no.svg"></ion-icon></span></div>
                                        <div><span>Se admiten mochileros:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Se admite LGTBI-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.seadmiteLGTBI"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/lgtbi.svg"></ion-icon></span></div>
                                        <div><span>Se admite LGTBI:</span><span class="value text-green">Si</span>
                                        </div>
                                    </div>
                                    <div *ngIf="this.home.condicion=='Compartir'&&!this.home.seadmiteLGTBI"> 
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/lgtbi.svg"></ion-icon></span></div>
                                        <div><span>Se admite LGTBI:</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Propietario vive en la casa? -->
                                    <div *ngIf="this.home.condicion=='Compartir'">
                                        <div class="icon-container"><span class="icon icon-deluxe mr-2 mb-2"><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/propietarioVive.svg"></ion-icon></span></div>
                                        <div *ngIf="this.home.propietarioviveEnlacasa">
                                            <span>El propietario vive en la casa?</span><span class="value text-green">Si</span>
                                        </div>
                                        <div *ngIf="!this.home.propietarioviveEnlacasa">
                                            <span>El propietario vive en la casa?</span><span class="value text-danger">No</span>
                                        </div>
                                    </div>
                                    <!--Perfil compartir-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.perfilCompartir"> 
                                        <div class="icon-container"><span class="icon icon-deluxe "><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/home-question.svg"></ion-icon></span></div>
                                        <div><span>Perfil deseado:</span><span class="value text-secondary">{{this.home.perfilCompartir}}</span>
                                        </div>
                                    </div>
                                    <!--Habitentes actualmente-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.habitantesActualmente"> 
                                        <div class="icon-container"><span class="icon icon-deluxe "><ion-icon style="font-size: 24px; position:relative;" src="assets/svg/people-now.svg"></ion-icon></span></div>
                                        <div><span>Habitantes actualmente:</span><span class="value text-secondary">{{this.home.habitantesActualmente}}</span>
                                        </div>
                                    </div>
                                    <!--Ambiente-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.ambiente"> 
                                        <div class="icon-container"><span class="icon icon-deluxe "><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/nirvana.svg"></ion-icon></span></div>
                                        <div><span>Ambiente:</span><span class="value text-secondary">{{this.home.ambiente}}</span>
                                        </div>
                                    </div>
                                    <!--Gastos-->
                                    <div *ngIf="this.home.condicion=='Compartir'&&this.home.gastos"> 
                                        <div class="icon-container"><span class="icon icon-deluxe "><ion-icon style="font-size: 22px; position:relative;" src="assets/svg/share-contract.svg"></ion-icon></span></div>
                                        <div><span>Gastos:</span><span class="value text-secondary">{{this.home.gastos}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- chips con las tipologías -->
                            <div class="features-block" *ngIf="this.home.model=='NewProject'&&this.home.tipos">
                                <h2>Disponible</h2>
                                <div class="row p-0">
                                    <div class="col d-flex justify-content-start ml-2 p-0"><!-- *ngFor="let opt of this.projectFeatures">-->
                                        <mat-chip-listbox class="mat-mdc-chip-list-stacked mt-2 mb-2" aria-label="Cutest spaces">
                                            @for (opt of projectFeatures; track opt) {
                                              <mat-chip-option selected disabled>{{opt}}</mat-chip-option>
                                            }
                                          </mat-chip-listbox>
                                    </div>
                                </div>
                            </div>
                             <!-- Estado del proyecto -->
                             <div class="features-block" *ngIf="this.home.model=='NewProject'&&this.home.estadoConstruccion=='EnCurso'">
                                <h2>Estado</h2>
                                <div class="col d-flex justify-content-center ml-2">
                                      <nz-steps class="mt-2" nzDirection="vertical">
                                        <nz-step nzTitle="Planificación" nzStatus="finish" [nzIcon]="iconTemplateSolution" [nzDescription]="descriptionTemplateSolution"></nz-step>
                                        <nz-step nzTitle="Inicio de ventas" [nzStatus]="this.inicioVentas" [nzIcon]="iconTemplateHome" [nzDescription]="descriptionTemplateHome"></nz-step>
                                        <nz-step nzTitle="Inicio de construcción"  [nzStatus]="this.inicioConstruccion" [nzIcon]="iconTemplateBuild" [nzDescription]="descriptionTemplateBuild"></nz-step>
                                        <nz-step nzTitle="Mudándose" [nzStatus]="this.mudandose" [nzIcon]="iconTemplateKey" [nzDescription]="descriptionTemplateKey"></nz-step>
                                      </nz-steps>
                                      <ng-template #iconTemplateSolution><span nz-icon class="text-secondary" nzType="solution"></span></ng-template>
                                      <ng-template #iconTemplateHome><span nz-icon class="text-secondary" nzType="home"></span></ng-template>
                                      <ng-template #iconTemplateBuild><span nz-icon class="text-secondary" nzType="build"></span></ng-template>
                                      <ng-template #iconTemplateKey><ion-icon style="font-size: 1.1em;" name="key-outline"></ion-icon></ng-template>
                                      <ng-template #descriptionTemplateSolution> <ion-icon style="color: #8dca3f; font-size: 1.8em;" name="checkmark-done-outline"></ion-icon> </ng-template>
                                      <ng-template #descriptionTemplateHome><span>En comercialización</span></ng-template>
                                      <ng-template #descriptionTemplateBuild>
                                        <span *ngIf="this.home.porcentajeTerminado > 0 && this.home.porcentajeTerminado < 100" class="text-secondary">Obra iniciada</span>
                                        <span *ngIf="this.home.porcentajeTerminado == 100" class="text-secondary">Obra terminada</span>
                                      </ng-template>
                                      <ng-template #descriptionTemplateKey>
                                        <h6 *ngIf="this.home.porcentajeTerminado<100" class="text-secondary textFont" style="letter-spacing: .4px;">{{this.home.finDeObra}}</h6>
                                        <nz-tag  *ngIf="this.home.porcentajeTerminado==100"  [nzColor]="'blue'">Entrega inmediata</nz-tag>
                                      </ng-template>
                                </div>
                             </div>
                            <!-- Extras -->
                            <div class="features-block">
                                <h2>Extras</h2>
                                <div class="content">
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.aireAcondicionado"><span class="icon icon-deluxe "><ion-icon style="font-size: 32px; position:relative; " src="assets/svg/aa2.svg"></ion-icon></span>Aire acondicionado</span>
                                        <span class="post" *ngIf="this.home.calefaccion"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/heating4.svg"></ion-icon></span>Calefacción</span>
                                        <span class="post" *ngIf="this.home.aerotermia"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/aerotermia2.svg"></ion-icon></span>Aerotermia</span>
                                        <span class="post" *ngIf="this.home.panelesSolares"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/solar_panels.svg"></ion-icon></span>Paneles solares</span>
                                        <span class="post" *ngIf="this.home.ventilacionCruzada"><span class="icon icon-deluxe "><ion-icon style="font-size: 32px; position:relative; " src="assets/svg/house-wind2.svg"></ion-icon></span>Ventilación cruzada</span>
                                        <span class="post" *ngIf="this.home.dobleAcristalamiento"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/two-glass2.svg"></ion-icon></span>Doble acristalamiento</span>
                                        <span class="post" *ngIf="this.home.gasNatural"><span class="icon icon-deluxe "><ion-icon style="font-size: 26px; position:relative; " src="assets/svg/flame.svg"></ion-icon></span>Gas natural</span>
                                    </div>
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.amueblado"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/furniture.svg"></ion-icon></span>Amueblado completo</span>
                                        <span class="post" [hidden]="this.home.aseoEnsuite==6" *ngIf="this.home.aseoEnsuite"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/private-shower.svg"></ion-icon></span>{{this.home.aseoEnsuite}} Aseo ensuite</span>
                                        <span class="post" *ngIf="this.home.aseoEnsuite==6"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/private-shower.svg"></ion-icon></span>+5 Aseo ensuite</span>
                                        <span class="post" *ngIf="this.home.balcon"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/balcony3.svg"></ion-icon></span>Balcón</span>
                                        <span class="post" *ngIf="this.home.terraza"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/terrace2.svg"></ion-icon></span>Terraza</span>
                                        <span class="post" *ngIf="this.home.parquet"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/pq2.svg"></ion-icon></span>Parquet</span>
                                        <span class="post" *ngIf="this.home.piscinaPrivada"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/form-ppool.svg"></ion-icon></span>Piscina en propiedad</span>
                                        <span class="post" *ngIf="this.home.armariosEmpotrados"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/locker.svg"></ion-icon></span>Armarios Empotrados</span>
                                        <span class="post" *ngIf="this.home.trastero"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/storage.svg"></ion-icon></span>Trastero</span>
                                        <span class="post" *ngIf="this.home.cabinaHidromasaje"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/shower-tabs.svg"></ion-icon></span>Cabina de hidromasaje</span>
                                    </div>
                                </div>
                            </div>
                            <div class="features-block" *ngIf="this.home.videoPortero || this.home.ascensor || this.home.zonaDeOcio || this.home.gym || this.home.padel || this.home.tenis || this.home.golf || this.home.piscinaComp || this.home.jardin || this.home.columpios || this.home.jacuzzi || this.home.sauna">
                                <h2 >Comunidad</h2>
                                <div class="content">
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.videoPortero"><span class="icon icon-deluxe "><ion-icon style="font-size: 22px; position:relative; " src="assets/svg/videoportero.svg"></ion-icon></span>Videoportero</span>
                                        <span class="post" *ngIf="this.home.ascensor"><span class="icon icon-deluxe "><ion-icon style="font-size: 26px; position:relative; " src="assets/svg/elevator2.svg"></ion-icon></span>Ascensor</span>
                                        <span class="post" *ngIf="this.home.zonaDeOcio"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/garden.svg"></ion-icon></span>Zona de ocio</span>
                                        <span class="post" *ngIf="this.home.gym"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/gym.svg"></ion-icon></span>Gimnasio</span>
                                        <span class="post" *ngIf="this.home.padel"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/padel.svg"></ion-icon></span>Padel</span>
                                        <span class="post" *ngIf="this.home.tenis"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/tennis.svg"></ion-icon></span>Tenis</span>
                                        <span class="post" *ngIf="this.home.golf"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/golf.svg"></ion-icon></span>Golf</span>
                                    </div>
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.piscinaComp"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/comunity-pool.svg"></ion-icon></span>Piscina comunitaria</span>
                                        <span class="post" *ngIf="this.home.jardin"><span class="icon icon-deluxe "><ion-icon style="font-size: 30px; position:relative; " src="assets/svg/garden-flowers2.svg"></ion-icon></span>Zonas ajardinadas</span>
                                        <span class="post" *ngIf="this.home.columpios"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/slide.svg"></ion-icon></span>Columpios</span>
                                        <span class="post" *ngIf="this.home.jacuzzi"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/jacuzzi.svg"></ion-icon></span>Jacuzzi</span>
                                        <span class="post" *ngIf="this.home.sauna"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/sauna.svg"></ion-icon></span>Sauna</span>
                                    </div>
                                </div>
                            </div>
                            <div class="features-block" *ngIf="this.home.vistasDespejadas">
                                <h2>Vistas</h2>
                                <div class="content">
                                    <div class="highlighted" *ngFor="let opt of views">
                                        <span class="post" *ngIf="opt=='Ciudad'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/city.svg"></ion-icon></span>Ciudad</span>
                                        <span class="post" *ngIf="opt=='Jardines'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/garden-views.svg"></ion-icon></span>Jardines</span>
                                        <span class="post" *ngIf="opt=='Deslunado'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/stars.svg"></ion-icon></span>Deslunado</span>
                                        <span class="post" *ngIf="opt=='Mar'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/sea.svg"></ion-icon></span>Mar</span>
                                        <span class="post" *ngIf="opt=='Piscina'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/pool-views.svg"></ion-icon></span>Piscina</span>
                                        <span class="post" *ngIf="opt=='Montaña'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/mountain.svg"></ion-icon></span>Montaña</span>
                                        <span class="post" *ngIf="opt=='Río'"><span class="icon icon-deluxe "><ion-icon style="font-size: 28px; position:relative; " src="assets/svg/river.svg"></ion-icon></span>Río</span>
                                    </div>
                                </div>
                            </div>
                            <div class="features-block" *ngIf="this.home.videoVigilancia || this.home.recepcion24_7 || this.home.generadorEmergencia
                            || this.home.alarmaIncendios || this.home.extintores  || this.home.instalacionesDiscapacitados">
                                <h2>Seguridad</h2>
                                <div class="content">
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.videoVigilancia"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/cctv.svg"></ion-icon></span>Video vigilancia</span>
                                        <span class="post" *ngIf="this.home.recepcion24_7"><span class="icon icon-deluxe "><ion-icon style="font-size: 25px; position:relative; " src="assets/svg/reception.svg"></ion-icon></span>Recepción 24/7</span>
                                        <span class="post text-nowrap" *ngIf="this.home.generadorEmergencia"><span class="icon icon-deluxe "><ion-icon style="font-size: 26px; position:relative; " src="assets/svg/highvoltage.svg"></ion-icon></span>Generador de emergencia</span>
                                    </div>
                                    <div class="highlighted">
                                        <span class="post" *ngIf="this.home.alarmaIncendios"><span class="icon icon-deluxe "><ion-icon style="font-size: 21px; position:relative; " src="assets/svg/fire_alarm.svg"></ion-icon></span>Alarma de incendios</span>
                                        <span class="post text-nowrap" *ngIf="this.home.extintores"><span class="icon icon-deluxe "><ion-icon style="font-size: 18px; position:relative;" src="assets/svg/fire_splinker.svg"></ion-icon></span>Rociadores de incendio</span>
                                        <span class="post" *ngIf="this.home.instalacionesDiscapacitados"><span class="icon icon-deluxe "><ion-icon style="font-size: 26px; position:relative; color:#666;" src="assets/svg/wheelchair.svg"></ion-icon></span>Vivienda accesible</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <!-- User not registered try to save to favorites -->
                <nz-modal nzDraggable nzCentered [(nzVisible)]="joinUsModalAd" (nzOnCancel)="handleCancel('joinUsModalAd')"
                    (nzOnOk)="handleOk('joinUsModalAd')" [(nzFooter)]="modalFooterNull">
                    <ng-container *nzModalContent>
                        <div class="restricted-message">
                            <div class="body">
                                <div class="advertisement mx-auto">
                                    <!--<div class="image">
                                        <img src="https://i.ibb.co/6YkD164/unknown-house.png" alt="Para disfrutar del chat en tiempo real cree un cuenta" />
                                        <div class="text"><h4>Todo a un click</h4></div>
                                    </div>-->
                                    <div class="padded">
                                        <div class="heading">Crear cuenta</div>
                                        <p>Acceda o registrese para guardar búsquedas y favoritos</p>
                                        <button tabindex="0" routerLink="/login" class="login only-one-button " pRipple><span class="readmore-button-label">ENTRAR</span></button>
                                        <button tabindex="0" routerLink="/register" class="register only-one-button " pRipple><span class="readmore-button-label">REGISTRARSE</span></button>
                                        <p class="privacy">
                                            Al continuar acepta nuestra política de privacidad <a (click)="showModal('privatePolicy')" > Política de privacidad</a>.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                  </nz-modal>

                  <!--Privacy policy-->
                  <nz-modal [(nzVisible)]="policyModal" nzTitle="Términos y preferencias" (nzOnCancel)="handleCancel('privatePolicy')"
                    (nzOnOk)="handleOk('privatePolicy')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull">
                    <p *nzModalContent>Recopilaremos y utilizaremos su información personal (que puede incluir cookies
                        que recopilamos a través de su uso de myhouse.com y nuestros otros sitios web) para
                        brindarle una experiencia de usuario personalizada (por ejemplo, si está anunciando
                        una propiedad, podemos recomendarle ofrecerle productos para optimizar el rendimiento
                        de su búsqueda o, si está buscando una propiedad, podemos recomendarle propiedades
                        que puedan interesarle). También podemos comunicarnos con usted para promocionar nuestros
                        servicios o los de terceros. Nuestra Política de Privacidad explica con más detalle cómo
                        recopilamos, utilizamos y divulgamos información personal y cómo acceder, corregir o
                        presentar quejas sobre el manejo de información personal.</p>
                  </nz-modal>
                   <div>
                    <div class="hidden">
                        <!--Cost renovation-->
                        <section *ngIf="(this.home.condicion=='Venta'||this.home.condicion=='Alquiler y venta')&&this.home.estado!='Obra nueva'">
                            <h2>Calcula tu reforma</h2>
                            <div id="renovation-calculator" class="renovation-calculator">
                                <div>
                                    <div class="renovation-container">
                                            <div class="renovation-box">
                                                    <label class="custom-radio mx-2">
                                                        <input type="radio" name="radio" checked>
                                                        <span class="radio-btn"><i class="bi bi-check2"></i>
                                                          <div class="hobbies-icon mt-5">
                                                            <ion-icon style=" position:relative;" src="assets/svg/kitchen.svg"></ion-icon>
                                                            <h3 class="">Cocina</h3>
                                                          </div>
                                                        </span>
                                                      </label>
                                                    <label class="custom-radio mx-2">
                                                        <input type="radio" name="radio" >
                                                        <span class="radio-btn"><i class="bi bi-check2"></i>
                                                          <div class="hobbies-icon mt-5">
                                                            <ion-icon style=" position:relative;" src="assets/svg/shower-head.svg"></ion-icon>                                                  
                                                              <h3 class="">Aseo</h3>
                                                          </div>
                                                        </span>
                                                      </label>
                                                    <label class="custom-radio mx-2">
                                                        <input type="radio" name="radio" >
                                                        <span class="radio-btn"><i class="bi bi-check2"></i>
                                                          <div class="hobbies-icon mt-5">
                                                            <ion-icon style=" position:relative;" src="assets/svg/paint-int.svg"></ion-icon>                                                  
                                                              <h3 class="">Pintura</h3>
                                                          </div>
                                                        </span>
                                                      </label>
                                                    <label class="custom-radio mx-2">
                                                        <input type="radio" name="radio" >
                                                        <span class="radio-btn"><i class="bi bi-check2"></i>
                                                          <div class="hobbies-icon mt-5">
                                                            <ion-icon style=" position:relative;" src="assets/svg/full-reform.svg"></ion-icon>                                                  
                                                              <h3 class="">Completo</h3>
                                                          </div>
                                                        </span>
                                                      </label>
                                        </div>
                                        <div class="inline-container">
                                            <div>
                                                <button class="send-button" (click)="showModal('restoreModal')" pRipple>Continuar</button>
                                            </div>
                                            <div class="sc-ylxlbb-6 lnCoUF"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <nz-modal
                        nzDraggable
                        nzCentered
                        [(nzVisible)]="restoreModal"
                        nzTitle="Draggable Modal"
                        (nzOnCancel)="handleCancel('restoreModal')"
                        (nzOnOk)="handleOk('restoreModal')">
                        <ng-container *nzModalContent>
                          <p>Just don't learn physics at school and your life will be full of magic and miracles.</p>
                          <p>Day before yesterday I saw a rabbit, and yesterday a deer, and today, you.</p>
                        </ng-container>
                      </nz-modal>
                        
                        <section id="map" >
                            <h2>Conozca la zona</h2>
                            <div class="content">
                                <div class="filters">
                                    <nz-tabset>
                                        <!--Colegios-->
                                        <nz-tab nzTitle="Colegios">
                                            <div class="table-responsive-sm">
                                            <table class="table table-sm">
                                                <thead>
                                                  <tr>
                                                    <th class="text-muted">Nombre</th>
                                                    <th class="text-muted">Enseñanza</th>
                                                    <th class="text-muted">Institución</th>
                                                    <th class="text-muted">Página web</th>
                                                    <th class="text-muted">Distancia</th>
                                                    <th class="text-muted">Tiempo</th>
                                                    <th class="text-muted">Como llegar</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr *ngFor="let data of this.colegio; let i = index">
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow">{{ data.nombre }}</td>
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow">{{ data.ensenyanza }}</td>
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow">{{ data.institucion }}</td>
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow"><a href="{{data.web}}">Ir a</a></td>
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow">{{ data.distancia}}</td>
                                                    <td *ngIf="this.colegio[i].lat != ''" class="text-secondary textInRow">{{ data.tiempo}}</td>
                                                    <td *ngIf="this.colegio[i].lat != ''" ><button (click)="setAdRoute(this.colegio[i].lat, this.colegio[i].lng, '#808080', this.sc, i, mapAdd)" pRipple style="height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="car-outline"></ion-icon></button></td><!---->
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                        </nz-tab>
                                        <!--Colegios-->
                                        <nz-tab nzTitle="Universidades">
                                            <div class="table-responsive-sm">
                                            <table class="table table-sm">
                                                <thead>
                                                  <tr>
                                                    <th class="text-muted">Nombre</th>
                                                    <th class="text-muted">Rama de conocimiento</th>
                                                    <th class="text-muted">Institución</th>
                                                    <th class="text-muted">Página web</th>
                                                    <th class="text-muted">Distancia</th>
                                                    <th class="text-muted">Tiempo</th>
                                                    <th class="text-muted">Como llegar</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr *ngFor="let data of this.universidad; let i = index">
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow">{{ data.nombre }}</td>
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow">{{ data.rama }}</td>
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow">{{ data.institucion }}</td>
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow"><a href="{{data.web}}">Ir a</a></td>
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow">{{ data.distancia}}</td>
                                                    <td *ngIf="this.universidad[i].lat != ''" class="text-secondary textInRow">{{ data.tiempo}}</td>
                                                    <td *ngIf="this.universidad[i].lat != ''" ><button (click)="setAdRoute(this.universidad[i].lat, this.universidad[i].lng, '#128c7e', this.uni, i, mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="car-outline"></ion-icon></button></td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                        </nz-tab>
                                        <nz-tab nzTitle="Supermercados">
                                            <div class="table-responsive-sm">
                                                <table class="table table-sm">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-muted">Nombre</th>
                                                        <th class="text-muted">Distancia</th>
                                                        <th class="text-muted">Tiempo</th>
                                                        <th class="text-muted">Como llegar</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let data of this.mercados; let i = index">
                                                        <td *ngIf="this.mercados[i].lat != ''" class="text-secondary textInRow">{{ data.nombre }}</td>
                                                        <td *ngIf="this.mercados[i].lat != ''" class="text-secondary textInRow">{{ data.distancia }}</td>
                                                        <td *ngIf="this.mercados[i].lat != ''" class="text-secondary textInRow">{{ data.tiempo }}</td>
                                                        <td *ngIf="this.mercados[i].lat != ''" ><button (click)="setAdRoute(this.mercados[i].lat, this.mercados[i].lng, '#6f5e53', this.mki, i, mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="car-outline"></ion-icon></button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                            </div>
                                        </nz-tab>
                                        <nz-tab nzTitle="Autobuses">
                                            <div class="table-responsive-sm">
                                                <table class="table table-sm">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-muted">Parada</th>
                                                        <th class="text-muted">Líneas</th>
                                                        <th class="text-muted">Distancia</th>
                                                        <th class="text-muted">Tiempo</th>
                                                        <th class="text-muted">Como llegar</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let data of this.autobus; let i = index">
                                                        <td *ngIf="this.autobus[i].lat != ''" class="text-secondary textInRow">{{ data.parada }}</td>
                                                        <td *ngIf="this.autobus[i].lat != ''" class="text-secondary textInRow">{{ data.lineas }}</td>
                                                        <td *ngIf="this.autobus[i].lat != ''" class="text-secondary textInRow">{{ data.distancia }}</td>
                                                        <td *ngIf="this.autobus[i].lat != ''" class="text-secondary textInRow">{{ data.tiempo }}</td>
                                                        <td *ngIf="this.autobus[i].lat != ''" ><button (click)="setAdRoute(this.autobus[i].lat, this.autobus[i].lng, '#960018', this.busic, i, mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="walk-outline"></ion-icon></button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                            </div>
                                        </nz-tab>
                                        <nz-tab nzTitle="Metro">
                                            <div class="table-responsive-sm">
                                                <table class="table table-sm">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-muted">Parada</th>
                                                        <th class="text-muted">Líneas</th>
                                                        <th class="text-muted">Distancia</th>
                                                        <th class="text-muted">Tiempo</th>
                                                        <th class="text-muted">Como llegar</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let data of this.metro; let i = index">
                                                        <td *ngIf="this.metro[i].lat != ''" class="text-secondary textInRow">{{ data.parada }}</td>
                                                        <td *ngIf="this.metro[i].lat != ''" class="text-secondary textInRow">{{ data.lineas }}</td>
                                                        <td *ngIf="this.metro[i].lat != ''" class="text-secondary textInRow">{{ data.distancia }}</td>
                                                        <td *ngIf="this.metro[i].lat != ''" class="text-secondary textInRow">{{ data.tiempo }}</td>
                                                        <td *ngIf="this.metro[i].lat != ''" ><button (click)="setAdRoute(this.metro[i].lat, this.metro[i].lng, '#d6a323', this.swi, i, mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="walk-outline"></ion-icon></button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                            </div>
                                        </nz-tab>
                                        <nz-tab nzTitle="Playa">
                                            <div class="table-responsive-sm">
                                                <table class="table table-sm">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-muted">Nombre</th>
                                                        <th class="text-muted">Distancia</th>
                                                        <th class="text-muted">Tiempo</th>
                                                        <th class="text-muted">Como llegar</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let data of this.beach; let i = index">
                                                        <td *ngIf="(this.beach[i].lat != '')" class="text-secondary textInRow">{{ data.nombre }}</td>
                                                        <td *ngIf="(this.beach[i].lat != '')" class="text-secondary textInRow">{{ data.distancia }}</td>
                                                        <td *ngIf="(this.beach[i].lat != '')" class="text-secondary textInRow">{{ data.tiempo }}</td>
                                                        <td *ngIf="(this.beach[i].lat != '')" ><button (click)="setAdRoute(this.beach[i].lat, this.beach[i].lng, 'dodgerblue', this.bch, i,mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="car-outline"></ion-icon></button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                            </div>
                                        </nz-tab>
                                        <nz-tab nzTitle="Aeropuerto">
                                            <div class="table-responsive-sm">
                                                <table class="table table-sm">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-muted">Nombre</th>
                                                        <th class="text-muted">Distancia</th>
                                                        <th class="text-muted">Tiempo</th>
                                                        <th class="text-muted">Como llegar</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let data of this.aeropuerto; let i = index">
                                                        <td *ngIf="(this.aeropuerto[i].lat != '')" class="text-secondary textInRow">{{ data.nombre }}</td>
                                                        <td *ngIf="(this.aeropuerto[i].lat != '')" class="text-secondary textInRow">{{ data.distancia }}</td>
                                                        <td *ngIf="(this.aeropuerto[i].lat != '')" class="text-secondary textInRow">{{ data.tiempo }}</td>
                                                        <td *ngIf="(this.aeropuerto[i].lat != '')" ><button (click)="setAdRoute(this.aeropuerto[i].lat, this.aeropuerto[i].lng, '#3200ff', this.airp, i,mapAdd)" pRipple style=" height: 20px;" class="btnDistancia btn btn-secondary"><ion-icon style="font-size: 16px; bottom:2px; position:relative;" name="car-outline"></ion-icon></button></td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                            </div>
                                        </nz-tab>
                                    </nz-tabset>
                                </div>
                                    <!-- Leaflet map -->
                                    <div id="mapAdd" #mapAdd></div>
                            </div>
                        </section>
                        <section id="profiles" class="videoAdd ">
                            <!--Youtube video-->
                            <h2 *ngIf="this.home.video">Video</h2>
                                <div *ngIf="this.home.video" class="video-container">
                                <iframe [src]="getTrustedUrl()" width="100%" height="100%"></iframe>
                            </div>
                        </section>

                        <section id="mortgage-calculator" *ngIf="this.home.condicion=='Venta' || this.home.condicion=='Alquiler y venta'">
                            <h2>Financiación</h2>
                            <nz-collapse nzAccordion>
                                  <nz-collapse-panel [nzHeader]="'Personalizar'" >
                                        <div class="container">
                                            <div class="mt-2 d-flex flex-column flex-lg-row justify-content-around">
                                                <div class="col">
                                                    <div class="d-flex flex-column mx-3">
                                                        <label for="interes" class="input-title">Interés %</label>
                                                        <nz-input-group [nzSuffix]="suffixIconPercentage" [nzSize]="sizeL">
                                                                <input nz-input [nzSize]="sizeL" type="text" [disabled]="true"  name="interes"  [(ngModel)]="this.interes" class="w-full "/>
                                                        </nz-input-group>
                                                            <ng-template #suffixIconPercentage>
                                                                <ion-icon style="font-size: 1em; position:relative;" src="assets/svg/percent-up.svg"></ion-icon>
                                                            </ng-template>
                                                        <p-slider [(ngModel)]="this.interes" (onChange)="this.calculeMortgage()" [step]=".1" [min]=".1" [max]="30"  class="w-full" />
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="d-flex flex-column mx-3">
                                                        <label for="anyos" class="input-title">Años</label>
                                                        <nz-input-group [nzSuffix]="suffixIconYears" [nzSize]="sizeL">
                                                            <input nz-input [nzSize]="sizeL" [disabled]="true"  type="text" name="anyos"  [(ngModel)]="this.anyos" class="w-full"/>
                                                        </nz-input-group>
                                                        <ng-template #suffixIconYears>
                                                            <ion-icon style="font-size: 1.2em; position:relative;" src="assets/svg/time.svg"></ion-icon>
                                                        </ng-template>
                                                        <p-slider [(ngModel)]="this.anyos" [min]="1" (onChange)="this.calculeMortgage()" class="w-full" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="mt-4 d-flex flex-column flex-lg-row justify-content-around">
                                                <div class="col">
                                                    <div class="d-flex flex-column mx-3">
                                                        <label for="entrada" class="input-title">Entrada</label>
                                                        <nz-input-group [nzSuffix]="suffixIconSavings" [nzSize]="sizeL">
                                                        <input nz-input [nzSize]="sizeL" [disabled]="true"  type="text" name="entrada"  [(ngModel)]="this.entrada" class="w-full"/>
                                                        </nz-input-group>
                                                        <ng-template #suffixIconSavings>
                                                            <ion-icon style="font-size: 1.4em; position:relative;" src="assets/svg/savings.svg"></ion-icon>
                                                        </ng-template>
                                                        <p-slider [(ngModel)]="this.entrada" (onChange)="this.calculeMortgage()" [step]="1000" [min]="0" [max]="this.home.precioFinal" class="w-full" />
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="d-flex flex-column mx-3">
                                                        <label for="iva" class="input-title">IVA&nbsp;&nbsp;<i nz-tooltip [nzTooltipTrigger]="'click'"
                                                            nzTooltipTitle="El IVA o ITP varía dependiendo de la provincia entre
                                                            0.04 (4%) y 0.1 (10%)" class="bi bi-info-square"></i></label>
                                                            <nz-input-group [nzSuffix]="suffixIconPercentage" [nzSize]="sizeL">
                                                        <input nz-input [nzSize]="sizeL" type="text" name="iva" [disabled]="true"   [(ngModel)]="this.iva" class="w-full "/>
                                                            </nz-input-group>
                                                        <p-slider [(ngModel)]="this.iva" (onChange)="this.calculeMortgage()" [step]=".01" [min]=".04" [max]=".1"  class="w-full" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="mt-3 d-flex flex-column flex-lg-row justify-content-around">
                                                 <!--results-->
                                                 <div class="col">
                                                    <div class="d-flex mx-auto mt-2 flex-column w-100">
                                                        <div class="container">
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100 list-group-item-secondary">Precio</li>
                                                                <li class="list-group-item w-100 textFont">{{this.stringToNumber(this.home.precioFinal).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100 ">Entrada</li>
                                                                <li class="list-group-item w-100 list-group-item-secondary textFont">{{this.stringToNumber(this.entrada).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100 list-group-item-secondary">Total a financiar</li>
                                                                <li class="list-group-item w-100 textFont">{{this.stringToNumber(this.importeAFinanciar).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100">Total con intereses</li>
                                                                <li class="list-group-item w-100 list-group-item-secondary textFont">{{this.stringToNumber(this.importeFinanciado).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100 list-group-item-secondary">Pago mensual</li>
                                                                <li class="list-group-item w-100 textFont">{{this.stringToNumber(this.pagoMensual).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100">Otros gastos&nbsp;&nbsp;<i class="bi bi-info-square" (click)="this.showModal('mortgageModal')"></i></li>
                                                                <li class="list-group-item w-100 list-group-item-secondary textFont">{{this.stringToNumber(this.otherCosts(0)).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                            <ul class="list-group list-group-horizontal">
                                                                <li class="list-group-item w-100 list-group-item-success"><span class="text-dark" style="color:black;">Total aproximado</span></li>
                                                                <li class="list-group-item w-100 textFont text-green">{{this.stringToNumber(this.otherCosts(this.importeFinanciado)).toLocaleString('es-ES', {
                                                                    style: 'currency',
                                                                    currency: 'EUR'}).slice(0, -5)}}&nbsp;€</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                 </div>
                                                 <div class="col">
                                                    <div class="canvas d-flex mx-auto mt-2">
                                                        <canvas baseChart #baseChart [data]="this.doughnutChartData" [type]="this.doughnutChartType"></canvas>
                                                    </div>
                                                 </div>
                                            </div>
                                        </div>
                                    </nz-collapse-panel>
                              </nz-collapse>

                            <nz-modal [(nzVisible)]="mortgageModal" nzTitle="Gastos e impuestos" (nzOnCancel)="handleCancel('mortgageModal')"
                            (nzOnOk)="handleOk('mortgageModal')" [nzOkLoading]="isOkLoading" [(nzFooter)]="modalFooterNull">
                            <ng-container *nzModalContent class="text-center">
                                <table class="table" >
                                    <thead>
                                      <tr>
                                        <th scope="col" class="text-muted">IVA</th>
                                        <th scope="col" class="text-muted">Registro</th>
                                        <th scope="col" class="text-muted">Notaría</th>
                                        <th scope="col" class="text-muted">Gestoría</th>
                                        <th scope="col" class="text-muted">Total aprox.</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr>
                                        <th scope="row" class="textFont text-secondary">{{this.calcIva(this.iva).toLocaleString('es-ES', {
                                            style: 'currency',
                                            currency: 'EUR'}).slice(0, -5)}}&nbsp;€</th>
                                        <td class="textFont text-secondary">{{this.calcRegistroPropiedad().toLocaleString('es-ES', {
                                            style: 'currency',
                                            currency: 'EUR'}).slice(0, -5)}}&nbsp;€</td>
                                        <td class="textFont text-secondary">{{this.notaria.toLocaleString('es-ES', {
                                            style: 'currency',
                                            currency: 'EUR'}).slice(0, -5)}}&nbsp;€</td>
                                        <td class="textFont text-secondary">{{this.gestoria.toLocaleString('es-ES', {
                                            style: 'currency',
                                            currency: 'EUR'}).slice(0, -5)}}&nbsp;€</td>
                                        <td class="textFont text-secondary">{{this.stringToNumber(this.otherCosts(0)).toLocaleString('es-ES', {style: 'currency',
                                            currency: 'EUR'}).slice(0, -5)}}&nbsp;€</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </ng-container>
                          </nz-modal>
                            
                        </section>

                        <section id="fancybox">
                            <h2>Similares en {{this.home.distrito}}</h2>
                            <!--Carousel slick primeng-->
                            <p-carousel [value]="this.homes" [numVisible]="3" [numScroll]="3" [circular]="true" [responsiveOptions]="responsiveOptions" 
                            class="mx-auto p-1 justify-content-center">
                                <ng-template let-home pTemplate="item" let-i="index" class="mx-auto p-1 justify-content-center">
                                    <div class="col d-flex flex-row my-auto" >
                                        <div class=" teaser-tile mt-2 mx-2 border" >
                                            <span class="favorite favorite-need-login" >
                                              <div class="wrapperDemo">
                                                <input [checked]="false" (change)="cuoreLikeFeature(home.viviendaId,home,$event)" class="red-heart-checkbox" #redheartcheckboxcard id="{{home.viviendaId}}card" type="checkbox">
                                                <label for="{{home.viviendaId}}card"></label>
                                              </div>
                                            </span>
                                            <div class="flex-grow-1 " >
                                                <div class="with-img" style="position: relative;">
                                                    <p-galleria [(value)]="home.images" [circular]="true" [showIndicators]="false"  [showItemNavigators]="true" [showThumbnails]="false" [responsiveOptions]="responsiveOptions2" [containerStyle]="{ 'max-width': '640px' }">
                                                        <ng-template pTemplate="item" let-item>
                                                            <img [src]="item.imageUrl" style="width: 100%; display: block;" />
                                                        </ng-template>
                                                    </p-galleria>
                                                </div>
                                                <div class="desc">
                                                    <div class="teaser-title fs-base color-info mt-1 mx-3 d-flex flex-row-reverse"> <span class="text-secondary">{{home.tipo}}</span> </div>
                                                    <div class="route mx-2">{{home.calle}} <span style="color:#d9d9d9">|</span> {{home.distrito}} <span style="color:#d9d9d9">|</span> {{home.ciudad}}</div>
                                                    <div class="units mx-2">
                                                        <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="beds">
                                                          <ion-icon style="font-size: 1em; position:relative; color:#98a3b2;" name="bed-outline"></ion-icon>
                                                            <span style="font-size: 0.8em;">{{home.habitaciones}}</span>
                                                        </div>
                                                        <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="area">
                                                          <ion-icon style="font-size: 0.8em; position:relative; color:#98a3b2; top:-2px;"  name="expand-outline"></ion-icon>
                                                            <span style="font-size: 0.8em;">{{home.superficie}}m²</span>
                                                        </div>
                                                        <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="bath">
                                                          <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" src="assets/svg/card-toilet.svg"></ion-icon>
                                                            <span style="font-size: 0.8em; margin-left: 2px;">{{home.aseos}}</span>
                                                        </div>
                                                        <div *ngIf="home.orientacion" class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="facing">
                                                          <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" src="assets/svg/card-facing.svg"></ion-icon>
                                                            <span style="font-size: 0.8em; margin-left: 2px;">{{home.orientacion}}</span>
                                                        </div>
                                                        <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="card-spaces">
                                                          <ion-icon style="font-size: 0.9em; position:relative; color:#98a3b2; top:-1px;" name="car-sport-outline"></ion-icon>
                                                            <span style="font-size: 0.8em; margin-left: 2px;">{{home.garage}}</span>
                                                        </div>
                                                        <div class="unit-item mx-1" data-toggle="tooltip" data-placement="top" title="year">
                                                          <ion-icon style="font-size: 0.7em; position:relative; color:#98a3b2; top:-1px;" name="hammer-outline"></ion-icon>
                                                            <span style="font-size: 0.8em; margin-left: 2px;">{{home.antiguedad}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="txt h-100p b-none pt-0">
                                                    <div class="clamp-3" (click)="runAdCard(home,'ad')">{{home.descripcion}}</div><!--onclick="print()"-->
                                                </div>
                                                <div class="price">
                                                    <div class="price-item">
                                                      {{formatNumberWithCommas(home.precioFinal)+'€'}}
                                                    </div>
                                                </div>
                                                <!--<div class="social-actions">
                                                    <div class="like-item">
                                                      <ion-icon name="heart-outline"></ion-icon>
                                                          <div class="social-counter" data-counter="1">1</div>
                                                      </div>
                                                    <div class="superlike-item">
                                                      <ion-icon name="heart-outline"></ion-icon>
                                                        <div class="social-counter" data-counter="0"></div>
                                                    </div>
                                                    <div class="d-flex flex-grow-1 justify-content-end">
                                                        <div class="recommend-item" >
                                                            <div class="social-title">Recommend</div>
                                                            <ion-icon name="thumbs-up-outline"></ion-icon>
                                                            <div class="social-counter" data-counter="0"></div>
                                                        </div>
                                                    </div>
                                                </div>-->
                                              </div>
                                            <!--<div class="txt color-black b-none pt-4">
                                                <div class="contacts listing-contacts-block">
                                                    <div class="buttons">
                                                        <a class="btn btn-sm w-100p btn-outline-primary">
                                                          <ion-icon name="thumbs-up-outline"></ion-icon>
                                                            <span class="text-truncate ml-6">Mensaje</span>
                                                        </a>
                                                    </div>
                                                    <div class="col-auto overflow-hidden">
                                                      <div class="btn btn-sm w-100p btn-primary show-contacts-btn" >
                                                        <ion-icon name="call-outline"></ion-icon>
                                                      </div>
                                                  </div>
                                                </div>
                                            </div>-->
                                        </div>
                                    </div>
                                </ng-template>
                            </p-carousel>
                        </section>
                    </div>
                    <!---->
                </div>
            </div>
        </main>
        <!--contact form-->
        <aside class="header-contact-form mb-2" >
            <div id="chat-box-goto" class="chat-box  chat-contact-form " style="border-radius: 10px 10px 10px 10px;">
                <div class="agent-info border border-bottom-0 text-center" id="agent-info"
                *ngIf='this.brandingColor!=null || this.brandingColor!=undefined' [style.background-color]="this.brandingColor">
                    <picture class="pictureBranding mx-auto" *ngIf='this.brandingImage!=null || this.brandingImage!=undefined'>
                        <img class="branding-image-card" [src]="this.brandingImage" alt="">
                    </picture>
                </div>
                <div class="agent-info border border-bottom-0" id="agent-info2"
                *ngIf='this.brandingColor==null || this.brandingColor==undefined' >
                </div>
                <div class="actions" style="display: block;">
                    <div class="actions-content border border-top-0" style="border-radius: 0 0 10px 10px;">
                        <form #contactMessageForm="ngForm" name="form" id="contactMessageForm" (ngSubmit)="contactMessageForm.form.valid && contactMessage()" class="content" style="padding-top: 0px; display: block; flex-direction: column; justify-content: space-between; height: 100%;">
                            <div class="main-contact-form ">
                                <!--<div style="display: flex; justify-content: space-between;"> Para introducir el nombre en plan nombre compuesto
                                    firstname
                                    <div style="flex: 0 0 calc(50% - 5px); max-width: calc(50% - 5px);">
                                        <div class="field email-modal-name email-textfield">
                                            <span class=" icon-textfield">
                                                <svg viewBox="0 0 20 20" class="svg-styles">
                                                    <path
                                                        d="M7.725,2.146c-1.016,0.756-1.289,1.953-1.239,2.59C6.55,5.515,6.708,6.529,6.708,6.529s-0.313,0.17-0.313,0.854C6.504,9.1,7.078,8.359,7.196,9.112c0.284,1.814,0.933,1.491,0.933,2.481c0,1.649-0.68,2.42-2.803,3.334C3.196,15.845,1,17,1,19v1h18v-1c0-2-2.197-3.155-4.328-4.072c-2.123-0.914-2.801-1.684-2.801-3.334c0-0.99,0.647-0.667,0.932-2.481c0.119-0.753,0.692-0.012,0.803-1.729c0-0.684-0.314-0.854-0.314-0.854s0.158-1.014,0.221-1.793c0.065-0.817-0.398-2.561-2.3-3.096c-0.333-0.34-0.558-0.881,0.466-1.424C9.439,0.112,8.918,1.284,7.725,2.146z"
                                                    ></path>
                                                </svg>
                                            </span>
                                            <label name="firstName" class="email-textfield">
                                                <span class="name-tag-textfield">
                                                    <input [(ngModel)]="this.contactUser.firstName" type="text" id="firstName" #firstName="ngModel"
                                                    required name="firstName" class="name-input-textfield form-control" placeholder="Nombre"/>
                                                    <span class="help-block" *ngIf="firstName.invalid && firstName.touched" style="color:red;">Introduzca su nombre</span>
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div style="flex: 0 0 calc(50% - 5px); max-width: calc(50% - 5px);">
                                        <div class="field email-modal-name email-textfield">
                                            <label name="name" class="email-textfield">
                                                <span class="name-tag-textfield">
                                                    <input [(ngModel)]="this.contactUser.lastName" type="text" id="lastName" #lastName="ngModel"
                                                     style="text-indent: 10px;" name="name" class="name-input-textfield form-control" placeholder="Apellido"/></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>-->
                                <!--name-->
                                <div class="field email-modal-name email-textfield">
                                    <span class=" icon-textfield">
                                        <svg viewBox="0 0 20 20" class="svg-styles">
                                            <path
                                                d="M7.725,2.146c-1.016,0.756-1.289,1.953-1.239,2.59C6.55,5.515,6.708,6.529,6.708,6.529s-0.313,0.17-0.313,0.854C6.504,9.1,7.078,8.359,7.196,9.112c0.284,1.814,0.933,1.491,0.933,2.481c0,1.649-0.68,2.42-2.803,3.334C3.196,15.845,1,17,1,19v1h18v-1c0-2-2.197-3.155-4.328-4.072c-2.123-0.914-2.801-1.684-2.801-3.334c0-0.99,0.647-0.667,0.932-2.481c0.119-0.753,0.692-0.012,0.803-1.729c0-0.684-0.314-0.854-0.314-0.854s0.158-1.014,0.221-1.793c0.065-0.817-0.398-2.561-2.3-3.096c-0.333-0.34-0.558-0.881,0.466-1.424C9.439,0.112,8.918,1.284,7.725,2.146z"
                                            ></path>
                                        </svg>
                                    </span>
                                    <label name="email" class="email-textfield">
                                        <span class="name-tag-textfield">
                                            <input [(ngModel)]="this.contactUser.fromName" name="name" type="text" id="name" placeholder="Nombre" class="name-input-textfield form-outline"
                                             #name="ngModel" required />
                                             <span class="help-block" *ngIf="name.invalid && name.touched" style="color:red;">Introduzca su nombre</span>
                                        </span>
                                    </label>
                                </div>
                                <!--phone-->
                                <div class="field email-modal-name email-textfield">
                                    <label name="phone" class="email-textfield">
                                        <span class="name-tag-textfield">
                                            <input [(ngModel)]="this.contactUser.phone" type="tel" id="phone" #phone placeholder="Teléfono -opcional-" class="name-input-textfield PhoneInputInput inputPhone" (keypress)="numberOnly($event)">
                                        </span>
                                    </label>
                                </div>
                                <!--email-->
                                <div class="field email-modal-name email-textfield">
                                    <span class=" icon-textfield">
                                        <svg viewBox="0 0 20 20" class="svg-styles">
                                            <path
                                                d="M1.574,5.286c0.488,0.262,7.248,3.894,7.5,4.029C9.326,9.45,9.652,9.514,9.98,9.514c0.328,0,0.654-0.064,0.906-0.199s7.012-3.767,7.5-4.029C18.875,5.023,19.337,4,18.44,4H1.521C0.624,4,1.086,5.023,1.574,5.286z M18.613,7.489c-0.555,0.289-7.387,3.849-7.727,4.027s-0.578,0.199-0.906,0.199s-0.566-0.021-0.906-0.199S1.941,7.777,1.386,7.488C0.996,7.284,1,7.523,1,7.707S1,15,1,15c0,0.42,0.566,1,1,1h16c0.434,0,1-0.58,1-1c0,0,0-7.108,0-7.292S19.004,7.285,18.613,7.489z"
                                            ></path>
                                        </svg>
                                    </span>
                                    <label name="email" class="email-textfield">
                                        <span class="name-tag-textfield">
                                            <input [(ngModel)]="this.contactUser.fromAddress" name="email" [email]="true" id="email" placeholder="Dirección email" class="name-input-textfield form-outline"
                                             #email="ngModel" required />
                                             <span class="help-block" *ngIf="email.invalid && email.touched" style="color:red;">Introduzca un email válido</span>
                                        </span>
                                    </label>
                                </div>
                                <!--mensaje-->
                                <div class="field email-modal-message email-textfield">
                                    <span class="icon-textfield">
                                        <svg viewBox="0 0 20 20" class="svg-styles">
                                            <path
                                                d="M17.561,2.439c-1.442-1.443-2.525-1.227-2.525-1.227L8.984,7.264L2.21,14.037L1.2,18.799l4.763-1.01l6.774-6.771l6.052-6.052C18.788,4.966,19.005,3.883,17.561,2.439z M5.68,17.217l-1.624,0.35c-0.156-0.293-0.345-0.586-0.69-0.932c-0.346-0.346-0.639-0.533-0.932-0.691l0.35-1.623l0.47-0.469c0,0,0.883,0.018,1.881,1.016c0.997,0.996,1.016,1.881,1.016,1.881L5.68,17.217z"
                                            ></path>
                                        </svg>
                                    </span>
                                    <textarea [(ngModel)]="this.contactUser.message" #message="ngModel" required name="message" type="text" id="message" rows="2" class="form-outline name-input-textfield textareaForm description-box" placeholder="Mensaje"></textarea> 
                                    <span class="help-block" *ngIf="message.invalid && message.touched" style="color:red;">Introduzca su mensaje</span>                               
                                </div>
                                <!--private policy-->
                                <ng-container>
                                        <div class="row">
                                            <div class="col-12 d-flex flex-row ">
                                                <input class="mt-1" type="checkbox" [(ngModel)]="this.privatePolicy" (change)="checkBox(this.privatePolicy?true:false)" name="acceptTerms" id="acceptTerms" 
                                                #acceptTerms="ngModel" [ngClass]="{ 'is-invalid': contactMessageForm.submitted && acceptTerms.invalid }" required><span class="ml-2 mr-1">Acepto los</span><a (click)="showModal('privatePolicy')" style="color:#8dca3f;">terminos</a>
                                            </div>
                                        </div>
                                </ng-container>
                            </div>
                            <hr class="button-send-enquiry multihr" />
                            <button tabindex="0" class="buttonForm submit-enquiry submit-enquiry-button-buy send-enquiry" pRipple [disabled]="contactMessageForm.invalid || showLoading "
                            (click)="contactMessageForm.ngSubmit.emit()">
                                <span *ngIf="showLoading" class="spinner-grow text-light" role="status"
                                        style="width: 1.5rem; height: 1.5rem; margin-top: 7px;">
                                </span>
                                <span class="readmore-button-label" pRipple *ngIf="!showLoading">Enviar consulta</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </aside>
    </div>
    <ngx-loading [show]="this.showLoading" [config]="{ backdropBorderRadius: '3px',
    animationType: ngxLoadingAnimationTypes.rectangleBounce, }"
[template]="customLoadingTemplate"></ngx-loading>
     </div>
    <!--Footer-->
    <footer class="main-footer ">
        <div class="footer-container ">
            <div class="footer-body-row ">
                <div class="img-footer-container">
                    <a aria-label="Link to homepage" routerLink="/"><!--<img alt="Logo" src="" width="218.90547263681592" height="44" style="height: 44px; width: 218.905px; display: block;" />--></a>
                    <div class="contact-us" style="flex: 3 1 0%;">
                        <div class="contacts">
                            <div class="contact"><span class="icon"><ion-icon name="people-outline"></ion-icon></span>&nbsp;Plaza del ayuntamiento 1, Valencia 46001</div>
                            <div class="contact"><span class="icon"><ion-icon name="call-outline"></ion-icon></span><a class="footer-phone-details">&nbsp;+34666666666</a></div>
                        </div>
                    </div>
                </div>
                <div style="text-align: right;">
                    <a class="footer-service-details">Acerca de nosotros</a><a routerLink="/vlog" class="footer-service-details">Anúnciese con nosotros</a><a routerLink="/contact" class="footer-service-details">Contacto</a>
                    <a class="footer-service-details">Únete a nuestro equipo</a><a class="footer-service-details">Legal</a><a routerLink="/privacy-policy" class="footer-service-details">Privacidad</a><a routerLink="/sitemap" class="footer-service-details">Donde estamos</a>
                    <hr class="footer-space-links" />
                    <span class="footer-util-links">
                        <a target="_blank"  href="" class="footer-phone-details">myhouse.com</a><span style="margin: 0px 8px;"> | </span>
                        <a target="_blank"  href="" class="footer-phone-details">myhouse.es</a><span style="margin: 0px 8px;"> | </span>
                        <a target="_blank"  href="" class="footer-phone-details">myhouse.net</a><span style="margin: 0px 8px;"> | </span>
                        <a target="_blank"  href="" class="footer-phone-details">myhouse.io</a><span style="margin: 0px 8px;"> | </span>
                        <a target="_blank"  href="" class="footer-phone-details">myhouse.xyz</a>
                    </span>
                </div>
            </div>
        </div>
    </footer>
    <nz-back-top></nz-back-top>
    <!--Ghost buttons-->
    <a id="linkPopup" class="linkPopup" style="display: none;" [routerLink]="['/add',this.routerLinkId]" target="_blank" 
      fragment={{this.routerLinkModel}}></a>